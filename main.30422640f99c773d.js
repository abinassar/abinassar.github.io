(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2032:(Jt,lt,O)=>{"use strict";O.d(lt,{nm:()=>tt});var c=O(2598);O(5062),O(8140);var nt=O(5861),$e=O(2951),st=O(4859),Xe=O(2090),ct=O(1877);const It=new Map,le={activated:!1,tokenObservers:[]},Ce={initialized:!1,enabled:!1};function se(rt){return It.get(rt)||Object.assign({},le)}function W(){return Ce}class Pe{constructor(Ke,wt,Ft,Kt,Vn){if(this.operation=Ke,this.retryPolicy=wt,this.getWaitDuration=Ft,this.lowerBound=Kt,this.upperBound=Vn,this.pending=null,this.nextErrorWaitInterval=Kt,Kt>Vn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ke){var wt=this;return(0,nt.Z)(function*(){wt.stop();try{wt.pending=new Xe.BH,yield function ke(rt){return new Promise(Ke=>{setTimeout(Ke,rt)})}(wt.getNextRun(Ke)),wt.pending.resolve(),yield wt.pending.promise,wt.pending=new Xe.BH,yield wt.operation(),wt.pending.resolve(),yield wt.pending.promise,wt.process(!0).catch(()=>{})}catch(Ft){wt.retryPolicy(Ft)?wt.process(!1).catch(()=>{}):wt.stop()}})()}getNextRun(Ke){if(Ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const wt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),wt}}}const ze=new Xe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tt(rt){if(!se(rt).activated)throw ze.create("use-before-activation",{appName:rt.name})}function qt(rt,Ke){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,nt.Z)(function*({url:rt,body:Ke},wt){const Ft={"Content-Type":"application/json"},Kt=wt.getImmediate({optional:!0});if(Kt){const $i=yield Kt.getHeartbeatsHeader();$i&&(Ft["X-Firebase-Client"]=$i)}const Vn={method:"POST",body:JSON.stringify(Ke),headers:Ft};let Ar,Er;try{Ar=yield fetch(rt,Vn)}catch($i){throw ze.create("fetch-network-error",{originalErrorMessage:$i?.message})}if(200!==Ar.status)throw ze.create("fetch-status-error",{httpStatus:Ar.status});try{Er=yield Ar.json()}catch($i){throw ze.create("fetch-parse-error",{originalErrorMessage:$i?.message})}const vr=Er.ttl.match(/^([\d.]+)(s)$/);if(!vr||!vr[2]||isNaN(Number(vr[1])))throw ze.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Er.ttl}`});const ls=1e3*Number(vr[1]),ps=Date.now();return{token:Er.token,expireTimeMillis:ps+ls,issuedAtTimeMillis:ps}})).apply(this,arguments)}function Lr(rt,Ke){const{projectId:wt,appId:Ft,apiKey:Kt}=rt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${wt}/apps/${Ft}:exchangeDebugToken?key=${Kt}`,body:{debug_token:Ke}}}const Rt="firebase-app-check-store";let Wn=null;function Ir(){return Wn||(Wn=new Promise((rt,Ke)=>{try{const wt=indexedDB.open("firebase-app-check-database",1);wt.onsuccess=Ft=>{rt(Ft.target.result)},wt.onerror=Ft=>{var Kt;Ke(ze.create("storage-open",{originalErrorMessage:null===(Kt=Ft.target.error)||void 0===Kt?void 0:Kt.message}))},wt.onupgradeneeded=Ft=>{0===Ft.oldVersion&&Ft.target.result.createObjectStore(Rt,{keyPath:"compositeKey"})}}catch(wt){Ke(ze.create("storage-open",{originalErrorMessage:wt?.message}))}}),Wn)}function We(){return(We=(0,nt.Z)(function*(rt,Ke){const Ft=(yield Ir()).transaction(Rt,"readwrite"),Vn=Ft.objectStore(Rt).put({compositeKey:rt,value:Ke});return new Promise((Ar,Er)=>{Vn.onsuccess=vr=>{Ar()},Ft.onerror=vr=>{var ls;Er(ze.create("storage-set",{originalErrorMessage:null===(ls=vr.target.error)||void 0===ls?void 0:ls.message}))}})})).apply(this,arguments)}const qn=new ct.Yd("@firebase/app-check");function Mn(rt,Ke){return(0,Xe.hl)()?function un(rt,Ke){return function Fe(rt,Ke){return We.apply(this,arguments)}(function jt(rt){return`${rt.options.appId}-${rt.name}`}(rt),Ke)}(rt,Ke).catch(wt=>{qn.warn(`Failed to write token to IndexedDB. Error: ${wt}`)}):Promise.resolve()}function Kn(){return W().enabled}function En(){return wn.apply(this,arguments)}function wn(){return(wn=(0,nt.Z)(function*(){const rt=W();if(rt.enabled&&rt.token)return rt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bn={error:"UNKNOWN_ERROR"};function nr(rt){return Xe.US.encodeString(JSON.stringify(rt),!1)}function Yn(rt){return Br.apply(this,arguments)}function Br(){return(Br=(0,nt.Z)(function*(rt,Ke=!1){const wt=rt.app;Tt(wt);const Ft=se(wt);let Vn,Kt=Ft.token;if(Kt&&!yt(Kt)&&(Ft.token=void 0,Kt=void 0),!Kt){const vr=yield Ft.cachedTokenPromise;vr&&(yt(vr)?Kt=vr:yield Mn(wt,void 0))}if(!Ke&&Kt&&yt(Kt))return{token:Kt.token};let Er,Ar=!1;if(Kn()){Ft.exchangeTokenPromise||(Ft.exchangeTokenPromise=qt(Lr(wt,yield En()),rt.heartbeatServiceProvider).finally(()=>{Ft.exchangeTokenPromise=void 0}),Ar=!0);const vr=yield Ft.exchangeTokenPromise;return yield Mn(wt,vr),Ft.token=vr,{token:vr.token}}try{Ft.exchangeTokenPromise||(Ft.exchangeTokenPromise=Ft.provider.getToken().finally(()=>{Ft.exchangeTokenPromise=void 0}),Ar=!0),Kt=yield se(wt).exchangeTokenPromise}catch(vr){"appCheck/throttled"===vr.code?qn.warn(vr.message):qn.error(vr),Vn=vr}return Kt?Vn?Er=yt(Kt)?{token:Kt.token,internalError:Vn}:fn(Vn):(Er={token:Kt.token},Ft.token=Kt,yield Mn(wt,Kt)):Er=fn(Vn),Ar&&kt(wt,Er),Er})).apply(this,arguments)}function br(){return(br=(0,nt.Z)(function*(rt){const Ke=rt.app;Tt(Ke);const{provider:wt}=se(Ke);if(Kn()){const Ft=yield En(),{token:Kt}=yield qt(Lr(Ke,Ft),rt.heartbeatServiceProvider);return{token:Kt}}{const{token:Ft}=yield wt.getToken();return{token:Ft}}})).apply(this,arguments)}function Oe(rt,Ke){const wt=se(rt),Ft=wt.tokenObservers.filter(Kt=>Kt.next!==Ke);0===Ft.length&&wt.tokenRefresher&&wt.tokenRefresher.isRunning()&&wt.tokenRefresher.stop(),wt.tokenObservers=Ft}function be(rt){const{app:Ke}=rt,wt=se(Ke);let Ft=wt.tokenRefresher;Ft||(Ft=function qe(rt){const{app:Ke}=rt;return new Pe((0,nt.Z)(function*(){let Ft;if(Ft=se(Ke).token?yield Yn(rt,!0):yield Yn(rt),Ft.error)throw Ft.error;if(Ft.internalError)throw Ft.internalError}),()=>!0,()=>{const wt=se(Ke);if(wt.token){let Ft=wt.token.issuedAtTimeMillis+.5*(wt.token.expireTimeMillis-wt.token.issuedAtTimeMillis)+3e5;return Ft=Math.min(Ft,wt.token.expireTimeMillis-3e5),Math.max(0,Ft-Date.now())}return 0},3e4,96e4)}(rt),wt.tokenRefresher=Ft),!Ft.isRunning()&&wt.isTokenAutoRefreshEnabled&&Ft.start()}function kt(rt,Ke){const wt=se(rt).tokenObservers;for(const Ft of wt)try{"EXTERNAL"===Ft.type&&null!=Ke.error?Ft.error(Ke.error):Ft.next(Ke)}catch{}}function yt(rt){return rt.expireTimeMillis-Date.now()>0}function fn(rt){return{token:nr(bn),error:rt}}class Hn{constructor(Ke,wt){this.app=Ke,this.heartbeatServiceProvider=wt}_delete(){const{tokenObservers:Ke}=se(this.app);for(const wt of Ke)Oe(this.app,wt.next);return Promise.resolve()}}const Cr="app-check-internal";!function Di(){(0,$e._registerComponent)(new st.wA("app-check",rt=>function Pn(rt,Ke){return new Hn(rt,Ke)}(rt.getProvider("app").getImmediate(),rt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((rt,Ke,wt)=>{rt.getProvider(Cr).initialize()})),(0,$e._registerComponent)(new st.wA(Cr,rt=>function Un(rt){return{getToken:Ke=>Yn(rt,Ke),getLimitedUseToken:()=>function lr(rt){return br.apply(this,arguments)}(rt),addTokenListener:Ke=>function Or(rt,Ke,wt,Ft){const{app:Kt}=rt,Vn=se(Kt);if(Vn.tokenObservers=[...Vn.tokenObservers,{next:wt,error:Ft,type:Ke}],Vn.token&&yt(Vn.token)){const Er=Vn.token;Promise.resolve().then(()=>{wt({token:Er.token}),be(rt)}).catch(()=>{})}Vn.cachedTokenPromise.then(()=>be(rt))}(rt,"INTERNAL",Ke),removeTokenListener:Ke=>Oe(rt.app,Ke)}}(rt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)("@firebase/app-check","0.8.0")}();class tt{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},4941:(Jt,lt,O)=>{"use strict";O.d(lt,{zQ:()=>Ue,ww:()=>ut,rT:()=>W,f7:()=>Ne,L6:()=>se,_Q:()=>me,lh:()=>ce,Qv:()=>Ce,nw:()=>dt});var c=O(5062),F=O(8929),G=O(1086),Ae=O(2916),Ee=O(5254),Y=O(6787),de=O(341),Me=O(2654),fe=O(2102),re=O(5279),Q=O(5283);class oe extends F.xQ{constructor(Pe=Number.POSITIVE_INFINITY,ke=Number.POSITIVE_INFINITY,He){super(),this.scheduler=He,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Pe<1?1:Pe,this._windowTime=ke<1?1:ke,ke===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Pe){if(!this.isStopped){const ke=this._events;ke.push(Pe),ke.length>this._bufferSize&&ke.shift()}super.next(Pe)}nextTimeWindow(Pe){this.isStopped||(this._events.push(new Z(this._getNow(),Pe)),this._trimBufferThenGetEvents()),super.next(Pe)}_subscribe(Pe){const ke=this._infiniteTimeWindow,He=ke?this._events:this._trimBufferThenGetEvents(),ze=this.scheduler,Et=He.length;let Tt;if(this.closed)throw new re.N;if(this.isStopped||this.hasError?Tt=Me.w.EMPTY:(this.observers.push(Pe),Tt=new Q.W(this,Pe)),ze&&Pe.add(Pe=new fe.ht(Pe,ze)),ke)for(let en=0;en<Et&&!Pe.closed;en++)Pe.next(He[en]);else for(let en=0;en<Et&&!Pe.closed;en++)Pe.next(He[en].value);return this.hasError?Pe.error(this.thrownError):this.isStopped&&Pe.complete(),Tt}_getNow(){return(this.scheduler||de.c).now()}_trimBufferThenGetEvents(){const Pe=this._getNow(),ke=this._bufferSize,He=this._windowTime,ze=this._events,Et=ze.length;let Tt=0;for(;Tt<Et&&!(Pe-ze[Tt].time<He);)Tt++;return Et>ke&&(Tt=Math.max(Tt,Et-ke)),Tt>0&&ze.splice(0,Tt),ze}}class Z{constructor(Pe,ke){this.time=Pe,this.value=ke}}function Te(Re,Pe,ke){let He;return He=Re&&"object"==typeof Re?Re:{bufferSize:Re,windowTime:Pe,refCount:!1,scheduler:ke},ze=>ze.lift(function et({bufferSize:Re=Number.POSITIVE_INFINITY,windowTime:Pe=Number.POSITIVE_INFINITY,refCount:ke,scheduler:He}){let ze,Tt,Et=0,en=!1,hn=!1;return function(Gn){let Sn;Et++,!ze||en?(en=!1,ze=new oe(Re,Pe,He),Sn=ze.subscribe(this),Tt=Gn.subscribe({next(Ln){ze.next(Ln)},error(Ln){en=!0,ze.error(Ln)},complete(){hn=!0,Tt=void 0,ze.complete()}}),hn&&(Tt=void 0)):Sn=ze.subscribe(this),this.add(()=>{Et--,Sn.unsubscribe(),Sn=void 0,Tt&&!hn&&ke&&0===Et&&(Tt.unsubscribe(),Tt=void 0,ze=void 0)})}}(He))}var he=O(7545);function ye(Re,Pe){return Pe?(0,he.w)(()=>Re,Pe):(0,he.w)(()=>Re)}var je=O(4850),Ze=O(7224),J=O(8915),nt=O(2198),$e=O(2598),st=O(2011),Xe=O(6895),ct=O(2032),It=O(1274);const Ce=new c.OlP("angularfire2.auth.use-emulator"),se=new c.OlP("angularfire2.auth.settings"),me=new c.OlP("angularfire2.auth.tenant-id"),W=new c.OlP("angularfire2.auth.langugage-code"),ce=new c.OlP("angularfire2.auth.use-device-language"),Ne=new c.OlP("angularfire.auth.persistence"),dt=(Re,Pe,ke,He,ze,Et,Tt,en)=>(0,st.cc)(`${Re.name}.auth`,"AngularFireAuth",Re.name,()=>{const hn=Pe.runOutsideAngular(()=>Re.auth());if(ke&&hn.useEmulator(...ke),He&&(hn.tenantId=He),hn.languageCode=ze,Et&&hn.useDeviceLanguage(),Tt)for(const[qt,Gn]of Object.entries(Tt))hn.settings[qt]=Gn;return en&&hn.setPersistence(en),hn},[ke,He,ze,Et,Tt,en]);let Ue=(()=>{class Re{constructor(ke,He,ze,Et,Tt,en,hn,qt,Gn,Sn,Ln,Lr){const Rn=new F.xQ,mr=(0,G.of)(void 0).pipe((0,fe.QV)(Tt.outsideAngular),(0,he.w)(()=>Et.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,4538)))),(0,je.U)(()=>(0,st.on)(ke,Et,He)),(0,je.U)(Rt=>dt(Rt,Et,en,qt,Gn,Sn,hn,Ln)),Te({bufferSize:1,refCount:!1}));if((0,Xe.PM)(ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,G.of)(null);else{mr.pipe((0,Ze.P)()).subscribe();const tr=mr.pipe((0,he.w)(sr=>sr.getRedirectResult().then(un=>un,()=>null)),$e.iC,Te({bufferSize:1,refCount:!1})),Wn=mr.pipe((0,he.w)(sr=>new Ae.y(un=>({unsubscribe:Et.runOutsideAngular(()=>sr.onAuthStateChanged(or=>un.next(or),or=>un.error(or),()=>un.complete()))})))),Ir=mr.pipe((0,he.w)(sr=>new Ae.y(un=>({unsubscribe:Et.runOutsideAngular(()=>sr.onIdTokenChanged(or=>un.next(or),or=>un.error(or),()=>un.complete()))}))));this.authState=tr.pipe(ye(Wn),(0,J.R)(Tt.outsideAngular),(0,fe.QV)(Tt.insideAngular)),this.user=tr.pipe(ye(Ir),(0,J.R)(Tt.outsideAngular),(0,fe.QV)(Tt.insideAngular)),this.idToken=this.user.pipe((0,he.w)(sr=>sr?(0,Ee.D)(sr.getIdToken()):(0,G.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(sr=>sr?(0,Ee.D)(sr.getIdTokenResult()):(0,G.of)(null))),this.credential=(0,Y.T)(tr,Rn,this.authState.pipe((0,nt.h)(sr=>!sr))).pipe((0,je.U)(sr=>sr?.user?sr:null),(0,J.R)(Tt.outsideAngular),(0,fe.QV)(Tt.insideAngular))}return(0,st.pX)(this,mr,Et,{spy:{apply:(Rt,tr,Wn)=>{(Rt.startsWith("signIn")||Rt.startsWith("createUser"))&&Wn.then(Ir=>Rn.next(Ir))}}})}}return Re.\u0275fac=function(ke){return new(ke||Re)(c.LFG(st.Dh),c.LFG(st.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG($e.HU),c.LFG(Ce,8),c.LFG(se,8),c.LFG(me,8),c.LFG(W,8),c.LFG(ce,8),c.LFG(Ne,8),c.LFG(ct.nm,8))},Re.\u0275prov=c.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"any"}),Re})(),ut=(()=>{class Re{constructor(){It.Z.registerVersion("angularfire",$e.q4.full,"auth-compat")}}return Re.\u0275fac=function(ke){return new(ke||Re)},Re.\u0275mod=c.oAB({type:Re}),Re.\u0275inj=c.cJS({providers:[Ue]}),Re})()},3850:(Jt,lt,O)=>{"use strict";O.d(lt,{ST:()=>Lc,yb:()=>Mv});var c=O(5062),F=O(353),G=O(2916),Ae=O(5254),Ee=O(1086),Y=O(2598),de=O(3489);function Me(){return r=>r.lift(new fe)}class fe{call(e,t){return t.subscribe(new re(e))}}class re extends de.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var le,Q=O(1059),oe=O(4850),Z=O(2014),Te=O(5778),et=O(2198),he=O(2011),ye=O(6895),Ze=(O(4538),O(3942)),J=O(5861),nt=O(2951),$e=O(4859),st=O(1877),Xe=O(2090),ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It={},Ce=Ce||{},se=ct||self;function me(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function W(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Ne="closure_uid_"+(1e9*Math.random()>>>0),dt=0;function Ue(r,e,t){return r.call.apply(r.bind,arguments)}function ut(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Re(r,e,t){return(Re=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ue:ut).apply(null,arguments)}function Pe(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function ke(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,d){for(var g=Array(arguments.length-2),D=2;D<arguments.length;D++)g[D-2]=arguments[D];return e.prototype[a].apply(s,g)}}function He(){this.s=this.s,this.o=this.o}He.prototype.s=!1,He.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ce(r){Object.prototype.hasOwnProperty.call(r,Ne)&&r[Ne]||(r[Ne]=++dt)}(this)},He.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Et=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Tt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function en(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(me(s)){const a=r.length||0,d=s.length||0;r.length=a+d;for(let g=0;g<d;g++)r[a+g]=s[g]}else r.push(s)}}function hn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return r}();function Gn(r){return/^[\s\xa0]*$/.test(r)}function Sn(){var r=se.navigator;return r&&(r=r.userAgent)?r:""}function Ln(r){return-1!=Sn().indexOf(r)}function Lr(r){return Lr[" "](r),r}Lr[" "]=function(){};var or,r,mr=Ln("Opera"),Rt=Ln("Trident")||Ln("MSIE"),tr=Ln("Edge"),Wn=tr||Rt,Ir=Ln("Gecko")&&!(-1!=Sn().toLowerCase().indexOf("webkit")&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),sr=-1!=Sn().toLowerCase().indexOf("webkit")&&!Ln("Edge");function un(){var r=se.document;return r?r.documentMode:void 0}e:{var Nt="",Fe=(r=Sn(),Ir?/rv:([^\);]+)(\)|;)/.exec(r):tr?/Edge\/([\d\.]+)/.exec(r):Rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):sr?/WebKit\/(\S+)/.exec(r):mr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Fe&&(Nt=Fe?Fe[1]:""),Rt){var We=un();if(null!=We&&We>parseFloat(Nt)){or=String(We);break e}}or=Nt}var jt=se.document&&Rt&&(un()||parseInt(or,10))||void 0;function qn(r,e){if(hn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ir){e:{try{Lr(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:fr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&qn.$.h.call(this)}}ke(qn,hn);var fr={2:"touch",3:"pen",4:"mouse"};qn.prototype.h=function(){qn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),Mn=0;function yr(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Mn,this.fa=this.ia=!1}function $r(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Kn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function wn(r){const e={};for(const t in r)e[t]=r[t];return e}const jr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let d=0;d<jr.length;d++)t=jr[d],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function nr(r){this.src=r,this.g={},this.h=0}function Yn(r,e){var t=e.type;if(t in r.g){var d,s=r.g[t],a=Et(s,e);(d=0<=a)&&Array.prototype.splice.call(s,a,1),d&&($r(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Br(r,e,t,s){for(var a=0;a<r.length;++a){var d=r[a];if(!d.fa&&d.listener==e&&d.capture==!!t&&d.la==s)return a}return-1}nr.prototype.add=function(r,e,t,s,a){var d=r.toString();(r=this.g[d])||(r=this.g[d]=[],this.h++);var g=Br(r,e,s,a);return-1<g?(e=r[g],t||(e.ia=!1)):((e=new yr(e,this.src,d,!!s,a)).ia=t,r.push(e)),e};var lr="closure_lm_"+(1e6*Math.random()|0),br={};function Or(r,e,t,s,a){if(s&&s.once)return qe(r,e,t,s,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Or(r,e[d],t,s,a);return null}return t=ir(t),r&&r[Qt]?r.O(e,t,W(s)?!!s.capture:!!s,a):Oe(r,e,t,!1,s,a)}function Oe(r,e,t,s,a,d){if(!e)throw Error("Invalid event type");var g=W(a)?!!a.capture:!!a,D=Pn(r);if(D||(r[lr]=D=new nr(r)),(t=D.add(e,t,s,g,d)).proxy)return t;if(s=function be(){const e=Hn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)qt||(a=g),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(fn(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function qe(r,e,t,s,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)qe(r,e[d],t,s,a);return null}return t=ir(t),r&&r[Qt]?r.P(e,t,W(s)?!!s.capture:!!s,a):Oe(r,e,t,!0,s,a)}function kt(r,e,t,s,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)kt(r,e[d],t,s,a);else s=W(s)?!!s.capture:!!s,t=ir(t),r&&r[Qt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Br(d=r.g[e],t,s,a))&&($r(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete r.g[e],r.h--))):r&&(r=Pn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Br(e,t,s,a)),(t=-1<r?e[r]:null)&&yt(t))}function yt(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Qt])Yn(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(fn(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Pn(e))?(Yn(t,r),0==t.h&&(t.src=null,e[lr]=null)):$r(r)}}}function fn(r){return r in br?br[r]:br[r]="on"+r}function Hn(r,e){if(r.fa)r=!0;else{e=new qn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&yt(r),r=t.call(s,e)}return r}function Pn(r){return(r=r[lr])instanceof nr?r:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(r){return"function"==typeof r?r:(r[Un]||(r[Un]=function(e){return r.handleEvent(e)}),r[Un])}function Ye(){He.call(this),this.i=new nr(this),this.S=this,this.J=null}function we(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new hn(e,r);else if(e instanceof hn)e.target=e.target||r;else{var a=e;bn(e=new hn(s,r),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];a=ve(g,s,!0,e)&&a}if(a=ve(g=e.g=r,s,!0,e)&&a,a=ve(g,s,!1,e)&&a,t)for(d=0;d<t.length;d++)a=ve(g=e.g=t[d],s,!1,e)&&a}function ve(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.fa&&g.capture==t){var D=g.listener,L=g.la||g.src;g.ia&&Yn(r.i,g),a=!1!==D.call(L,s)&&a}}return a&&!s.defaultPrevented}ke(Ye,He),Ye.prototype[Qt]=!0,Ye.prototype.removeEventListener=function(r,e,t,s){kt(this,r,e,t,s)},Ye.prototype.N=function(){if(Ye.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)$r(t[s]);delete r.g[e],r.h--}}this.J=null},Ye.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Ye.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Be=se.JSON.stringify;function on(){var r=vn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ot=new class bt{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xt,r=>r.reset());class xt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function dn(r){se.setTimeout(()=>{throw r},0)}let Xt,Jn=!1,vn=new class gt{constructor(){this.h=this.g=null}add(e,t){const s=ot.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},rr=()=>{const r=se.Promise.resolve(void 0);Xt=()=>{r.then(Qr)}};var Qr=()=>{for(var r;r=on();){try{r.h.call(r.g)}catch(t){dn(t)}var e=ot;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Jn=!1};function Wr(r,e){Ye.call(this),this.h=r||1,this.g=e||se,this.j=Re(this.qb,this),this.l=Date.now()}function ai(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function zr(r,e,t){if("function"==typeof r)t&&(r=Re(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Re(r.handleEvent,r)}return 2147483647<Number(e)?-1:se.setTimeout(r,e||0)}function Ei(r){r.g=zr(()=>{r.g=null,r.i&&(r.i=!1,Ei(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ke(Wr,Ye),(le=Wr.prototype).ga=!1,le.T=null,le.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),we(this,"tick"),this.ga&&(ai(this),this.start()))}},le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.N=function(){Wr.$.N.call(this),ai(this),delete this.g};class bi extends He{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ei(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(r){He.call(this),this.h=r,this.g={}}ke(pr,He);var ti=[];function Vi(r,e,t,s){Array.isArray(t)||(t&&(ti[0]=t.toString()),t=ti);for(var a=0;a<t.length;a++){var d=Or(e,t[a],s||r.handleEvent,!1,r.h||r);if(!d)break;r.g[d.key]=d}}function Dr(r){Kn(r.g,function(e,t){this.g.hasOwnProperty(t)&&yt(e)},r),r.g={}}function Cr(){this.g=!0}function ge(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ft(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<a.length;g++)a[g]=""}}}return Be(t)}catch{return e}}(r,t)+(s?" "+s:"")})}pr.prototype.N=function(){pr.$.N.call(this),Dr(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cr.prototype.Ea=function(){this.g=!1},Cr.prototype.info=function(){};var pe={},Se=null;function ht(){return Se=Se||new Ye}function At(r){hn.call(this,pe.Ta,r)}function Mt(r){const e=ht();we(e,new At(e))}function Bt(r,e){hn.call(this,pe.STAT_EVENT,r),this.stat=e}function Yt(r){const e=ht();we(e,new Bt(e,r))}function On(r,e){hn.call(this,pe.Ua,r),this.size=e}function kn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){r()},e)}pe.Ta="serverreachability",ke(At,hn),pe.STAT_EVENT="statevent",ke(Bt,hn),pe.Ua="timingevent",ke(On,hn);var hr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Sr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vr(){}function fs(){}Vr.prototype.h=null;var Ft,rt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ke(){hn.call(this,"d")}function wt(){hn.call(this,"c")}function Kt(){}function Vn(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new pr(this),this.P=Er,this.V=new Wr(r=Wn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}ke(Ke,hn),ke(wt,hn),ke(Kt,Vr),Kt.prototype.g=function(){return new XMLHttpRequest},Kt.prototype.i=function(){return{}},Ft=new Kt;var Er=45e3,vr={},ls={};function ps(r,e,t){r.L=1,r.v=ki(is(e)),r.s=t,r.S=!0,$i(r,null)}function $i(r,e){r.G=Date.now(),Is(r),r.A=is(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),$t(t.i,"t",s),r.C=0,t=r.l.J,r.h=new Ar,r.g=Du(r.l,t?e:null,!r.s),0<r.O&&(r.M=new bi(Re(r.Pa,r,r.g),r.O)),Vi(r.U,r.g,"readystatechange",r.nb),e=r.I?wn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Mt(),function Di(r,e,t,s,a,d){r.info(function(){if(r.g)if(d)for(var g="",D=d.split("&"),L=0;L<D.length;L++){var H=D[L].split("=");if(1<H.length){var ie=H[0];H=H[1];var Le=ie.split("_");g=2<=Le.length&&"type"==Le[1]?g+(ie+"=")+H+"&":g+(ie+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+g})}(r.j,r.u,r.A,r.m,r.W,r.s)}function ws(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Ci(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=gs(r,t),a==ls){4==e&&(r.o=4,Yt(14),s=!1),ge(r.j,r.m,null,"[Incomplete Response]");break}if(a==vr){r.o=4,Yt(15),ge(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}ge(r.j,r.m,a,null),ds(r,a)}ws(r)&&a!=ls&&a!=vr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Yt(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ji(e),e.M=!0,Yt(11))):(ge(r.j,r.m,t,"[Invalid Chunked Response]"),Xi(r),mi(r))}function gs(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?ls:(t=Number(e.substring(t,s)),isNaN(t)?vr:(s+=1)+t>e.length?ls:(e=e.slice(s,s+t),r.C=s+t,e))}function Is(r){r.Y=Date.now()+r.P,Ti(r,r.P)}function Ti(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=kn(Re(r.lb,r),e)}function rs(r){r.B&&(se.clearTimeout(r.B),r.B=null)}function mi(r){0==r.l.H||r.J||Ya(r.l,r)}function Xi(r){rs(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,ai(r.V),Dr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function ds(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||ri(t.i,r)))if(!r.K&&ri(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;ci(t),go(t)}wa(t),Yt(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=kn(Re(t.ib,t),6e3));if(1>=ui(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else qs(t,11)}else if((r.K||t.g==r)&&ci(t),!Gn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let H=a[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const ie=H[3];null!=ie&&(t.ra=ie,t.l.info("VER="+t.ra));const Le=H[4];null!=Le&&(t.Ga=Le,t.l.info("SVER="+t.Ga));const Dt=H[5];null!=Dt&&"number"==typeof Dt&&0<Dt&&(t.L=s=1.5*Dt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Lt=r.g;if(Lt){const an=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(an){var d=s.i;d.g||-1==an.indexOf("spdy")&&-1==an.indexOf("quic")&&-1==an.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(v(d,d.h),d.h=null))}if(s.F){const In=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;In&&(s.Da=In,Ur(s.I,s.F,In))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var g=r;if((s=t).wa=na(s,s.J?s.pa:null,s.Y),g.K){V(s.i,g);var D=g,L=s.L;L&&D.setTimeout(L),D.B&&(rs(D),Is(D)),s.g=g}else ec(s);0<t.j.length&&to(t)}else"stop"!=H[0]&&"close"!=H[0]||qs(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?qs(t,7):Bo(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Mt()}catch{}}function bs(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(me(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Xs(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(me(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ps(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(me(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,d=0;d<a;d++)e.call(void 0,s[d],t&&t[d],r)}(le=Vn.prototype).setTimeout=function(r){this.P=r},le.nb=function(r){r=r.target;const e=this.M;e&&3==As(r)?e.l():this.Pa(r)},le.Pa=function(r){try{if(r==this.g)e:{const ie=As(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ie)&&(3!=ie||Wn||this.g&&(this.h.h||this.g.ja()||Ju(this.g)))){this.J||4!=ie||7==e||Mt(),rs(this);var t=this.g.da();this.ca=t;t:if(ws(this)){var s=Ju(this.g);r="";var a=s.length,d=4==As(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),mi(this);var g="";break t}this.h.i=new se.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:d&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==t,function X(r,e,t,s,a,d,g){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.W,ie,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,L=this.g;if((D=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gn(D)){var H=D;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Yt(12),Xi(this),mi(this);break e}ge(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,t)}this.S?(Ci(this,ie,g),Wn&&this.i&&3==ie&&(Vi(this.U,this.V,"tick",this.mb),this.V.start())):(ge(this.j,this.m,g,null),ds(this,g)),4==ie&&Xi(this),this.i&&!this.J&&(4==ie?Ya(this.l,this):(this.i=!1,Is(this)))}else(function Ea(r){const e={};r=(r.g&&2<=As(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Gn(r[s]))continue;var t=cn(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const d=e[a]||[];e[a]=d,d.push(t)}!function En(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Yt(12)):(this.o=0,Yt(13)),Xi(this),mi(this)}}}catch{}},le.mb=function(){if(this.g){var r=As(this.g),e=this.g.ja();this.C<e.length&&(rs(this),Ci(this,r,e),this.i&&4!=r&&Is(this))}},le.cancel=function(){this.J=!0,Xi(this)},le.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function tt(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Mt(),Yt(17)),Xi(this),this.o=2,mi(this)):Ti(this,this.Y-r)};var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Yr){this.h=r.h,Js(this,r.j),this.s=r.s,this.g=r.g,ni(this,r.m),this.l=r.l;var e=r.i,t=new B;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),eo(this,t),this.o=r.o}else r&&(e=String(r).match(Qs))?(this.h=!1,Js(this,e[1]||"",!0),this.s=di(e[2]||""),this.g=di(e[3]||"",!0),ni(this,e[4]),this.l=di(e[5]||"",!0),eo(this,e[6]||"",!0),this.o=di(e[7]||"")):(this.h=!1,this.i=new B(null,this.h))}function is(r){return new Yr(r)}function Js(r,e,t){r.j=t?di(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ni(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function eo(r,e,t){e instanceof B?(r.i=e,function gr(r,e){e&&!r.j&&(ae(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Ge(this,s),$t(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Ui(e,k)),r.i=new B(e,r.h))}function Ur(r,e,t){r.i.set(e,t)}function ki(r){return Ur(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function di(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ui(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Zr),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Zr(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Yr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Ui(e,js,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Ui(e,js,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Ui(t,"/"==t.charAt(0)?Gs:Hs,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Ui(t,ne)),r.join("")};var js=/[#\/\?@]/g,Hs=/[#\?:]/g,Gs=/[#\?]/g,k=/[#\?@]/g,ne=/#/g;function B(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ae(r){r.g||(r.g=new Map,r.h=0,r.i&&function ms(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var d=r[t].substring(0,s);a=r[t].substring(s+1)}else d=r[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ge(r,e){ae(r),e=Tn(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Ot(r,e){return ae(r),e=Tn(r,e),r.g.has(e)}function $t(r,e,t){Ge(r,e),0<t.length&&(r.i=null,r.g.set(Tn(r,e),Tt(t)),r.h+=t.length)}function Tn(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ar(r){this.l=r||mn,r=se.PerformanceNavigationTiming?0<(r=se.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=B.prototype).add=function(r,e){ae(this),this.i=null,r=Tn(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},le.forEach=function(r,e){ae(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},le.ta=function(){ae(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let d=0;d<a.length;d++)t.push(e[s])}return t},le.Z=function(r){ae(this);let e=[];if("string"==typeof r)Ot(this,r)&&(e=e.concat(this.g.get(Tn(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},le.set=function(r,e){return ae(this),this.i=null,Ot(this,r=Tn(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},le.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const d=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var a=d;""!==g[s]&&(a+="="+encodeURIComponent(String(g[s]))),r.push(a)}}return this.i=r.join("&")};var mn=10;function hi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ui(r){return r.h?1:r.g?r.g.size:0}function ri(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function v(r,e){r.g?r.g.add(e):r.h=e}function V(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function y(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Tt(r.i)}function ue(){this.g=new class{stringify(r){return se.JSON.stringify(r,void 0)}parse(r){return se.JSON.parse(r,void 0)}}}function xe(r,e,t){const s=t||"";try{bs(r,function(a,d){let g=a;W(a)&&(g=Be(a)),e.push(s+d+"="+encodeURIComponent(g))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Cn(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function er(r){this.l=r.fc||null,this.j=r.ob||!1}function Qn(r,e){Ye.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=N,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ar.prototype.cancel=function(){if(this.i=y(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},ke(er,Vr),er.prototype.g=function(){return new Qn(this.l,this.j)},er.prototype.i=function(r){return function(){return r}}({}),ke(Qn,Ye);var N=0;function M(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function S(r){r.readyState=4,r.l=null,r.j=null,r.A=null,q(r)}function q(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(le=Qn.prototype).open=function(r,e){if(this.readyState!=N)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,q(this)},le.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,S(this)),this.readyState=N},le.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,q(this)),this.g&&(this.readyState=3,q(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;M(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},le.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?S(this):q(this),3==this.readyState&&M(this)}},le.Za=function(r){this.g&&(this.response=this.responseText=r,S(this))},le.Ya=function(r){this.g&&(this.response=r,S(this))},le.ka=function(){this.g&&S(this)},le.setRequestHeader=function(r,e){this.v.append(r,e)},le.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var _t=se.JSON.parse;function sn(r){Ye.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rr,this.L=this.M=!1}ke(sn,Ye);var Rr="",zi=/^https?$/i,Qi=["POST","PUT"];function wi(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Ss(r),ss(r)}function Ss(r){r.F||(r.F=!0,we(r,"complete"),we(r,"error"))}function ys(r){if(r.h&&typeof Ce<"u"&&(!r.C[1]||4!=As(r)||2!=r.da()))if(r.v&&4==As(r))zr(r.La,0,r);else if(we(r,"readystatechange"),4==As(r)){r.h=!1;try{const g=r.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===g){var a=String(r.I).match(Qs)[1]||null;!a&&se.self&&se.self.location&&(a=se.self.location.protocol.slice(0,-1)),s=!zi.test(a?a.toLowerCase():"")}t=s}if(t)we(r,"complete"),we(r,"success");else{r.m=6;try{var d=2<As(r)?r.g.statusText:""}catch{d=""}r.j=d+" ["+r.da()+"]",Ss(r)}}finally{ss(r)}}}function ss(r,e){if(r.g){Iu(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||we(r,"ready");try{t.onreadystatechange=s}catch{}}}function Iu(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(se.clearTimeout(r.A),r.A=null)}function As(r){return r.g?r.g.readyState:0}function Ju(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Rr:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Jo(r){let e="";return Kn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function zs(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Jo(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ur(r,e,t))}function ea(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function po(r){this.Ga=0,this.j=[],this.l=new Cr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ea("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ea("baseRetryDelayMs",5e3,r),this.hb=ea("retryDelaySeedMs",1e4,r),this.eb=ea("forwardChannelMaxRetries",2,r),this.xa=ea("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new ar(r&&r.concurrentRequestLimit),this.Ja=new ue,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Bo(r){if(qa(r),3==r.H){var e=r.W++,t=is(r.I);if(Ur(t,"SID",r.K),Ur(t,"RID",e),Ur(t,"TYPE","terminate"),ta(r,t),(e=new Vn(r,r.l,e)).L=2,e.v=ki(is(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=Du(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Is(e)}Za(r)}function go(r){r.g&&(Ji(r),r.g.cancel(),r.g=null)}function qa(r){go(r),r.u&&(se.clearTimeout(r.u),r.u=null),ci(r),r.i.cancel(),r.m&&("number"==typeof r.m&&se.clearTimeout(r.m),r.m=null)}function to(r){if(!hi(r.i)&&!r.m){r.m=!0;var e=r.Na;Xt||rr(),Jn||(Xt(),Jn=!0),vn.add(e,r),r.C=0}}function Ka(r,e){var t;t=e?e.m:r.W++;const s=is(r.I);Ur(s,"SID",r.K),Ur(s,"RID",t),Ur(s,"AID",r.V),ta(r,s),r.o&&r.s&&zs(s,r.o,r.s),t=new Vn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=no(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),v(r.i,t),ps(t,s,e)}function ta(r,e){r.na&&Kn(r.na,function(t,s){Ur(e,s,t)}),r.h&&bs({},function(t,s){Ur(e,s,t)})}function no(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Re(r.h.Va,r.h,r):null;e:{var a=r.j;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=a[0].g,g.push("ofs="+d)):d=0:g.push("ofs="+d);let D=!0;for(let L=0;L<t;L++){let H=a[L].g;const ie=a[L].map;if(H-=d,0>H)d=Math.max(0,a[L].g-100),D=!1;else try{xe(ie,g,"req"+H+"_")}catch{s&&s(ie)}}if(D){s=g.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function ec(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Xt||rr(),Jn||(Xt(),Jn=!0),vn.add(e,r),r.A=0}}function wa(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=kn(Re(r.Ma,r),bu(r,r.A)),r.A++,0))}function Ji(r){null!=r.B&&(se.clearTimeout(r.B),r.B=null)}function Ws(r){r.g=new Vn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=is(r.wa);Ur(e,"RID","rpc"),Ur(e,"SID",r.K),Ur(e,"AID",r.V),Ur(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Ur(e,"TO",r.qa),Ur(e,"TYPE","xmlhttp"),ta(r,e),r.o&&r.s&&zs(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=ki(is(e)),t.s=null,t.S=!0,$i(t,r)}function ci(r){null!=r.v&&(se.clearTimeout(r.v),r.v=null)}function Ya(r,e){var t=null;if(r.g==e){ci(r),Ji(r),r.g=null;var s=2}else{if(!ri(r.i,e))return;t=e.F,V(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;we(s=ht(),new On(s,t)),to(r)}else ec(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function To(r,e){return!(ui(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=kn(Re(r.Na,r,e),bu(r,r.C)),r.C++,0)))}(r,e)||2==s&&wa(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:qs(r,5);break;case 4:qs(r,10);break;case 3:qs(r,6);break;default:qs(r,2)}}function bu(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function qs(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Re(r.pb,r);t||(t=new Yr("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||Js(t,"https"),ki(t)),function Ht(r,e){const t=new Cr;if(se.Image){const s=new Image;s.onload=Pe(Cn,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Pe(Cn,t,s,"TestLoadImage: error",!1,e),s.onabort=Pe(Cn,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Pe(Cn,t,s,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Yt(2);r.H=0,r.h&&r.h.za(e),Za(r),qa(r)}function Za(r){if(r.H=0,r.ma=[],r.h){const e=y(r.i);(0!=e.length||0!=r.j.length)&&(en(r.ma,e),en(r.ma,r.j),r.i.i.length=0,Tt(r.j),r.j.length=0),r.h.ya()}}function na(r,e,t){var s=t instanceof Yr?is(t):new Yr(t);if(""!=s.g)e&&(s.g=e+"."+s.g),ni(s,s.m);else{var a=se.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var d=new Yr(null);s&&Js(d,s),e&&(d.g=e),a&&ni(d,a),t&&(d.l=t),s=d}return e=r.Da,(t=r.F)&&e&&Ur(s,t,e),Ur(s,"VER",r.ra),ta(r,s),s}function Du(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sn(t&&r.Ha&&!r.va?new er({ob:!0}):r.va)).Oa(r.J),e}function mo(){}function So(){if(Rt&&!(10<=Number(jt)))throw Error("Environmental error: no available transport.")}function es(r,e){Ye.call(this),this.g=new po(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Gn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new $o(this)}function Ia(r){Ke.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Vo(){wt.call(this),this.status=1}function $o(r){this.g=r}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ba(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var d=r.g[3],g=(e=r.g[0])+(d^(t=r.g[1])&((a=r.g[2])^d))+s[0]+3614090360&4294967295;g=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=t+(g<<7&4294967295|g>>>25))+((g=d+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^d&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^t&(a^d))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=d+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^d&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^t&(a^d))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=d+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^d&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^t&(a^d))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=d+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^d&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(a^d&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=d+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=t+(d^e&(a^d))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^d&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=d+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=t+(d^e&(a^d))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^d&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=d+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=t+(d^e&(a^d))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^d&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=d+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=t+(d^e&(a^d))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(t^a^d)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=a+(d^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^d)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=a+(d^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^d)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=a+(d^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^d^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^d)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=a+(d^e^t)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(a^(t|~d))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=d+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(d|~t))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=t+(d^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~d))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=d+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(d|~t))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=t+(d^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~d))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=d+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(d|~t))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=t+(d^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((d=(e=t+((g=e+(a^(t|~d))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=d+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((a=d+((g=a+(e^(d|~t))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(g<<21&4294967295|g>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+d&4294967295}function qr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var d=0|r[a];s&&d==e||(t[a]=d,s=!1)}this.g=t}(le=sn.prototype).Oa=function(r){this.M=r},le.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ft.g(),this.C=function gi(r){return r.h||(r.h=r.i())}(this.u?this.u:Ft),this.g.onreadystatechange=Re(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(d){return void wi(this,d)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())t.set(d,s.get(d))}s=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),a=se.FormData&&r instanceof se.FormData,!(0<=Et(Qi,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of t)this.g.setRequestHeader(d,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Iu(this),0<this.B&&((this.L=function Jr(r){return Rt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Re(this.ua,this)):this.A=zr(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(d){wi(this,d)}},le.ua=function(){typeof Ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,we(this,"timeout"),this.abort(8))},le.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,we(this,"complete"),we(this,"abort"),ss(this))},le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ss(this,!0)),sn.$.N.call(this)},le.La=function(){this.s||(this.G||this.v||this.l?ys(this):this.kb())},le.kb=function(){ys(this)},le.isActive=function(){return!!this.g},le.da=function(){try{return 2<As(this)?this.g.status:-1}catch{return-1}},le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),_t(e)}},le.Ia=function(){return this.m},le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=po.prototype).ra=8,le.H=1,le.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Vn(this,this.l,r);let d=this.s;if(this.U&&(d?(d=wn(d),bn(d,this.U)):d=this.U),null!==this.o||this.O||(a.I=d,d=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=no(this,a,e),Ur(t=is(this.I),"RID",r),Ur(t,"CVER",22),this.F&&Ur(t,"X-HTTP-Session-Id",this.F),ta(this,t),d&&(this.O?e="headers="+encodeURIComponent(String(Jo(d)))+"&"+e:this.o&&zs(t,this.o,d)),v(this.i,a),this.bb&&Ur(t,"TYPE","init"),this.P?(Ur(t,"$req",e),Ur(t,"SID","null"),a.aa=!0,ps(a,t,null)):ps(a,t,e),this.H=2}}else 3==this.H&&(r?Ka(this,r):0==this.j.length||hi(this.i)||Ka(this))},le.Ma=function(){if(this.u=null,Ws(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=kn(Re(this.jb,this),r)}},le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yt(10),go(this),Ws(this))},le.ib=function(){null!=this.v&&(this.v=null,go(this),wa(this),Yt(19))},le.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Yt(2)):(this.l.info("Failed to ping google.com"),Yt(1))},le.isActive=function(){return!!this.h&&this.h.isActive(this)},(le=mo.prototype).Ba=function(){},le.Aa=function(){},le.za=function(){},le.ya=function(){},le.isActive=function(){return!0},le.Va=function(){},So.prototype.g=function(r,e){return new es(r,e)},ke(es,Ye),es.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Yt(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=na(r,null,r.Y),to(r)},es.prototype.close=function(){Bo(this.g)},es.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Be(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&to(e)},es.prototype.N=function(){this.g.h=null,delete this.j,Bo(this.g),delete this.g,es.$.N.call(this)},ke(Ia,Ke),ke(Vo,wt),ke($o,mo),$o.prototype.Ba=function(){we(this.g,"a")},$o.prototype.Aa=function(r){we(this.g,new Ia(r))},$o.prototype.za=function(r){we(this.g,new Vo)},$o.prototype.ya=function(){we(this.g,"b")},ke(Wi,function Os(){this.blockSize=-1}),Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wi.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,d=0;d<e;){if(0==a)for(;d<=t;)ba(this,r,d),d+=this.blockSize;if("string"==typeof r){for(;d<e;)if(s[a++]=r.charCodeAt(d++),a==this.blockSize){ba(this,s),a=0;break}}else for(;d<e;)if(s[a++]=r[d++],a==this.blockSize){ba(this,s),a=0;break}}this.h=a,this.i+=e},Wi.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var ra={};function ia(r){return-128<=r&&128>r?function Rn(r,e){var t=ra;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new qr([0|e],0>e?-1:0)}):new qr([0|r],0>r?-1:0)}function ro(r){if(isNaN(r)||!isFinite(r))return Da;if(0>r)return Ni(ro(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Cu;return new qr(e,0)}var Cu=4294967296,Da=ia(0),Ao=ia(1),tc=ia(16777216);function xo(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Ds(r){return-1==r.h}function Ni(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new qr(t,~r.h).add(Ao)}function Qa(r,e){return r.add(Ni(e))}function io(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Cs(r,e){this.g=r,this.h=e}function ks(r,e){if(xo(e))throw Error("division by zero");if(xo(r))return new Cs(Da,Da);if(Ds(r))return e=ks(Ni(r),e),new Cs(Ni(e.g),Ni(e.h));if(Ds(e))return e=ks(r,Ni(e)),new Cs(Ni(e.g),e.h);if(30<r.g.length){if(Ds(r)||Ds(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ao,s=e;0>=s.X(r);)t=sa(t),s=sa(s);var a=Ks(t,1),d=Ks(s,1);for(s=Ks(s,2),t=Ks(t,2);!xo(s);){var g=d.add(s);0>=g.X(r)&&(a=a.add(t),d=g),s=Ks(s,1),t=Ks(t,1)}return e=Qa(r,a.R(e)),new Cs(a,e)}for(a=Da;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),g=(d=ro(t)).R(e);Ds(g)||0<g.X(r);)g=(d=ro(t-=s)).R(e);xo(d)&&(d=Ao),a=a.add(d),r=Qa(r,g)}return new Cs(a,r)}function sa(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new qr(t,r.h)}function Ks(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],d=0;d<s;d++)a[d]=0<e?r.D(d+t)>>>e|r.D(d+t+1)<<32-e:r.D(d+t);return new qr(a,r.h)}(le=qr.prototype).ea=function(){if(Ds(this))return-Ni(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Cu+s)*e,e*=Cu}return r},le.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(xo(this))return"0";if(Ds(this))return"-"+Ni(this).toString(r);for(var e=ro(Math.pow(r,6)),t=this,s="";;){var a=ks(t,e).g,d=((0<(t=Qa(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(xo(t=a))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},le.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},le.X=function(r){return Ds(r=Qa(this,r))?-1:xo(r)?0:1},le.abs=function(){return Ds(this)?Ni(this):this},le.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var d=s+(65535&this.D(a))+(65535&r.D(a)),g=(d>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=g>>>16,t[a]=(g&=65535)<<16|(d&=65535)}return new qr(t,-2147483648&t[t.length-1]?-1:0)},le.R=function(r){if(xo(this)||xo(r))return Da;if(Ds(this))return Ds(r)?Ni(this).R(Ni(r)):Ni(Ni(this).R(r));if(Ds(r))return Ni(this.R(Ni(r)));if(0>this.X(tc)&&0>r.X(tc))return ro(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var d=this.D(s)>>>16,g=65535&this.D(s),D=r.D(a)>>>16,L=65535&r.D(a);t[2*s+2*a]+=g*L,io(t,2*s+2*a),t[2*s+2*a+1]+=d*L,io(t,2*s+2*a+1),t[2*s+2*a+1]+=g*D,io(t,2*s+2*a+1),t[2*s+2*a+2]+=d*D,io(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new qr(t,0)},le.gb=function(r){return ks(this,r).h},le.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new qr(t,this.h&r.h)},le.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new qr(t,this.h|r.h)},le.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new qr(t,this.h^r.h)},So.prototype.createWebChannel=So.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Sr.COMPLETE="complete",fs.EventType=rt,rt.OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",Ye.prototype.listen=Ye.prototype.O,sn.prototype.listenOnce=sn.prototype.P,sn.prototype.getLastError=sn.prototype.Sa,sn.prototype.getLastErrorCode=sn.prototype.Ia,sn.prototype.getStatus=sn.prototype.da,sn.prototype.getResponseJson=sn.prototype.Wa,sn.prototype.getResponseText=sn.prototype.ja,sn.prototype.send=sn.prototype.ha,sn.prototype.setWithCredentials=sn.prototype.Oa,Wi.prototype.digest=Wi.prototype.l,Wi.prototype.reset=Wi.prototype.reset,Wi.prototype.update=Wi.prototype.j,qr.prototype.add=qr.prototype.add,qr.prototype.multiply=qr.prototype.R,qr.prototype.modulo=qr.prototype.gb,qr.prototype.compare=qr.prototype.X,qr.prototype.toNumber=qr.prototype.ea,qr.prototype.toString=qr.prototype.toString,qr.prototype.getBits=qr.prototype.D,qr.fromNumber=ro,qr.fromString=function Xa(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Ni(Xa(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ro(Math.pow(e,8)),s=Da,a=0;a<r.length;a+=8){var d=Math.min(8,r.length-a),g=parseInt(r.substring(a,a+d),e);8>d?(d=ro(Math.pow(e,d)),s=s.R(d).add(ro(g))):s=(s=s.R(t)).add(ro(g))}return s};var Ll=It.createWebChannelTransport=function(){return new So},Tu=It.getStatEventTarget=function(){return ht()},Mi=It.ErrorCode=hr,Vc=It.EventType=Sr,fi=It.Event=pe,Ja=It.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oa=It.FetchXmlHttpFactory=er,yi=It.WebChannel=fs,eu=It.XhrIo=sn,Ca=It.Md5=Wi,Ns=It.Integer=qr;const Uo="@firebase/firestore";class ts{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");let Fs="9.23.0";const yo=new st.Yd("@firebase/firestore");function Ys(){return yo.logLevel}function Zt(r,...e){if(yo.logLevel<=st.in.DEBUG){const t=e.map(vi);yo.debug(`Firestore (${Fs}): ${r}`,...t)}}function ii(r,...e){if(yo.logLevel<=st.in.ERROR){const t=e.map(vi);yo.error(`Firestore (${Fs}): ${r}`,...t)}}function xs(r,...e){if(yo.logLevel<=st.in.WARN){const t=e.map(vi);yo.warn(`Firestore (${Fs}): ${r}`,...t)}}function vi(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function An(r="Unexpected state"){const e=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: `+r;throw ii(e),new Error(e)}function Dn(r,e){r||An()}function yn(r,e){return r}const St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gt extends Xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ts.UNAUTHENTICATED))}shutdown(){}}class jo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ls{constructor(e){this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const d=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let g=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Si,e.enqueueRetryable(()=>d(this.currentUser))};const D=()=>{const H=g;e.enqueueRetryable((0,J.Z)(function*(){yield H.promise,yield d(s.currentUser)}))},L=H=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(H=>L(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?L(H):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Si)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dn("string"==typeof s.accessToken),new tu(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dn(null===e||"string"==typeof e),new ts(e)}}class Ta{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Sa{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ta(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class so{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Su{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=d=>{null!=d.error&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.T;return this.T=d.token,Zt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const a=d=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.I.onInit(d=>a(d)),setTimeout(()=>{if(!this.appCheck){const d=this.I.getImmediate({optional:!0});d?a(d):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dn("string"==typeof t.token),this.T=t.token,new so(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ei(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class nu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ei(40);for(let d=0;d<a.length;++d)s.length<20&&a[d]<t&&(s+=e.charAt(a[d]%e.length))}return s}}function ur(r,e){return r<e?-1:r>e?1:0}function Aa(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Au(r){return r+"\0"}class Ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ai.fromMillis(Date.now())}static fromDate(e){return Ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Ai(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ur(this.nanoseconds,e.nanoseconds):ur(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $n(e)}static min(){return new $n(new Ai(0,0))}static max(){return new $n(new Ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mo{constructor(e,t,s){void 0===t?t=0:t>e.length&&An(),void 0===s?s=e.length-t:s>e.length-t&&An(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Mo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mo?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const d=e.get(a),g=t.get(a);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pr extends Mo{construct(e,t,s){return new Pr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Gt(St.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Pr(t)}static emptyPath(){return new Pr([])}}const $c=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends Mo{construct(e,t,s){return new Fi(e,t,s)}static isValidIdentifier(e){return $c.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const d=()=>{if(0===s.length)throw new Gt(St.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let g=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new Gt(St.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[a+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new Gt(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,a+=2}else"`"===D?(g=!g,a++):"."!==D||g?(s+=D,a++):(d(),a++)}if(d(),g)throw new Gt(St.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(t)}static emptyPath(){return new Fi([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Pr.fromString(e))}static fromName(e){return new tn(Pr.fromString(e).popFirst(5))}static empty(){return new tn(Pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Pr(e.slice()))}}class b{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function I(r){return r.fields.find(e=>2===e.kind)}function E(r){return r.fields.filter(e=>2!==e.kind)}b.UNKNOWN_ID=-1;class ${constructor(e,t){this.fieldPath=e,this.kind=t}}class Ie{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ie(0,nn.min())}}function Qe(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=$n.fromTimestamp(1e9===s?new Ai(t+1,0):new Ai(t,s));return new nn(a,tn.empty(),e)}function Vt(r){return new nn(r.readTime,r.key,-1)}class nn{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new nn($n.min(),tn.empty(),-1)}static max(){return new nn($n.max(),tn.empty(),-1)}}function xr(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=tn.comparator(r.documentKey,e.documentKey),0!==t?t:ur(r.largestBatchId,e.largestBatchId))}const jn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function si(r){return vs.apply(this,arguments)}function vs(){return vs=(0,J.Z)(function*(r){if(r.code!==St.FAILED_PRECONDITION||r.message!==jn)throw r;Zt("LocalStore","Unexpectedly lost primary lease")}),vs.apply(this,arguments)}class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&An(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vt((s,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof vt?t:vt.resolve(t)}catch(t){return vt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):vt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):vt.reject(t)}static resolve(e){return new vt((t,s)=>{t(e)})}static reject(e){return new vt((t,s)=>{s(e)})}static waitFor(e){return new vt((t,s)=>{let a=0,d=0,g=!1;e.forEach(D=>{++a,D.next(()=>{++d,g&&d===a&&t()},L=>s(L))}),g=!0,d===a&&t()})}static or(e){let t=vt.resolve(!1);for(const s of e)t=t.next(a=>a?vt.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,d)=>{s.push(t.call(this,a,d))}),this.waitFor(s)}static mapArray(e,t){return new vt((s,a)=>{const d=e.length,g=new Array(d);let D=0;for(let L=0;L<d;L++){const H=L;t(e[H]).next(ie=>{g[H]=ie,++D,D===d&&s(g)},ie=>a(ie))}})}static doWhile(e,t){return new vt((s,a)=>{const d=()=>{!0===e()?t().next(()=>{d()},a):s()};d()})}}class oo{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Si,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ma(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=sc(s.target.error);this.v.reject(new Ma(e,a))}}static open(e,t,s,a){try{return new oo(t,e.transaction(a,s))}catch(d){throw new Ma(t,d)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Zt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Uc(t)}}class qi{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===qi.S((0,Xe.z$)())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Zt("SimpleDb","Removing database:",e),aa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Xe.hl)())return!1;if(qi.C())return!0;const e=(0,Xe.z$)(),t=qi.S(e),s=0<t&&t<10,a=qi.N(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,J.Z)(function*(){return t.db||(Zt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{a(new Ma(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const D=g.target.error;a("VersionError"===D.name?new Gt(St.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new Gt(St.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Ma(e,D))},d.onupgradeneeded=g=>{Zt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.V.O(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{Zt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var d=this;return(0,J.Z)(function*(){const g="readonly"===t;let D=0;for(;;){++D;try{d.db=yield d.$(e);const L=oo.open(d.db,e,g?"readonly":"readwrite",s),H=a(L).next(ie=>(L.P(),ie)).catch(ie=>(L.abort(ie),vt.reject(ie))).toPromise();return H.catch(()=>{}),yield L.R,H}catch(L){const H=L,ie="FirebaseError"!==H.name&&D<3;if(Zt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",ie),d.close(),!ie)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xa{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return aa(this.L.delete())}}class Ma extends Gt{constructor(e,t){super(St.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ao(r){return"IndexedDbTransactionError"===r.name}class Uc{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Zt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Zt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),aa(s)}add(e){return Zt("SimpleDb","ADD",this.store.name,e,e),aa(this.store.add(e))}get(e){return aa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Zt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Zt("SimpleDb","DELETE",this.store.name,e),aa(this.store.delete(e))}count(){return Zt("SimpleDb","COUNT",this.store.name),aa(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),d=[];return this.W(a,(g,D)=>{d.push(D)}).next(()=>d)}{const a=this.store.getAll(s.range);return new vt((d,g)=>{a.onerror=D=>{g(D.target.error)},a.onsuccess=D=>{d(D.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new vt((a,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{a(g.target.result)}})}J(e,t){Zt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(d,g,D)=>D.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new vt((s,a)=>{t.onerror=d=>{const g=sc(d.target.error);a(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(D=>{D?g.continue():s()}):s()}})}W(e,t){const s=[];return new vt((a,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const D=g.target.result;if(!D)return void a();const L=new xa(D),H=t(D.primaryKey,D.value,L);if(H instanceof vt){const ie=H.catch(Le=>(L.done(),vt.reject(Le)));s.push(ie)}L.isDone?a():null===L.K?D.continue():D.continue(L.K)}}).next(()=>vt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function aa(r){return new vt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=sc(s.target.error);t(a)}})}let Gd=!1;function sc(r){const e=qi.S((0,Xe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gd||(Gd=!0,setTimeout(()=>{throw s},0)),s}}return r}class xu{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Zt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,J.Z)(function*(){t.task=null;try{Zt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){ao(s)?Zt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield si(s)}yield t.et(6e4)}))}}class ua{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,J.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,d=!0;return vt.doWhile(()=>!0===d&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return Zt("IndexBackiller",`Processing collection: ${g}`),this.it(e,g,a).next(D=>{a-=D,s.add(g)});d=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.rt(a,d)).next(D=>(Zt("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>g.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,d)=>{const g=Vt(d);xr(g,s)>0&&(s=g)}),new nn(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let os=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Mu(r){return null==r}function Ho(r){return 0===r&&1/r==-1/0}function oc(r){return"number"==typeof r&&Number.isInteger(r)&&!Ho(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Ki(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Vl(e)),e=Bl(r.get(t),e);return Vl(e)}function Bl(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const d=r.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Vl(r){return r+"\x01\x01"}function Ro(r){const e=r.length;if(Dn(e>=2),2===e)return Dn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Pr.emptyPath();const t=e-2,s=[];let a="";for(let d=0;d<e;){const g=r.indexOf("\x01",d);switch((g<0||g>t)&&An(),r.charAt(g+1)){case"\x01":const D=r.substring(d,g);let L;0===a.length?L=D:(a+=D,L=a,a=""),s.push(L);break;case"\x10":a+=r.substring(d,g),a+="\0";break;case"\x11":a+=r.substring(d,g+1);break;default:An()}d=g+2}return new Pr(s)}const Ru=["userId","batchId"];function Po(r,e){return[r,Ki(e)]}function Go(r,e,t){return[r,Ki(e),t]}const jc={},Ri=["prefixPath","collectionGroup","readTime","documentId"],ru=["prefixPath","collectionGroup","documentId"],ac=["collectionGroup","readTime","prefixPath","documentId"],zo=["canonicalId","targetId"],uc=["targetId","path"],cf=["path","targetId"],$l=["collectionId","parent"],Hc=["indexId","uid"],Pu=["uid","sequenceNumber"],Oo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ou=["indexId","uid","orderedDocumentKey"],iu=["userId","collectionPath","documentId"],Ul=["userId","collectionPath","largestBatchId"],ca=["userId","collectionGroup","largestBatchId"],su=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uo=[...su,"documentOverlays"],jl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zd=jl,cc=[...zd,"indexConfiguration","indexState","indexEntries"];class la extends pi{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ji(r,e){const t=yn(r);return qi.M(t.ht,e)}function Gc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function T(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function R(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class z{constructor(e,t){this.comparator=e,this.root=t||Je.EMPTY}insert(e,t){return new z(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new z(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new De(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new De(this.root,e,this.comparator,!1)}getReverseIterator(){return new De(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new De(this.root,e,this.comparator,!0)}}class De{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,t,s,a,d){this.key=e,this.value=t,this.color=s??Je.RED,this.left=a??Je.EMPTY,this.right=d??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,d){return new Je(e??this.key,t??this.value,s??this.color,a??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const d=s(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Je.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw An();const e=this.left.check();if(e!==this.right.check())throw An();return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1,Je.EMPTY=new class{constructor(){this.size=0}get key(){throw An()}get value(){throw An()}get color(){throw An()}get left(){throw An()}get right(){throw An()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Je(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new z(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ut(this.data.getIterator())}getIteratorFrom(e){return new Ut(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pt(this.comparator);return t.data=e,t}}class Ut{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _n(r){return r.hasNext()?r.getNext():void 0}class pn{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new pn([])}unionWith(e){let t=new pt(Fi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Zn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Zn("Invalid base64 string: "+a):a}}(e);return new zn(t)}static fromUint8Array(e){const t=function(s){let a="";for(let d=0;d<s.length;++d)a+=String.fromCharCode(s[d]);return a}(e);return new zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ur(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const Ms=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(r){if(Dn(!!r),"string"==typeof r){let e=0;const t=Ms.exec(r);if(Dn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_i(r.seconds),nanos:_i(r.nanos)}}function _i(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function _o(r){return"string"==typeof r?zn.fromBase64String(r):zn.fromUint8Array(r)}function Eo(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _s(r){const e=r.mapValue.fields.__previous_value__;return Eo(e)?_s(e):e}function Bs(r){const e=Li(r.mapValue.fields.__local_write_time__.timestampValue);return new Ai(e.seconds,e.nanos)}class da{constructor(e,t,s,a,d,g,D,L,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=D,this.longPollingOptions=L,this.useFetchStreams=H}}class ou{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ou("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wd={nullValue:"NULL_VALUE"};function qo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Eo(r)?4:Fp(r)?9007199254740991:10:An()}function ko(r,e){if(r===e)return!0;const t=qo(r);if(t!==qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bs(r).isEqual(Bs(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const d=Li(s.timestampValue),g=Li(a.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,_o(r.bytesValue).isEqual(_o(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return _i(s.geoPointValue.latitude)===_i(a.geoPointValue.latitude)&&_i(s.geoPointValue.longitude)===_i(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return _i(s.integerValue)===_i(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const d=_i(s.doubleValue),g=_i(a.doubleValue);return d===g?Ho(d)===Ho(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Aa(r.arrayValue.values||[],e.arrayValue.values||[],ko);case 10:return function(s,a){const d=s.mapValue.fields||{},g=a.mapValue.fields||{};if(Gc(d)!==Gc(g))return!1;for(const D in d)if(d.hasOwnProperty(D)&&(void 0===g[D]||!ko(d[D],g[D])))return!1;return!0}(r,e);default:return An()}var a}function lc(r,e){return void 0!==(r.values||[]).find(t=>ko(t,e))}function Ra(r,e){if(r===e)return 0;const t=qo(r),s=qo(e);if(t!==s)return ur(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ur(r.booleanValue,e.booleanValue);case 2:return function(a,d){const g=_i(a.integerValue||a.doubleValue),D=_i(d.integerValue||d.doubleValue);return g<D?-1:g>D?1:g===D?0:isNaN(g)?isNaN(D)?0:-1:1}(r,e);case 3:return qd(r.timestampValue,e.timestampValue);case 4:return qd(Bs(r),Bs(e));case 5:return ur(r.stringValue,e.stringValue);case 6:return function(a,d){const g=_o(a),D=_o(d);return g.compareTo(D)}(r.bytesValue,e.bytesValue);case 7:return function(a,d){const g=a.split("/"),D=d.split("/");for(let L=0;L<g.length&&L<D.length;L++){const H=ur(g[L],D[L]);if(0!==H)return H}return ur(g.length,D.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,d){const g=ur(_i(a.latitude),_i(d.latitude));return 0!==g?g:ur(_i(a.longitude),_i(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,d){const g=a.values||[],D=d.values||[];for(let L=0;L<g.length&&L<D.length;++L){const H=Ra(g[L],D[L]);if(H)return H}return ur(g.length,D.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,d){if(a===Wo.mapValue&&d===Wo.mapValue)return 0;if(a===Wo.mapValue)return 1;if(d===Wo.mapValue)return-1;const g=a.fields||{},D=Object.keys(g),L=d.fields||{},H=Object.keys(L);D.sort(),H.sort();for(let ie=0;ie<D.length&&ie<H.length;++ie){const Le=ur(D[ie],H[ie]);if(0!==Le)return Le;const Dt=Ra(g[D[ie]],L[H[ie]]);if(0!==Dt)return Dt}return ur(D.length,H.length)}(r.mapValue,e.mapValue);default:throw An()}}function qd(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ur(r,e);const t=Li(r),s=Li(e),a=ur(t.seconds,s.seconds);return 0!==a?a:ur(t.nanos,s.nanos)}function ku(r){return Kd(r)}function Kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Li(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?_o(r.bytesValue).toBase64():"referenceValue"in r?tn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",d=!0;for(const g of s.values||[])d?d=!1:a+=",",a+=Kd(g);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let d="{",g=!0;for(const D of a)g?g=!1:d+=",",d+=`${D}:${Kd(s.fields[D])}`;return d+"}"}(r.mapValue):An();var e}function Nu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Yd(r){return!!r&&"integerValue"in r}function zc(r){return!!r&&"arrayValue"in r}function Pa(r){return!!r&&"nullValue"in r}function hc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return T(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Hl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Fp(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function xm(r){return"nullValue"in r?Wd:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Nu(ou.empty(),tn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:An()}function Mm(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Nu(ou.empty(),tn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Wo:An()}function Lp(r,e){const t=Ra(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function qc(r,e){const t=Ra(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Wc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(t)}setAll(e){let t=Fi.emptyPath(),s={},a=[];e.forEach((g,D)=>{if(!t.isImmediateParentOf(D)){const L=this.getFieldsMap(t);this.applyChanges(L,s,a),s={},a=[],t=D.popLast()}g?s[D.lastSegment()]=Hl(g):a.push(D.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,a)}delete(e){const t=this.field(e.popLast());Wc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Wc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){T(t,(a,d)=>e[a]=d);for(const a of s)delete e[a]}clone(){return new Es(Hl(this.value))}}function lf(r){const e=[];return T(r.fields,(t,s)=>{const a=new Fi([t]);if(Wc(s)){const d=lf(s.mapValue).fields;if(0===d.length)e.push(a);else for(const g of d)e.push(a.child(g))}else e.push(a)}),new pn(e)}class xi{constructor(e,t,s,a,d,g,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=d,this.data=g,this.documentState=D}static newInvalidDocument(e){return new xi(e,0,$n.min(),$n.min(),$n.min(),Es.empty(),0)}static newFoundDocument(e,t,s,a){return new xi(e,1,t,$n.min(),s,a,0)}static newNoDocument(e,t){return new xi(e,2,t,$n.min(),$n.min(),Es.empty(),0)}static newUnknownDocument(e,t){return new xi(e,3,t,$n.min(),$n.min(),Es.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($n.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class au{constructor(e,t){this.position=e,this.inclusive=t}}function df(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const d=e[a],g=r.position[a];if(s=d.field.isKeyField()?tn.comparator(tn.fromName(g.referenceValue),t.key):Ra(g,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function hf(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ko(r.position[t],e.position[t]))return!1;return!0}class Ko{constructor(e,t="asc"){this.field=e,this.dir=t}}function ff(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ha{}class kr extends ha{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Vp(e,t,s):"array-contains"===t?new Up(e,s):"in"===t?new gf(e,s):"not-in"===t?new Xd(e,s):"array-contains-any"===t?new mf(e,s):new kr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Rm(e,s):new $p(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ra(t,this.value)):null!==t&&qo(this.value)===qo(t)&&this.matchesComparison(Ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return An()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class li extends ha{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new li(e,t)}matches(e){return fa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fa(r){return"and"===r.op}function Kc(r){return"or"===r.op}function Zd(r){return Bp(r)&&fa(r)}function Bp(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function pf(r){if(r instanceof kr)return r.field.canonicalString()+r.op.toString()+ku(r.value);if(Zd(r))return r.filters.map(e=>pf(e)).join(",");{const e=r.filters.map(t=>pf(t)).join(",");return`${r.op}(${e})`}}function Gl(r,e){return r instanceof kr?(t=r,(s=e)instanceof kr&&t.op===s.op&&t.field.isEqual(s.field)&&ko(t.value,s.value)):r instanceof li?function(t,s){return s instanceof li&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,d,g)=>a&&Gl(d,s.filters[g]),!0)}(r,e):void An();var t,s}function zl(r,e){const t=r.filters.concat(e);return li.create(t,r.op)}function Wl(r){return r instanceof kr?`${(e=r).field.canonicalString()} ${e.op} ${ku(e.value)}`:r instanceof li?function(e){return e.op.toString()+" {"+e.getFilters().map(Wl).join(" ,")+"}"}(r):"Filter";var e}class Vp extends kr{constructor(e,t,s){super(e,t,s),this.key=tn.fromName(s.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rm extends kr{constructor(e,t){super(e,"in",t),this.keys=uu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $p extends kr{constructor(e,t){super(e,"not-in",t),this.keys=uu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uu(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>tn.fromName(s.referenceValue))}class Up extends kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zc(t)&&lc(t.arrayValue,this.value)}}class gf extends kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lc(this.value.arrayValue,t)}}class Xd extends kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lc(this.value.arrayValue,t)}}class mf extends kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>lc(this.value.arrayValue,s))}}class fc{constructor(e,t=null,s=[],a=[],d=null,g=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=d,this.startAt=g,this.endAt=D,this.dt=null}}function Qd(r,e=null,t=[],s=[],a=null,d=null,g=null){return new fc(r,e,t,s,a,d,g)}function Oa(r){const e=yn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>pf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Mu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ku(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ku(s)).join(",")),e.dt=t}return e.dt}function Fu(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ff(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Gl(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!hf(r.startAt,e.startAt)&&hf(r.endAt,e.endAt)}function Yi(r){return tn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function ql(r,e){return r.filters.filter(t=>t instanceof kr&&t.field.isEqual(e))}function Kl(r,e,t){let s=Wd,a=!0;for(const d of ql(r,e)){let g=Wd,D=!0;switch(d.op){case"<":case"<=":g=xm(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,D=!1;break;case"!=":case"not-in":g=Wd}Lp({value:s,inclusive:a},{value:g,inclusive:D})<0&&(s=g,a=D)}if(null!==t)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const g=t.position[d];Lp({value:s,inclusive:a},{value:g,inclusive:t.inclusive})<0&&(s=g,a=t.inclusive);break}return{value:s,inclusive:a}}function Yl(r,e,t){let s=Wo,a=!0;for(const d of ql(r,e)){let g=Wo,D=!0;switch(d.op){case">=":case">":g=Mm(d.value),D=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,D=!1;break;case"!=":case"not-in":g=Wo}qc({value:s,inclusive:a},{value:g,inclusive:D})>0&&(s=g,a=D)}if(null!==t)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const g=t.position[d];qc({value:s,inclusive:a},{value:g,inclusive:t.inclusive})>0&&(s=g,a=t.inclusive);break}return{value:s,inclusive:a}}class pa{constructor(e,t=null,s=[],a=[],d=null,g="F",D=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=d,this.limitType=g,this.startAt=D,this.endAt=L,this.wt=null,this._t=null}}function yf(r,e,t,s,a,d,g,D){return new pa(r,e,t,s,a,d,g,D)}function pc(r){return new pa(r)}function vf(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Zl(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function gc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _f(r){return null!==r.collectionGroup}function mc(r){const e=yn(r);if(null===e.wt){e.wt=[];const t=gc(e),s=Zl(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Ko(t)),e.wt.push(new Ko(Fi.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e.wt.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ko(Fi.keyField(),d))}}}return e.wt}function as(r){const e=yn(r);if(!e._t)if("F"===e.limitType)e._t=Qd(e.path,e.collectionGroup,mc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of mc(e))t.push(new Ko(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new au(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new au(e.startAt.position,e.startAt.inclusive):null;e._t=Qd(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Lu(r,e){e.getFirstInequalityField(),gc(r);const t=r.filters.concat([e]);return new pa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Xl(r,e,t){return new pa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Bu(r,e){return Fu(as(r),as(e))&&r.limitType===e.limitType}function ka(r){return`${Oa(as(r))}|lt:${r.limitType}`}function Jd(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Wl(s)).join(", ")}]`),Mu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ku(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ku(s)).join(",")),`Target(${t})`}(as(r))}; limitType=${r.limitType})`}function Yc(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of mc(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,d,g){const D=df(a,d,g);return a.inclusive?D<=0:D<0}(t.startAt,mc(t),s)||t.endAt&&!function(a,d,g){const D=df(a,d,g);return a.inclusive?D>=0:D>0}(t.endAt,mc(t),s)));var t,s}function Ef(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ql(r){return(e,t)=>{let s=!1;for(const a of mc(r)){const d=jp(a,e,t);if(0!==d)return d;s=s||a.field.isKeyField()}return 0}}function jp(r,e,t){const s=r.field.isKeyField()?tn.comparator(e.key,t.key):function(a,d,g){const D=d.data.field(a),L=g.data.field(a);return null!==D&&null!==L?Ra(D,L):An()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return An()}}class Na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,d]of s)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){T(this.inner,(t,s)=>{for(const[a,d]of s)e(a,d)})}isEmpty(){return R(this.inner)}size(){return this.innerSize}}const Hp=new z(tn.comparator);function co(){return Hp}const cu=new z(tn.comparator);function Zc(...r){let e=cu;for(const t of r)e=e.insert(t.key,t);return e}function eh(r){let e=cu;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ga(){return Xc()}function th(){return Xc()}function Xc(){return new Na(r=>r.toString(),(r,e)=>r.isEqual(e))}const Gp=new z(tn.comparator),Vs=new pt(tn.comparator);function wr(...r){let e=Vs;for(const t of r)e=e.add(t);return e}const Jl=new pt(ur);function yc(){return Jl}function Rs(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ho(e)?"-0":e}}function lu(r){return{integerValue:""+r}}function ed(r,e){return oc(e)?lu(e):Rs(r,e)}class $s{constructor(){this._=void 0}}function Qc(r,e,t){return r instanceof Fa?function(s,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Eo(a)&&(a=_s(a)),a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):r instanceof La?rh(r,e):r instanceof du?If(r,e):function(s,a){const d=wf(s,a),g=ih(d)+ih(s.gt);return Yd(d)&&Yd(s.gt)?lu(g):Rs(s.serializer,g)}(r,e)}function nh(r,e,t){return r instanceof La?rh(r,e):r instanceof du?If(r,e):t}function wf(r,e){return r instanceof wo?Yd(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Fa extends $s{}class La extends $s{constructor(e){super(),this.elements=e}}function rh(r,e){const t=bf(e);for(const s of r.elements)t.some(a=>ko(a,s))||t.push(s);return{arrayValue:{values:t}}}class du extends $s{constructor(e){super(),this.elements=e}}function If(r,e){let t=bf(e);for(const s of r.elements)t=t.filter(a=>!ko(a,s));return{arrayValue:{values:t}}}class wo extends $s{constructor(e,t){super(),this.serializer=e,this.gt=t}}function ih(r){return _i(r.integerValue||r.doubleValue)}function bf(r){return zc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Jc{constructor(e,t){this.field=e,this.transform=t}}class ma{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function el(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class tl{}function sh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Vu(r.key,Gr.none()):new _c(r.key,r.data,Gr.none());{const t=r.data,s=Es.empty();let a=new pt(Fi.comparator);for(let d of e.fields)if(!a.has(d)){let g=t.field(d);null===g&&d.length>1&&(d=d.popLast(),g=t.field(d)),null===g?s.delete(d):s.set(d,g),a=a.add(d)}return new No(r.key,s,new pn(a.toArray()),Gr.none())}}function hu(r,e,t){r instanceof _c?function(s,a,d){const g=s.value.clone(),D=Ec(s.fieldTransforms,a,d.transformResults);g.setAll(D),a.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,t):r instanceof No?function(s,a,d){if(!el(s.precondition,a))return void a.convertToUnknownDocument(d.version);const g=Ec(s.fieldTransforms,a,d.transformResults),D=a.data;D.setAll(Df(s)),D.setAll(g),a.convertToFoundDocument(d.version,D).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ts(r,e,t,s){return r instanceof _c?function(a,d,g,D){if(!el(a.precondition,d))return g;const L=a.value.clone(),H=Cf(a.fieldTransforms,D,d);return L.setAll(H),d.convertToFoundDocument(d.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof No?function(a,d,g,D){if(!el(a.precondition,d))return g;const L=Cf(a.fieldTransforms,D,d),H=d.data;return H.setAll(Df(a)),H.setAll(L),d.convertToFoundDocument(d.version,H).setHasLocalMutations(),null===g?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ie=>ie.field))}(r,e,t,s):(g=t,el(r.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function td(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),d=wf(s.transform,a||null);null!=d&&(null===t&&(t=Es.empty()),t.set(s.field,d))}return t||null}function nl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Aa(t,s,(a,d)=>function vc(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof La&&s instanceof La||t instanceof du&&s instanceof du?Aa(t.elements,s.elements,ko):t instanceof wo&&s instanceof wo?ko(t.gt,s.gt):t instanceof Fa&&s instanceof Fa);var t,s}(a,d))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class _c extends tl{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class No extends tl{constructor(e,t,s,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Df(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Ec(r,e,t){const s=new Map;Dn(r.length===t.length);for(let a=0;a<t.length;a++){const d=r[a],g=d.transform,D=e.data.field(d.field);s.set(d.field,nh(g,D,t[a]))}return s}function Cf(r,e,t){const s=new Map;for(const a of r){const d=a.transform,g=t.data.field(a.field);s.set(a.field,Qc(d,g,e))}return s}class Vu extends tl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m extends tl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&hu(d,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ts(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ts(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=th();return this.mutations.forEach(a=>{const d=e.get(a.key),g=d.overlayedDocument;let D=this.applyToLocalView(g,d.mutatedFields);D=t.has(a.key)?null:D;const L=sh(g,D);null!==L&&s.set(a.key,L),g.isValidDocument()||g.convertToNoDocument($n.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wr())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,s)=>nl(t,s))&&Aa(this.baseMutations,e.baseMutations,(t,s)=>nl(t,s))}}class f{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Dn(e.mutations.length===s.length);let a=Gp;const d=e.mutations;for(let g=0;g<d.length;g++)a=a.insert(d[g].key,s[g].version);return new f(e,t,s,a)}}class w{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class K{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ve,at;function Wt(r){switch(r){default:return An();case St.CANCELLED:case St.UNKNOWN:case St.DEADLINE_EXCEEDED:case St.RESOURCE_EXHAUSTED:case St.INTERNAL:case St.UNAVAILABLE:case St.UNAUTHENTICATED:return!1;case St.INVALID_ARGUMENT:case St.NOT_FOUND:case St.ALREADY_EXISTS:case St.PERMISSION_DENIED:case St.FAILED_PRECONDITION:case St.ABORTED:case St.OUT_OF_RANGE:case St.UNIMPLEMENTED:case St.DATA_LOSS:return!0}}function gn(r){if(void 0===r)return ii("GRPC error has no .code"),St.UNKNOWN;switch(r){case Ve.OK:return St.OK;case Ve.CANCELLED:return St.CANCELLED;case Ve.UNKNOWN:return St.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return St.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return St.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return St.INTERNAL;case Ve.UNAVAILABLE:return St.UNAVAILABLE;case Ve.UNAUTHENTICATED:return St.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return St.INVALID_ARGUMENT;case Ve.NOT_FOUND:return St.NOT_FOUND;case Ve.ALREADY_EXISTS:return St.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return St.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return St.FAILED_PRECONDITION;case Ve.ABORTED:return St.ABORTED;case Ve.OUT_OF_RANGE:return St.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return St.UNIMPLEMENTED;case Ve.DATA_LOSS:return St.DATA_LOSS;default:return An()}}(at=Ve||(Ve={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";class Nn{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Bn}static getOrCreateInstance(){return null===Bn&&(Bn=new Nn),Bn}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Bn=null;function Hi(){return new TextEncoder}const Yo=new Ns([4294967295,4294967295],0);function rl(r){const e=Hi().encode(r),t=new Ca;return t.update(e),new Uint8Array(t.digest())}function nd(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Ns([t,s],0),new Ns([a,d],0)]}class $u{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(s<0)throw new Uu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Uu(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ns.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(Ns.fromNumber(s)));return 1===a.compare(Yo)&&(a=new Ns([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=rl(e),[s,a]=nd(t);for(let d=0;d<this.hashCount;d++){const g=this.Et(s,a,d);if(!this.At(g))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new $u(d,a,t);return s.forEach(D=>g.insert(D)),g}insert(e){if(0===this.It)return;const t=rl(e),[s,a]=nd(t);for(let d=0;d<this.hashCount;d++){const g=this.Et(s,a,d);this.Rt(g)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fu{constructor(e,t,s,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new fu($n.min(),a,new z(ur),co(),wr())}}class ju{constructor(e,t,s,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ju(s,t,wr(),wr(),wr())}}class il{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class rd{constructor(e,t){this.targetId=e,this.Vt=t}}class sl{constructor(e,t,s=zn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Ba{constructor(){this.St=0,this.Dt=Sf(),this.Ct=zn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wr(),t=wr(),s=wr();return this.Dt.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:An()}}),new ju(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Sf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Tf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=co(),this.zt=ol(),this.Wt=new z(ur)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:An()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,d=this.se(s);if(d){const g=d.target;if(Yi(g))if(0===a){const D=new tn(g.path);this.Yt(s,D,xi.newNoDocument(D,$n.min()))}else Dn(1===a);else{const D=this.ie(s);if(D!==a){const L=this.re(e,D);0!==L&&(this.ee(s),this.Wt=this.Wt.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Nn.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,ie,Le){var Dt,Lt,an,In,Fn,Mr;const Xr={localCacheCount:ie,existenceFilterCount:Le.count},Fr=Le.unchangedNames;return Fr&&(Xr.bloomFilter={applied:0===H,hashCount:null!==(Dt=Fr?.hashCount)&&void 0!==Dt?Dt:0,bitmapLength:null!==(In=null===(an=null===(Lt=Fr?.bits)||void 0===Lt?void 0:Lt.bitmap)||void 0===an?void 0:an.length)&&void 0!==In?In:0,padding:null!==(Mr=null===(Fn=Fr?.bits)||void 0===Fn?void 0:Fn.padding)&&void 0!==Mr?Mr:0}),Xr}(L,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:d="",padding:g=0},hashCount:D=0}=s;let L,H;try{L=_o(d).toUint8Array()}catch(ie){if(ie instanceof Zn)return xs("Decoding the base64 bloom filter in existence filter failed ("+ie.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ie}try{H=new $u(L,g,D)}catch(ie){return xs(ie instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",ie),1}return 0===H.It?1:a!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(d=>{const g=this.Gt.ue(),D=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;t.vt(D)||(this.Yt(e,d,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((d,g)=>{const D=this.se(g);if(D){if(d.current&&Yi(D.target)){const L=new tn(D.target.path);null!==this.jt.get(L)||this.ae(g,L)||this.Yt(g,L,xi.newNoDocument(L,e))}d.Mt&&(t.set(g,d.Ot()),d.Ft())}});let s=wr();this.zt.forEach((d,g)=>{let D=!0;g.forEachWhile(L=>{const H=this.se(L);return!H||"TargetPurposeLimboResolution"===H.purpose||(D=!1,!1)}),D&&(s=s.add(d))}),this.jt.forEach((d,g)=>g.setReadTime(e));const a=new fu(e,t,this.Wt,this.jt,s);return this.jt=co(),this.zt=ol(),this.Wt=new z(ur),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ba,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pt(ur),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Zt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ba),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function ol(){return new z(tn.comparator)}function Sf(){return new z(tn.comparator)}const uE={asc:"ASCENDING",desc:"DESCENDING"},Af={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jv={and:"AND",or:"OR"};class Pm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xf(r,e){return r.useProto3Json||Mu(e)?e:{value:e}}function al(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Om(r,e){return al(r,e.toTimestamp())}function ns(r){return Dn(!!r),$n.fromTimestamp(function(e){const t=Li(e);return new Ai(t.seconds,t.nanos)}(r))}function id(r,e){return(t=r,new Pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zp(r){const e=Pr.fromString(r);return Dn(Gm(e)),e}function ul(r,e){return id(r.databaseId,e.path)}function Va(r,e){const t=zp(e);if(t.get(1)!==r.databaseId.projectId)throw new Gt(St.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Gt(St.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new tn(Wp(t))}function oh(r,e){return id(r.databaseId,e)}function sd(r){const e=zp(r);return 4===e.length?Pr.emptyPath():Wp(e)}function ah(r){return new Pr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Wp(r){return Dn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function km(r,e,t){return{name:ul(r,e),fields:t.value.mapValue.fields}}function Nm(r,e,t){const s=Va(r,e.name),a=ns(e.updateTime),d=e.createTime?ns(e.createTime):$n.min(),g=new Es({mapValue:{fields:e.fields}}),D=xi.newFoundDocument(s,a,d,g);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function od(r,e){let t;if(e instanceof _c)t={update:km(r,e.key,e.value)};else if(e instanceof Vu)t={delete:ul(r,e.key)};else if(e instanceof No)t={update:km(r,e.key,e.data),updateMask:Hm(e.fieldMask)};else{if(!(e instanceof m))return An();t={verify:ul(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,d){const g=d.transform;if(g instanceof Fa)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof La)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof du)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof wo)return{fieldPath:d.field.canonicalString(),increment:g.gt};throw An()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Om(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:An()),t;var a}function Lm(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Gr.updateTime(ns(a.updateTime)):void 0!==a.exists?Gr.exists(a.exists):Gr.none():Gr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(d,g){let D=null;"setToServerValue"in g?(Dn("REQUEST_TIME"===g.setToServerValue),D=new Fa):"appendMissingElements"in g?D=new La(g.appendMissingElements.values||[]):"removeAllFromArray"in g?D=new du(g.removeAllFromArray.values||[]):"increment"in g?D=new wo(d,g.increment):An();const L=Fi.fromServerFormat(g.fieldPath);return new Jc(L,D)}(r,a)):[];var a;if(e.update){const a=Va(r,e.update.name),d=new Es({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new pn((e.updateMask.fieldPaths||[]).map(H=>Fi.fromServerFormat(H)));return new No(a,d,g,t,s)}return new _c(a,d,t,s)}if(e.delete){const a=Va(r,e.delete);return new Vu(a,t)}if(e.verify){const a=Va(r,e.verify);return new m(a,t)}return An()}function Vm(r,e){return{documents:[oh(r,e.path)]}}function Rf(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=oh(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=oh(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(L){if(0!==L.length)return jm(li.create(L,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const d=function(L){if(0!==L.length)return L.map(H=>{return{field:wc((ie=H).field),direction:Gv(ie.dir)};var ie})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=xf(r,e.limit);var D,L;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function $m(r){let e=sd(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Dn(1===s);const ie=t.from[0];ie.allDescendants?a=ie.collectionId:e=e.child(ie.collectionId)}let d=[];t.where&&(d=function(ie){const Le=ya(ie);return Le instanceof li&&Zd(Le)?Le.getFilters():[Le]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(ie=>{return new Ko(ad((Le=ie).field),function(Dt){switch(Dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Le.direction));var Le}));let D=null;t.limit&&(D=function(ie){let Le;return Le="object"==typeof ie?ie.value:ie,Mu(Le)?null:Le}(t.limit));let L=null;var ie;t.startAt&&(L=new au((ie=t.startAt).values||[],!!ie.before));let H=null;return t.endAt&&(H=function(ie){return new au(ie.values||[],!ie.before)}(t.endAt)),yf(e,a,g,d,D,"F",L,H)}function ya(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ad(e.unaryFilter.field);return kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=ad(e.unaryFilter.field);return kr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ad(e.unaryFilter.field);return kr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ad(e.unaryFilter.field);return kr.create(d,"!=",{nullValue:"NULL_VALUE"});default:return An()}}(r):void 0!==r.fieldFilter?kr.create(ad((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return An()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return li.create(e.compositeFilter.filters.map(t=>ya(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return An()}}(e.compositeFilter.op))}(r):An();var e}function Gv(r){return uE[r]}function Um(r){return Af[r]}function zv(r){return jv[r]}function wc(r){return{fieldPath:r.canonicalString()}}function ad(r){return Fi.fromServerFormat(r.fieldPath)}function jm(r){return r instanceof kr?function(e){if("=="===e.op){if(hc(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NAN"}};if(Pa(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hc(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NOT_NAN"}};if(Pa(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(e.field),op:Um(e.op),value:e.value}}}(r):r instanceof li?function(e){const t=e.getFilters().map(s=>jm(s));return 1===t.length?t[0]:{compositeFilter:{op:zv(e.op),filters:t}}}(r):An()}function Hm(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gm(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Hu{constructor(e,t,s,a,d=$n.min(),g=$n.min(),D=zn.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=D,this.expectedCount=L}withSequenceNumber(e){return new Hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zm{constructor(e){this.fe=e}}function Kp(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ul(a=r.fe,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:al(a,d.version.toTimestamp()),createTime:al(a,d.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Ic(e.version)};else{if(!e.isUnknownDocument())return An();s.unknownDocument={path:t.path.toArray(),version:Ic(e.version)}}var a,d;return s}function uh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ic(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cl(r){const e=new Ai(r.seconds,r.nanoseconds);return $n.fromTimestamp(e)}function ll(r,e){const t=(e.baseMutations||[]).map(d=>Lm(r.fe,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>Lm(r.fe,d)),a=Ai.fromMillis(e.localWriteTimeMs);return new h(e.batchId,a,t,s)}function ud(r){const e=cl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?cl(r.lastLimboFreeSnapshotVersion):$n.min();let s;var a;return void 0!==r.query.documents?(Dn(1===(a=r.query).documents.length),s=as(pc(sd(a.documents[0])))):s=as($m(r.query)),new Hu(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,zn.fromBase64String(r.resumeToken))}function Wm(r,e){const t=Ic(e.snapshotVersion),s=Ic(e.lastLimboFreeSnapshotVersion);let a;a=Yi(e.target)?Vm(r.fe,e.target):Rf(r.fe,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Pf(r){const e=$m({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Xl(e,e.limit,"L"):e}function Yp(r,e){return new w(e.largestBatchId,Lm(r.fe,e.overlayMutation))}function qm(r,e){const t=e.path.lastSegment();return[r,Ki(e.path.popLast()),t]}function Wv(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Ic(s.readTime),documentKey:Ki(s.documentKey.path),largestBatchId:s.largestBatchId}}class Zp{getBundleMetadata(e,t){return Xp(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:cl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Xp(e).put({bundleId:(s=t).id,createTime:Ic(ns(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Km(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Pf(a.bundledQuery),readTime:cl(a.readTime)};var a})}saveNamedQuery(e,t){return Km(e).put({name:(s=t).name,readTime:Ic(ns(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Xp(r){return ji(r,"bundles")}function Km(r){return ji(r,"namedQueries")}class ch{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new ch(e,t.uid||"")}getOverlay(e,t){return cd(e).get(qm(this.userId,t)).next(s=>s?Yp(this.serializer,s):null)}getOverlays(e,t){const s=ga();return vt.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&s.set(a,d)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((d,g)=>{const D=new w(t,g);a.push(this.we(e,D))}),vt.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(g=>a.add(Ki(g.getCollectionPath())));const d=[];return a.forEach(g=>{const D=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);d.push(cd(e).J("collectionPathOverlayIndex",D))}),vt.waitFor(d)}getOverlaysForCollection(e,t,s){const a=ga(),d=Ki(t),g=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return cd(e).j("collectionPathOverlayIndex",g).next(D=>{for(const L of D){const H=Yp(this.serializer,L);a.set(H.getKey(),H)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const d=ga();let g;const D=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cd(e).X({index:"collectionGroupOverlayIndex",range:D},(L,H,ie)=>{const Le=Yp(this.serializer,H);d.size()<a||Le.largestBatchId===g?(d.set(Le.getKey(),Le),g=Le.largestBatchId):ie.done()}).next(()=>d)}we(e,t){return cd(e).put(function(s,a,d){const[g,D,L]=qm(a,d.mutation.key);return{userId:a,collectionPath:D,documentId:L,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:od(s.fe,d.mutation)}}(this.serializer,this.userId,t))}}function cd(r){return ji(r,"documentOverlays")}class Gu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(_i(e.integerValue));else if("doubleValue"in e){const s=_i(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Ho(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(_o(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Fp(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):An()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),tn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function cE(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Ym(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const d=cE(255&t[a]);if(s+=d,8!==d)break}return s}(r);return Math.ceil(e/8)}Gu.Ve=new Gu;class Qp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Ym(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Ym(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,a,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Zm{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Xm{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class $a{constructor(){this.je=new Qp,this.ze=new Zm(this.je),this.We=new Xm(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class dl{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new dl(this.indexId,this.documentKey,this.arrayValue,s)}}function pu(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Jp(r.arrayValue,e.arrayValue),0!==t?t:(t=Jp(r.directionalValue,e.directionalValue),0!==t?t:tn.comparator(r.documentKey,e.documentKey)))}function Jp(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class eg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){Dn(e.collectionGroup===this.collectionId);const t=I(e);if(void 0!==t&&!this.en(t))return!1;const s=E(e);let a=new Set,d=0,g=0;for(;d<s.length&&this.en(s[d]);++d)a=a.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const D=s[d];if(!this.nn(this.Ze,D)||!this.sn(this.Ye[g++],D))return!1}++d}for(;d<s.length;++d){const D=s[d];if(g>=this.Ye.length||!this.sn(this.Ye[g++],D))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function lh(r){var e,t;if(Dn(r instanceof kr||r instanceof li),r instanceof kr){if(r instanceof gf){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>kr.create(r.field,"==",d)))||[];return li.create(a,"or")}return r}const s=r.filters.map(a=>lh(a));return li.create(s,r.op)}function qv(r){if(0===r.getFilters().length)return[];const e=Of(lh(r));return Dn(hl(e)),dh(e)||hh(e)?[e]:e.getFilters()}function dh(r){return r instanceof kr}function hh(r){return r instanceof li&&Zd(r)}function hl(r){return dh(r)||hh(r)||function(e){if(e instanceof li&&Kc(e)){for(const t of e.getFilters())if(!dh(t)&&!hh(t))return!1;return!0}return!1}(r)}function Of(r){if(Dn(r instanceof kr||r instanceof li),r instanceof kr)return r;if(1===r.filters.length)return Of(r.filters[0]);const e=r.filters.map(s=>Of(s));let t=li.create(e,r.op);return t=kf(t),hl(t)?t:(Dn(t instanceof li),Dn(fa(t)),Dn(t.filters.length>1),t.filters.reduce((s,a)=>fh(s,a)))}function fh(r,e){let t;return Dn(r instanceof kr||r instanceof li),Dn(e instanceof kr||e instanceof li),t=r instanceof kr?e instanceof kr?li.create([r,e],"and"):Qm(r,e):e instanceof kr?Qm(e,r):function(s,a){if(Dn(s.filters.length>0&&a.filters.length>0),fa(s)&&fa(a))return zl(s,a.getFilters());const d=Kc(s)?s:a,g=Kc(s)?a:s,D=d.filters.map(L=>fh(L,g));return li.create(D,"or")}(r,e),kf(t)}function Qm(r,e){if(fa(e))return zl(e,r.getFilters());{const t=e.filters.map(s=>fh(r,s));return li.create(t,"or")}}function kf(r){if(Dn(r instanceof kr||r instanceof li),r instanceof kr)return r;const e=r.getFilters();if(1===e.length)return kf(e[0]);if(Bp(r))return r;const t=e.map(a=>kf(a)),s=[];return t.forEach(a=>{a instanceof kr?s.push(a):a instanceof li&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:li.create(s,r.op)}class Jm{constructor(){this.rn=new bc}addToCollectionParentIndex(e,t){return this.rn.add(t),vt.resolve()}getCollectionParents(e,t){return vt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return vt.resolve()}deleteFieldIndex(e,t){return vt.resolve()}getDocumentsMatchingTarget(e,t){return vt.resolve(null)}getIndexType(e,t){return vt.resolve(0)}getFieldIndexes(e,t){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,t){return vt.resolve(nn.min())}getMinOffsetFromCollectionGroup(e,t){return vt.resolve(nn.min())}updateCollectionGroup(e,t,s){return vt.resolve()}updateIndexEntries(e,t){return vt.resolve()}}class bc{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new pt(Pr.comparator),d=!a.has(s);return this.index[t]=a.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pt(Pr.comparator)).toArray()}}const Nf=new Uint8Array(0);class Kv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new bc,this.un=new Na(s=>Oa(s),(s,a)=>Fu(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const d={collectionId:s,parent:Ki(a)};return ey(e).put(d)}return vt.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Au(t),""],!1,!0);return ey(e).j(a).next(d=>{for(const g of d){if(g.collectionId!==t)break;s.push(Ro(g.parent))}return s})}addFieldIndex(e,t){const s=ld(e),a={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var g;delete a.indexId;const d=s.add(a);if(t.indexState){const g=dd(e);return d.next(D=>{g.put(Wv(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=ld(e),a=dd(e),d=ph(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=ph(e);let a=!0;const d=new Map;return vt.forEach(this.cn(t),g=>this.an(e,g).next(D=>{a&&(a=!!D),d.set(g,D)})).next(()=>{if(a){let g=wr();const D=[];return vt.forEach(d,(L,H)=>{var ie;Zt("IndexedDbIndexManager",`Using index ${ie=L,`id=${ie.indexId}|cg=${ie.collectionGroup}|f=${ie.fields.map(Fr=>`${Fr.fieldPath}:${Fr.kind}`).join(",")}`} to execute ${Oa(t)}`);const Le=function(Fr,us){const Oi=I(us);if(void 0===Oi)return null;for(const Bi of ql(Fr,Oi.fieldPath))switch(Bi.op){case"array-contains-any":return Bi.value.arrayValue.values||[];case"array-contains":return[Bi.value]}return null}(H,L),Dt=function(Fr,us){const Oi=new Map;for(const Bi of E(us))for(const Co of ql(Fr,Bi.fieldPath))switch(Co.op){case"==":case"in":Oi.set(Bi.fieldPath.canonicalString(),Co.value);break;case"not-in":case"!=":return Oi.set(Bi.fieldPath.canonicalString(),Co.value),Array.from(Oi.values())}return null}(H,L),Lt=function(Fr,us){const Oi=[];let Bi=!0;for(const Co of E(us)){const Nl=0===Co.kind?Kl(Fr,Co.fieldPath,Fr.startAt):Yl(Fr,Co.fieldPath,Fr.startAt);Oi.push(Nl.value),Bi&&(Bi=Nl.inclusive)}return new au(Oi,Bi)}(H,L),an=function(Fr,us){const Oi=[];let Bi=!0;for(const Co of E(us)){const Nl=0===Co.kind?Yl(Fr,Co.fieldPath,Fr.endAt):Kl(Fr,Co.fieldPath,Fr.endAt);Oi.push(Nl.value),Bi&&(Bi=Nl.inclusive)}return new au(Oi,Bi)}(H,L),In=this.hn(L,H,Lt),Fn=this.hn(L,H,an),Mr=this.ln(L,H,Dt),Xr=this.fn(L.indexId,Le,In,Lt.inclusive,Fn,an.inclusive,Mr);return vt.forEach(Xr,Fr=>s.H(Fr,t.limit).next(us=>{us.forEach(Oi=>{const Bi=tn.fromSegments(Oi.documentKey);g.has(Bi)||(g=g.add(Bi),D.push(Bi))})}))}).next(()=>D)}return vt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:qv(li.create(e.filters,"and")).map(s=>Qd(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,d,g,D){const L=(null!=t?t.length:1)*Math.max(s.length,d.length),H=L/(null!=t?t.length:1),ie=[];for(let Le=0;Le<L;++Le){const Dt=t?this.dn(t[Le/H]):Nf,Lt=this.wn(e,Dt,s[Le%H],a),an=this._n(e,Dt,d[Le%H],g),In=D.map(Fn=>this.wn(e,Dt,Fn,!0));ie.push(...this.createRange(Lt,an,In))}return ie}wn(e,t,s,a){const d=new dl(e,tn.empty(),t,s);return a?d:d.Je()}_n(e,t,s,a){const d=new dl(e,tn.empty(),t,s);return a?d.Je():d}an(e,t){const s=new eg(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(d=>{let g=null;for(const D of d)s.tn(D)&&(!g||D.fields.length>g.fields.length)&&(g=D);return g})}getIndexType(e,t){let s=2;const a=this.cn(t);return vt.forEach(a,d=>this.an(e,d).next(g=>{g?0!==s&&g.fields.length<function(D){let L=new pt(Fi.comparator),H=!1;for(const ie of D.filters)for(const Le of ie.getFlattenedFilters())Le.field.isKeyField()||("array-contains"===Le.op||"array-contains-any"===Le.op?H=!0:L=L.add(Le.field));for(const ie of D.orderBy)ie.field.isKeyField()||(L=L.add(ie.field));return L.size+(H?1:0)}(d)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new $a;for(const a of E(e)){const d=t.data.field(a.fieldPath);if(null==d)return null;const g=s.He(a.kind);Gu.Ve._e(d,g)}return s.Qe()}dn(e){const t=new $a;return Gu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new $a;return Gu.Ve._e(Nu(this.databaseId,t),s.He(function(a){const d=E(a);return 0===d.length?0:d[d.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new $a);let d=0;for(const g of E(e)){const D=s[d++];for(const L of a)if(this.yn(t,g.fieldPath)&&zc(D))a=this.pn(a,g,D);else{const H=L.He(g.kind);Gu.Ve._e(D,H)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],d=[];for(const g of s.arrayValue.values||[])for(const D of a){const L=new $a;L.seed(D.Qe()),Gu.Ve._e(g,L.He(t.kind)),d.push(L)}return d}yn(e,t){return!!e.filters.find(s=>s instanceof kr&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=ld(e),a=dd(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(d=>{const g=[];return vt.forEach(d,D=>a.get([D.indexId,this.uid]).next(L=>{g.push(function(H,ie){const Le=ie?new Ie(ie.sequenceNumber,new nn(cl(ie.readTime),new tn(Ro(ie.documentKey)),ie.largestBatchId)):Ie.empty(),Dt=H.fields.map(([Lt,an])=>new $(Fi.fromServerFormat(Lt),an));return new b(H.indexId,H.collectionGroup,Dt,Le)}(D,L))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const d=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==d?d:ur(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=ld(e),d=dd(e);return this.Tn(e).next(g=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>vt.forEach(D,L=>d.put(Wv(L.indexId,this.user,g,s)))))}updateIndexEntries(e,t){const s=new Map;return vt.forEach(t,(a,d)=>{const g=s.get(a.collectionGroup);return(g?vt.resolve(g):this.getFieldIndexes(e,a.collectionGroup)).next(D=>(s.set(a.collectionGroup,D),vt.forEach(D,L=>this.En(e,a,L).next(H=>{const ie=this.An(d,L);return H.isEqual(ie)?vt.resolve():this.vn(e,d,L,H,ie)}))))})}Rn(e,t,s,a){return ph(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return ph(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=ph(e);let d=new pt(pu);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(g,D)=>{d=d.add(new dl(s.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>d)}An(e,t){let s=new pt(pu);const a=this.mn(t,e);if(null==a)return s;const d=I(t);if(null!=d){const g=e.data.field(d.fieldPath);if(zc(g))for(const D of g.arrayValue.values||[])s=s.add(new dl(t.indexId,e.key,this.dn(D),a))}else s=s.add(new dl(t.indexId,e.key,Nf,a));return s}vn(e,t,s,a,d){Zt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(D,L,H,ie,Le){const Dt=D.getIterator(),Lt=L.getIterator();let an=_n(Dt),In=_n(Lt);for(;an||In;){let Fn=!1,Mr=!1;if(an&&In){const Xr=H(an,In);Xr<0?Mr=!0:Xr>0&&(Fn=!0)}else null!=an?Mr=!0:Fn=!0;Fn?(ie(In),In=_n(Lt)):Mr?(Le(an),an=_n(Dt)):(an=_n(Dt),In=_n(Lt))}}(a,d,pu,D=>{g.push(this.Rn(e,t,s,D))},D=>{g.push(this.Pn(e,t,s,D))}),vt.waitFor(g)}Tn(e){let t=1;return dd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,d)=>{d.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((g,D)=>pu(g,D)).filter((g,D,L)=>!D||0!==pu(g,L[D-1]));const a=[];a.push(e);for(const g of s){const D=pu(g,e),L=pu(g,t);if(0===D)a[0]=e.Je();else if(D>0&&L<0)a.push(g),a.push(g.Je());else if(L>0)break}a.push(t);const d=[];for(let g=0;g<a.length;g+=2){if(this.bn(a[g],a[g+1]))return[];d.push(IDBKeyRange.bound([a[g].indexId,this.uid,a[g].arrayValue,a[g].directionalValue,Nf,[]],[a[g+1].indexId,this.uid,a[g+1].arrayValue,a[g+1].directionalValue,Nf,[]]))}return d}bn(e,t){return pu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tg)}getMinOffset(e,t){return vt.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||An())).next(tg)}}function ey(r){return ji(r,"collectionParents")}function ph(r){return ji(r,"indexEntries")}function ld(r){return ji(r,"indexConfiguration")}function dd(r){return ji(r,"indexState")}function tg(r){Dn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;xr(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new nn(e.readTime,e.documentKey,t)}const Ua={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new lo(e,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ff(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),d=[],g=IDBKeyRange.only(t.batchId);let D=0;const L=s.X({range:g},(ie,Le,Dt)=>(D++,Dt.delete()));d.push(L.next(()=>{Dn(1===D)}));const H=[];for(const ie of t.mutations){const Le=Go(e,ie.key.path,t.batchId);d.push(a.delete(Le)),H.push(ie.key)}return vt.waitFor(d).next(()=>H)}function hd(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw An();e=r.noDocument}return JSON.stringify(e).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class Lf{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){Dn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Lf(d,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fl(e).X({index:"userMutationsIndex",range:s},(a,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const d=gh(e),g=fl(e);return g.add({}).next(D=>{Dn("number"==typeof D);const L=new h(D,t,s,a),H=function(Dt,Lt,an){const In=an.baseMutations.map(Mr=>od(Dt.fe,Mr)),Fn=an.mutations.map(Mr=>od(Dt.fe,Mr));return{userId:Lt,batchId:an.batchId,localWriteTimeMs:an.localWriteTime.toMillis(),baseMutations:In,mutations:Fn}}(this.serializer,this.userId,L),ie=[];let Le=new pt((Dt,Lt)=>ur(Dt.canonicalString(),Lt.canonicalString()));for(const Dt of a){const Lt=Go(this.userId,Dt.key.path,D);Le=Le.add(Dt.key.path.popLast()),ie.push(g.put(H)),ie.push(d.put(Lt,jc))}return Le.forEach(Dt=>{ie.push(this.indexManager.addToCollectionParentIndex(e,Dt))}),e.addOnCommittedListener(()=>{this.Vn[D]=L.keys()}),vt.waitFor(ie).next(()=>L)})}lookupMutationBatch(e,t){return fl(e).get(t).next(s=>s?(Dn(s.userId===this.userId),ll(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?vt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return fl(e).X({index:"userMutationsIndex",range:a},(g,D,L)=>{D.userId===this.userId&&(Dn(D.batchId>=s),d=ll(this.serializer,D)),L.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return fl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fl(e).j("userMutationsIndex",t).next(s=>s.map(a=>ll(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Po(this.userId,t.path),a=IDBKeyRange.lowerBound(s),d=[];return gh(e).X({range:a},(g,D,L)=>{const[H,ie,Le]=g,Dt=Ro(ie);if(H===this.userId&&t.path.isEqual(Dt))return fl(e).get(Le).next(Lt=>{if(!Lt)throw An();Dn(Lt.userId===this.userId),d.push(ll(this.serializer,Lt))});L.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pt(ur);const a=[];return t.forEach(d=>{const g=Po(this.userId,d.path),D=IDBKeyRange.lowerBound(g),L=gh(e).X({range:D},(H,ie,Le)=>{const[Dt,Lt,an]=H,In=Ro(Lt);Dt===this.userId&&d.path.isEqual(In)?s=s.add(an):Le.done()});a.push(L)}),vt.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,d=Po(this.userId,s),g=IDBKeyRange.lowerBound(d);let D=new pt(ur);return gh(e).X({range:g},(L,H,ie)=>{const[Le,Dt,Lt]=L,an=Ro(Dt);Le===this.userId&&s.isPrefixOf(an)?an.length===a&&(D=D.add(Lt)):ie.done()}).next(()=>this.Dn(e,D))}Dn(e,t){const s=[],a=[];return t.forEach(d=>{a.push(fl(e).get(d).next(g=>{if(null===g)throw An();Dn(g.userId===this.userId),s.push(ll(this.serializer,g))}))}),vt.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Ff(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),vt.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return vt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return gh(e).X({range:s},(d,g,D)=>{if(d[0]===this.userId){const L=Ro(d[1]);a.push(L)}else D.done()}).next(()=>{Dn(0===a.length)})})}containsKey(e,t){return Yv(e,this.userId,t)}xn(e){return ty(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yv(r,e,t){const s=Po(e,t.path),a=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return gh(r).X({range:d,Y:!0},(D,L,H)=>{const[ie,Le,Dt]=D;ie===e&&Le===a&&(g=!0),H.done()}).next(()=>g)}function fl(r){return ji(r,"mutations")}function gh(r){return ji(r,"documentMutations")}function ty(r){return ji(r,"mutationQueues")}class Dc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Dc(0)}static Mn(){return new Dc(-1)}}class lE{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Dc(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>$n.fromTimestamp(new Ai(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fd(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(Dn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const d=[];return fd(e).X((g,D)=>{const L=ud(D);L.sequenceNumber<=t&&null===s.get(L.targetId)&&(a++,d.push(this.removeTargetData(e,L)))}).next(()=>vt.waitFor(d)).next(()=>a)}forEachTarget(e,t){return fd(e).X((s,a)=>{const d=ud(a);t(d)})}$n(e){return pl(e).get("targetGlobalKey").next(t=>(Dn(null!==t),t))}On(e,t){return pl(e).put("targetGlobalKey",t)}Fn(e,t){return fd(e).put(Wm(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Oa(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return fd(e).X({range:a,index:"queryTargetsIndex"},(g,D,L)=>{const H=ud(D);Fu(t,H.target)&&(d=H,L.done())}).next(()=>d)}addMatchingKeys(e,t,s){const a=[],d=Cc(e);return t.forEach(g=>{const D=Ki(g.path);a.push(d.put({targetId:s,path:D})),a.push(this.referenceDelegate.addReference(e,s,g))}),vt.waitFor(a)}removeMatchingKeys(e,t,s){const a=Cc(e);return vt.forEach(t,d=>{const g=Ki(d.path);return vt.waitFor([a.delete([s,g]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=Cc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Cc(e);let d=wr();return a.X({range:s,Y:!0},(g,D,L)=>{const H=Ro(g[1]),ie=new tn(H);d=d.add(ie)}).next(()=>d)}containsKey(e,t){const s=Ki(t.path),a=IDBKeyRange.bound([s],[Au(s)],!1,!0);let d=0;return Cc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([g,D],L,H)=>{0!==g&&(d++,H.done())}).next(()=>d>0)}le(e,t){return fd(e).get(t).next(s=>s?ud(s):null)}}function fd(r){return ji(r,"targets")}function pl(r){return ji(r,"targetGlobal")}function Cc(r){return ji(r,"targetDocuments")}function ng([r,e],[t,s]){const a=ur(r,t);return 0===a?ur(e,s):a}class Bf{constructor(e){this.Ln=e,this.buffer=new pt(ng),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ng(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ny{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Zt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,J.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){ao(s)?Zt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield si(s)}yield t.Qn(3e5)}))}}class ry{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return vt.resolve(os.ct);const s=new Bf(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(Ua)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ua):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,d,g,D,L,H;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Le=>(Le>this.params.maximumSequenceNumbersToCollect?(Zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Le}`),a=this.params.maximumSequenceNumbersToCollect):a=Le,g=Date.now(),this.nthSequenceNumber(e,a))).next(Le=>(s=Le,D=Date.now(),this.removeTargets(e,s,t))).next(Le=>(d=Le,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(Le=>(H=Date.now(),Ys()<=st.in.DEBUG&&Zt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-ie}ms\n\tDetermined least recently used ${a} in `+(D-g)+`ms\n\tRemoved ${d} targets in `+(L-D)+`ms\n\tRemoved ${Le} documents in `+(H-L)+`ms\nTotal Duration: ${H-ie}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:Le})))}}class Zv{constructor(e,t){this.db=e,this.garbageCollector=function iy(r,e){return new ry(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Vf(e,s)}removeReference(e,t,s){return Vf(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Vf(e,t)}Xn(e,t){return function(s,a){let d=!1;return ty(s).Z(g=>Yv(s,g,a).next(D=>(D&&(d=!0),vt.resolve(!D)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.Yn(e,(g,D)=>{if(D<=t){const L=this.Xn(e,g).next(H=>{if(!H)return d++,s.getEntry(e,g).next(()=>(s.removeEntry(g,$n.min()),Cc(e).delete([0,Ki(g.path)])))});a.push(L)}}).next(()=>vt.waitFor(a)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Vf(e,t)}Yn(e,t){const s=Cc(e);let a,d=os.ct;return s.X({index:"documentTargetsIndex"},([g,D],{path:L,sequenceNumber:H})=>{0===g?(d!==os.ct&&t(new tn(Ro(a)),d),d=H,a=L):d=os.ct}).next(()=>{d!==os.ct&&t(new tn(Ro(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vf(r,e){return Cc(r).put((s=r.currentSequenceNumber,{targetId:0,path:Ki(e.path),sequenceNumber:s}));var s}class sy{constructor(){this.changes=new Na(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?vt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Tc(e).put(s)}removeEntry(e,t,s){return Tc(e).delete(function(a,d){const g=a.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],uh(d),g[g.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=xi.newInvalidDocument(t);return Tc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gl(t))},(a,d)=>{s=this.ts(t,d)}).next(()=>s)}es(e,t){let s={size:0,document:xi.newInvalidDocument(t)};return Tc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gl(t))},(a,d)=>{s={document:this.ts(t,d),size:hd(d)}}).next(()=>s)}getEntries(e,t){let s=co();return this.ns(e,t,(a,d)=>{const g=this.ts(a,d);s=s.insert(a,g)}).next(()=>s)}ss(e,t){let s=co(),a=new z(tn.comparator);return this.ns(e,t,(d,g)=>{const D=this.ts(d,g);s=s.insert(d,D),a=a.insert(d,hd(g))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return vt.resolve();let a=new pt($f);t.forEach(L=>a=a.add(L));const d=IDBKeyRange.bound(gl(a.first()),gl(a.last())),g=a.getIterator();let D=g.getNext();return Tc(e).X({index:"documentKeyIndex",range:d},(L,H,ie)=>{const Le=tn.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;D&&$f(D,Le)<0;)s(D,null),D=g.getNext();D&&D.isEqual(Le)&&(s(D,H),D=g.hasNext()?g.getNext():null),D?ie.G(gl(D)):ie.done()}).next(()=>{for(;D;)s(D,null),D=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const d=t.path,g=[d.popLast().toArray(),d.lastSegment(),uh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],D=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tc(e).j(IDBKeyRange.bound(g,D,!0)).next(L=>{let H=co();for(const ie of L){const Le=this.ts(tn.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);Le.isFoundDocument()&&(Yc(t,Le)||a.has(Le.key))&&(H=H.insert(Le.key,Le))}return H})}getAllFromCollectionGroup(e,t,s,a){let d=co();const g=Jv(t,s),D=Jv(t,nn.max());return Tc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,D,!0)},(L,H,ie)=>{const Le=this.ts(tn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);d=d.insert(Le.key,Le),d.size===a&&ie.done()}).next(()=>d)}newChangeBuffer(e){return new Qv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ig(e).get("remoteDocumentGlobalKey").next(t=>(Dn(!!t),t))}Zn(e,t){return ig(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Nr(r,e){let t;if(e.document)t=Nm(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=tn.fromSegments(e.noDocument.path),a=cl(e.noDocument.readTime);t=xi.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return An();{const s=tn.fromSegments(e.unknownDocument.path),a=cl(e.unknownDocument.version);t=xi.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Ai(s[0],s[1]);return $n.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual($n.min()))return s}return xi.newInvalidDocument(e)}}function rg(r){return new Xv(r)}class Qv extends sy{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Na(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new pt((d,g)=>ur(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const D=this.us.get(d);if(t.push(this.os.removeEntry(e,d,D.readTime)),g.isValidDocument()){const L=Kp(this.os.serializer,g);a=a.add(d.path.popLast()),s+=hd(L)-D.size,t.push(this.os.addEntry(e,d,L))}else if(s-=D.size,this.trackRemovals){const L=Kp(this.os.serializer,g.convertToNoDocument($n.min()));t.push(this.os.addEntry(e,d,L))}}),a.forEach(d=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.os.updateMetadata(e,s)),vt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((d,g)=>{this.us.set(d,{size:g,readTime:s.get(d).readTime})}),s))}}function ig(r){return ji(r,"remoteDocumentGlobal")}function Tc(r){return ji(r,"remoteDocumentsV14")}function gl(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jv(r,e){const t=e.documentKey.path.toArray();return[r,uh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $f(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(a=ur(t[d],s[d]),a)return a;return a=ur(t.length,s.length),a||(a=ur(t[t.length-2],s[s.length-2]),a||ur(t[t.length-1],s[s.length-1]))}class e_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class t_{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Ts(s.mutation,a,pn.empty(),Ai.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,wr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=wr()){const a=ga();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(d=>{let g=Zc();return d.forEach((D,L)=>{g=g.insert(D,L.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const s=ga();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,wr()))}populateOverlays(e,t,s){const a=[];return s.forEach(d=>{t.has(d)||a.push(d)}),this.documentOverlayCache.getOverlays(e,a).next(d=>{d.forEach((g,D)=>{t.set(g,D)})})}computeViews(e,t,s,a){let d=co();const g=Xc(),D=Xc();return t.forEach((L,H)=>{const ie=s.get(H.key);a.has(H.key)&&(void 0===ie||ie.mutation instanceof No)?d=d.insert(H.key,H):void 0!==ie?(g.set(H.key,ie.mutation.getFieldMask()),Ts(ie.mutation,H,ie.mutation.getFieldMask(),Ai.now())):g.set(H.key,pn.empty())}),this.recalculateAndSaveOverlays(e,d).next(L=>(L.forEach((H,ie)=>g.set(H,ie)),t.forEach((H,ie)=>{var Le;return D.set(H,new e_(ie,null!==(Le=g.get(H))&&void 0!==Le?Le:null))}),D))}recalculateAndSaveOverlays(e,t){const s=Xc();let a=new z((g,D)=>g-D),d=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const D of g)D.keys().forEach(L=>{const H=t.get(L);if(null===H)return;let ie=s.get(L)||pn.empty();ie=D.applyToLocalView(H,ie),s.set(L,ie);const Le=(a.get(D.batchId)||wr()).add(L);a=a.insert(D.batchId,Le)})}).next(()=>{const g=[],D=a.getReverseIterator();for(;D.hasNext();){const L=D.getNext(),H=L.key,ie=L.value,Le=th();ie.forEach(Dt=>{if(!d.has(Dt)){const Lt=sh(t.get(Dt),s.get(Dt));null!==Lt&&Le.set(Dt,Lt),d=d.add(Dt)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,Le))}return vt.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return tn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_f(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(d=>{const g=a-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-d.size):vt.resolve(ga());let D=-1,L=d;return g.next(H=>vt.forEach(H,(ie,Le)=>(D<Le.largestBatchId&&(D=Le.largestBatchId),d.get(ie)?vt.resolve():this.remoteDocumentCache.getEntry(e,ie).next(Dt=>{L=L.insert(ie,Dt)}))).next(()=>this.populateOverlays(e,H,d)).next(()=>this.computeViews(e,L,H,wr())).next(ie=>({batchId:D,changes:eh(ie)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(s=>{let a=Zc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let d=Zc();return this.indexManager.getCollectionParents(e,a).next(g=>vt.forEach(g,D=>{const L=(H=t,ie=D.child(a),new pa(ie,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,ie;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(H=>{H.forEach((ie,Le)=>{d=d.insert(ie,Le)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(a=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(d=>{a.forEach((D,L)=>{const H=L.getKey();null===d.get(H)&&(d=d.insert(H,xi.newInvalidDocument(H)))});let g=Zc();return d.forEach((D,L)=>{const H=a.get(D);void 0!==H&&Ts(H.mutation,L,pn.empty(),Ai.now()),Yc(t,L)&&(g=g.insert(D,L))}),g})}}class pd{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return vt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:ns(s.createTime)}),vt.resolve()}getNamedQuery(e,t){return vt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Pf(s.bundledQuery),readTime:ns(s.readTime)}),vt.resolve();var s}}class oy{constructor(){this.overlays=new z(tn.comparator),this.ls=new Map}getOverlay(e,t){return vt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ga();return vt.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&s.set(a,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,d)=>{this.we(e,t,d)}),vt.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(d=>this.overlays=this.overlays.remove(d)),this.ls.delete(s)),vt.resolve()}getOverlaysForCollection(e,t,s){const a=ga(),d=t.length+1,g=new tn(t.child("")),D=this.overlays.getIteratorFrom(g);for(;D.hasNext();){const L=D.getNext().value,H=L.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===d&&L.largestBatchId>s&&a.set(L.getKey(),L)}return vt.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let d=new z((H,ie)=>H-ie);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let ie=d.get(H.largestBatchId);null===ie&&(ie=ga(),d=d.insert(H.largestBatchId,ie)),ie.set(H.getKey(),H)}}const D=ga(),L=d.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((H,ie)=>D.set(H,ie)),!(D.size()>=a)););return vt.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const g=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new w(t,s));let d=this.ls.get(t);void 0===d&&(d=wr(),this.ls.set(t,d)),this.ls.set(t,d.add(s.key))}}class sg{constructor(){this.fs=new pt(Us.ds),this.ws=new pt(Us._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Us(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Us(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new tn(new Pr([])),s=new Us(t,e),a=new Us(t,e+1),d=[];return this.ws.forEachInRange([s,a],g=>{this.ys(g),d.push(g.key)}),d}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new tn(new Pr([])),s=new Us(t,e),a=new Us(t,e+1);let d=wr();return this.ws.forEachInRange([s,a],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new Us(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Us{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return tn.comparator(e.key,t.key)||ur(e.As,t.As)}static _s(e,t){return ur(e.As,t.As)||tn.comparator(e.key,t.key)}}class og{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pt(Us.ds)}checkEmpty(e){return vt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const d=this.vs;this.vs++;const g=new h(d,t,s,a);this.mutationQueue.push(g);for(const D of a)this.Rs=this.Rs.add(new Us(D.key,d)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return vt.resolve(g)}lookupMutationBatch(e,t){return vt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),d=a<0?0:a;return vt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Us(t,0),a=new Us(t,Number.POSITIVE_INFINITY),d=[];return this.Rs.forEachInRange([s,a],g=>{const D=this.Ps(g.As);d.push(D)}),vt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pt(ur);return t.forEach(a=>{const d=new Us(a,0),g=new Us(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([d,g],D=>{s=s.add(D.As)})}),vt.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let d=s;tn.isDocumentKey(d)||(d=d.child(""));const g=new Us(new tn(d),0);let D=new pt(ur);return this.Rs.forEachWhile(L=>{const H=L.key.path;return!!s.isPrefixOf(H)&&(H.length===a&&(D=D.add(L.As)),!0)},g),vt.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Dn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return vt.forEach(t.mutations,a=>{const d=new Us(a.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Us(t,0),a=this.Rs.firstAfterOrEqual(s);return vt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return vt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dE{constructor(e){this.Ds=e,this.docs=new z(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),d=a?a.size:0,g=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return vt.resolve(s?s.document.mutableCopy():xi.newInvalidDocument(t))}getEntries(e,t){let s=co();return t.forEach(a=>{const d=this.docs.get(a);s=s.insert(a,d?d.document.mutableCopy():xi.newInvalidDocument(a))}),vt.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let d=co();const g=t.path,D=new tn(g.child("")),L=this.docs.getIteratorFrom(D);for(;L.hasNext();){const{key:H,value:{document:ie}}=L.getNext();if(!g.isPrefixOf(H.path))break;H.path.length>g.length+1||xr(Vt(ie),s)<=0||(a.has(ie.key)||Yc(t,ie))&&(d=d.insert(ie.key,ie.mutableCopy()))}return vt.resolve(d)}getAllFromCollectionGroup(e,t,s,a){An()}Cs(e,t){return vt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new hE(this)}getSize(e){return vt.resolve(this.size)}}class hE extends sy{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),vt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ag{constructor(e){this.persistence=e,this.xs=new Na(t=>Oa(t),Fu),this.lastRemoteSnapshotVersion=$n.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sg,this.targetCount=0,this.Ms=Dc.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),vt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Dc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,vt.resolve()}updateTargetData(e,t){return this.Fn(t),vt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,t,s){let a=0;const d=[];return this.xs.forEach((g,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),vt.waitFor(d).next(()=>a)}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return vt.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),vt.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(g=>{d.push(a.markPotentiallyOrphaned(e,g))}),vt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),vt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return vt.resolve(s)}containsKey(e,t){return vt.resolve(this.ks.containsKey(t))}}class ay{constructor(e,t){this.$s={},this.overlays={},this.Os=new os(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ag(this),this.indexManager=new Jm,this.remoteDocumentCache=new dE(s=>this.referenceDelegate.Ls(s)),this.serializer=new zm(t),this.qs=new pd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new og(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Zt("MemoryPersistence","Starting transaction:",e);const a=new fE(this.Os.next());return this.referenceDelegate.Us(),s(a).next(d=>this.referenceDelegate.Ks(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Gs(e,t){return vt.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class fE extends pi{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Qs=new sg,this.js=null}static zs(e){return new ug(e)}get Ws(){if(this.js)return this.js;throw An()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),vt.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),vt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),vt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.Ws.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.Ws,s=>{const a=tn.fromPath(s);return this.Hs(e,a).next(d=>{d||t.removeEntry(a,$n.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return vt.or([()=>vt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class pE{constructor(e){this.serializer=e}O(e,t,s,a){const d=new oo("createOrUpgrade",t);var D;s<1&&a>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ru,{unique:!0}),D.createObjectStore("documentMutations"),lg(e),function(D){D.createObjectStore("remoteDocuments")}(e));let g=vt.resolve();return s<3&&a>=3&&(0!==s&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),lg(e)),g=g.next(()=>function(D){const L=D.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$n.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",H)}(d))),s<4&&a>=4&&(0!==s&&(g=g.next(()=>function(D,L){return L.store("mutations").j().next(H=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ru,{unique:!0});const ie=L.store("mutations"),Le=H.map(Dt=>ie.put(Dt));return vt.waitFor(Le)})}(e,d))),g=g.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(g=g.next(()=>this.Ys(d))),s<6&&a>=6&&(g=g.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(d)))),s<7&&a>=7&&(g=g.next(()=>this.Zs(d))),s<8&&a>=8&&(g=g.next(()=>this.ti(e,d))),s<9&&a>=9&&(g=g.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(g=g.next(()=>this.ei(d))),s<11&&a>=11&&(g=g.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(g=g.next(()=>{!function(D){const L=D.createObjectStore("documentOverlays",{keyPath:iu});L.createIndex("collectionPathOverlayIndex",Ul,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",ca,{unique:!1})}(e)})),s<13&&a>=13&&(g=g.next(()=>function(D){const L=D.createObjectStore("remoteDocumentsV14",{keyPath:Ri});L.createIndex("documentKeyIndex",ru),L.createIndex("collectionGroupIndex",ac)}(e)).next(()=>this.ni(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(g=g.next(()=>this.si(e,d))),s<15&&a>=15&&(g=g.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:Hc}).createIndex("sequenceNumberIndex",Pu,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Oo}).createIndex("documentKeyIndex",Ou,{unique:!1})}(e))),g}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=hd(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>vt.forEach(a,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",g).next(D=>vt.forEach(D,L=>{Dn(L.userId===d.userId);const H=ll(this.serializer,L);return Ff(e,d.userId,H).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const d=[];return s.X((g,D)=>{const L=new Pr(g),H=[0,Ki(L)];d.push(t.get(H).next(ie=>ie?vt.resolve():t.put({targetId:0,path:Ki(L),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>vt.waitFor(d))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:$l});const s=t.store("collectionParents"),a=new bc,d=g=>{if(a.add(g)){const D=g.lastSegment(),L=g.popLast();return s.put({collectionId:D,parent:Ki(L)})}};return t.store("remoteDocuments").X({Y:!0},(g,D)=>{const L=new Pr(g);return d(L.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([g,D,L],H)=>{const ie=Ro(D);return d(ie.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const d=ud(a),g=Wm(this.serializer,d);return t.put(g)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((d,g)=>{const D=t.store("remoteDocumentsV14"),L=(H=g,H.document?new tn(Pr.fromString(H.document.name).popFirst(5)):H.noDocument?tn.fromSegments(H.noDocument.path):H.unknownDocument?tn.fromSegments(H.unknownDocument.path):An()).path.toArray();var H;const ie={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};a.push(D.put(ie))}).next(()=>vt.waitFor(a))}si(e,t){const s=t.store("mutations"),a=rg(this.serializer),d=new ay(ug.zs,this.serializer.fe);return s.j().next(g=>{const D=new Map;return g.forEach(L=>{var H;let ie=null!==(H=D.get(L.userId))&&void 0!==H?H:wr();ll(this.serializer,L).keys().forEach(Le=>ie=ie.add(Le)),D.set(L.userId,ie)}),vt.forEach(D,(L,H)=>{const ie=new ts(H),Le=ch.de(this.serializer,ie),Dt=d.getIndexManager(ie),Lt=Lf.de(ie,this.serializer,Dt,d.referenceDelegate);return new t_(a,Lt,Le,Dt).recalculateAndSaveOverlaysForDocumentKeys(new la(t,os.ct),L).next()})})}}function lg(r){r.createObjectStore("targetDocuments",{keyPath:uc}).createIndex("documentTargetsIndex",cf,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zo,{unique:!0}),r.createObjectStore("targetGlobal")}const mh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uf{constructor(e,t,s,a,d,g,D,L,H,ie,Le=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=d,this.window=g,this.document=D,this.ri=H,this.oi=ie,this.ui=Le,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Dt=>Promise.resolve(),!Uf.D())throw new Gt(St.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zv(this,a),this.di=t+"main",this.serializer=new zm(L),this.wi=new qi(this.di,this.ui,new pE(this.serializer)),this.Bs=new lE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rg(this.serializer),this.qs=new Zp,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ie&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Gt(St.FAILED_PRECONDITION,mh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new os(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,J.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,J.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,J.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ao(e))return Zt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Zt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return yh(e).get("owner").next(t=>vt.resolve(this.Ri(t)))}Pi(e){return vh(e).delete(this.clientId)}bi(){var e=this;return(0,J.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=ji(s,"clientMetadata");return a.j().next(d=>{const g=e.Si(d,18e5),D=d.filter(L=>-1===g.indexOf(L));return vt.forEach(D,L=>a.delete(L.clientId)).next(()=>D)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?vt.resolve(!0):yh(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Gt(St.FAILED_PRECONDITION,mh);return!1}}return!(!this.networkEnabled||!this.inForeground)||vh(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>{if(this.clientId!==a.clientId){const g=!this.inForeground&&a.inForeground,D=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||g&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Zt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,J.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new la(t,os.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>vh(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Lf.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Kv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ch.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){Zt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",d=15===(g=this.ui)?cc:14===g?zd:13===g?jl:12===g?uo:11===g?su:void An();var g;let D;return this.wi.runTransaction(e,a,d,L=>(D=new la(L,this.Os?this.Os.next():os.ct),"readwrite-primary"===t?this.Ti(D).next(H=>!!H||this.Ei(D)).next(H=>{if(!H)throw ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Gt(St.FAILED_PRECONDITION,jn);return s(D)}).next(H=>this.vi(D).next(()=>H)):this.Oi(D).next(()=>s(D)))).then(L=>(D.raiseOnCommittedEvent(),L))}Oi(e){return yh(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Gt(St.FAILED_PRECONDITION,mh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yh(e).put("owner",t)}static D(){return qi.D()}Ai(e){const t=yh(e);return t.get("owner").next(s=>this.Ri(s)?(Zt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):vt.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(ii(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Xe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Zt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ii("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ii("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yh(r){return ji(r,"owner")}function vh(r){return ji(r,"clientMetadata")}function jf(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class gd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=wr(),a=wr();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new gd(e,t.fromCache,s,a)}}class va{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(d=>d||this.Gi(e,t,a,s)).next(d=>d||this.Qi(e,t))}Ki(e,t){if(vf(t))return vt.resolve(null);let s=as(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Xl(t,null,"F"),s=as(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const g=wr(...d);return this.Ui.getDocuments(e,g).next(D=>this.indexManager.getMinOffset(e,s).next(L=>{const H=this.ji(t,D);return this.zi(t,H,g,L.readTime)?this.Ki(e,Xl(t,null,"F")):this.Wi(e,H,t,L)}))})))}Gi(e,t,s,a){return vf(t)||a.isEqual($n.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(d=>{const g=this.ji(t,d);return this.zi(t,g,s,a)?this.Qi(e,t):(Ys()<=st.in.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jd(t)),this.Wi(e,g,t,Qe(a,-1)))})}ji(e,t){let s=new pt(Ql(e));return t.forEach((a,d)=>{Yc(e,d)&&(s=s.add(d))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Qi(e,t){return Ys()<=st.in.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",Jd(t)),this.Ui.getDocumentsMatchingQuery(e,t,nn.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(d=>(t.forEach(g=>{d=d.insert(g.key,g)}),d))}}class uy{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new z(ur),this.Yi=new Na(d=>Oa(d),Fu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function cy(r,e,t,s){return new uy(r,e,t,s)}function Hf(r,e){return ja.apply(this,arguments)}function ja(){return ja=(0,J.Z)(function*(r,e){const t=yn(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(d=>(a=d,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const g=[],D=[];let L=wr();for(const H of a){g.push(H.batchId);for(const ie of H.mutations)L=L.add(ie.key)}for(const H of d){D.push(H.batchId);for(const ie of H.mutations)L=L.add(ie.key)}return t.localDocuments.getDocuments(s,L).next(H=>({er:H,removedBatchIds:g,addedBatchIds:D}))})})}),ja.apply(this,arguments)}function dg(r,e){const t=yn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),d=t.Zi.newChangeBuffer({trackRemovals:!0});return function(g,D,L,H){const ie=L.batch,Le=ie.keys();let Dt=vt.resolve();return Le.forEach(Lt=>{Dt=Dt.next(()=>H.getEntry(D,Lt)).next(an=>{const In=L.docVersions.get(Lt);Dn(null!==In),an.version.compareTo(In)<0&&(ie.applyToRemoteDocument(an,L),an.isValidDocument()&&(an.setReadTime(L.commitVersion),H.addEntry(an)))})}),Dt.next(()=>g.mutationQueue.removeMutationBatch(D,ie))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let D=wr();for(let L=0;L<g.mutationResults.length;++L)g.mutationResults[L].transformResults.length>0&&(D=D.add(g.batch.mutations[L].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function hg(r){const e=yn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function fg(r,e){const t=yn(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((ie,Le)=>{const Dt=a.get(Le);if(!Dt)return;D.push(t.Bs.removeMatchingKeys(d,ie.removedDocuments,Le).next(()=>t.Bs.addMatchingKeys(d,ie.addedDocuments,Le)));let Lt=Dt.withSequenceNumber(d.currentSequenceNumber);var an,In,Fn;null!==e.targetMismatches.get(Le)?Lt=Lt.withResumeToken(zn.EMPTY_BYTE_STRING,$n.min()).withLastLimboFreeSnapshotVersion($n.min()):ie.resumeToken.approximateByteSize()>0&&(Lt=Lt.withResumeToken(ie.resumeToken,s)),a=a.insert(Le,Lt),In=Lt,Fn=ie,(0===(an=Dt).resumeToken.approximateByteSize()||In.snapshotVersion.toMicroseconds()-an.snapshotVersion.toMicroseconds()>=3e8||Fn.addedDocuments.size+Fn.modifiedDocuments.size+Fn.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(d,Lt))});let L=co(),H=wr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(d,ie))}),D.push(n_(d,g,e.documentUpdates).next(ie=>{L=ie.nr,H=ie.sr})),!s.isEqual($n.min())){const ie=t.Bs.getLastRemoteSnapshotVersion(d).next(Le=>t.Bs.setTargetsMetadata(d,d.currentSequenceNumber,s));D.push(ie)}return vt.waitFor(D).next(()=>g.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,L,H)).next(()=>L)}).then(d=>(t.Ji=a,d))}function n_(r,e,t){let s=wr(),a=wr();return t.forEach(d=>s=s.add(d)),e.getEntries(r,s).next(d=>{let g=co();return t.forEach((D,L)=>{const H=d.get(D);L.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(D)),L.isNoDocument()&&L.version.isEqual($n.min())?(e.removeEntry(D,L.readTime),g=g.insert(D,L)):!H.isValidDocument()||L.version.compareTo(H.version)>0||0===L.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(L),g=g.insert(D,L)):Zt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",H.version," Watch version:",L.version)}),{nr:g,sr:a}})}function ly(r,e){const t=yn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _h(r,e){const t=yn(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(d=>d?(a=d,vt.resolve(a)):t.Bs.allocateTargetId(s).next(g=>(a=new Hu(e,g,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function zu(r,e,t){return md.apply(this,arguments)}function md(){return md=(0,J.Z)(function*(r,e,t){const s=yn(r),a=s.Ji.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,a)))}catch(g){if(!ao(g))throw g;Zt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),md.apply(this,arguments)}function yd(r,e,t){const s=yn(r);let a=$n.min(),d=wr();return s.persistence.runTransaction("Execute query","readonly",g=>function(D,L,H){const ie=yn(D),Le=ie.Yi.get(H);return void 0!==Le?vt.resolve(ie.Ji.get(Le)):ie.Bs.getTargetData(L,H)}(s,g,as(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(g,D.targetId).next(L=>{d=L})}).next(()=>s.Hi.getDocumentsMatchingQuery(g,e,t?a:$n.min(),t?d:wr())).next(D=>(r_(s,Ef(e),D),{documents:D,ir:d})))}function Gf(r,e){const t=yn(r),s=yn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>s.le(d,e).next(g=>g?g.target:null))}function zf(r,e){const t=yn(r),s=t.Xi.get(e)||$n.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Qe(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(r_(t,e,a),a))}function r_(r,e,t){let s=r.Xi.get(e)||$n.min();t.forEach((a,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),r.Xi.set(e,s)}function pg(){return pg=(0,J.Z)(function*(r,e,t,s){const a=yn(r);let d=wr(),g=co();for(const H of t){const ie=e.rr(H.metadata.name);H.document&&(d=d.add(ie));const Le=e.ur(H);Le.setReadTime(e.cr(H.metadata.readTime)),g=g.insert(ie,Le)}const D=a.Zi.newChangeBuffer({trackRemovals:!0}),L=yield _h(a,(H=s,as(pc(Pr.fromString(`__bundle__/docs/${H}`)))));var H;return a.persistence.runTransaction("Apply bundle documents","readwrite",H=>n_(H,D,g).next(ie=>(D.apply(H),ie)).next(ie=>a.Bs.removeMatchingKeysForTargetId(H,L.targetId).next(()=>a.Bs.addMatchingKeys(H,d,L.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(H,ie.nr,ie.sr)).next(()=>ie.nr)))}),pg.apply(this,arguments)}function s_(r,e){return gg.apply(this,arguments)}function gg(){return gg=(0,J.Z)(function*(r,e,t=wr()){const s=yield _h(r,as(Pf(e.bundledQuery))),a=yn(r);return a.persistence.runTransaction("Save named query","readwrite",d=>{const g=ns(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return a.qs.saveNamedQuery(d,e);const D=s.withResumeToken(zn.EMPTY_BYTE_STRING,g);return a.Ji=a.Ji.insert(D.targetId,D),a.Bs.updateTargetData(d,D).next(()=>a.Bs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>a.Bs.addMatchingKeys(d,t,s.targetId)).next(()=>a.qs.saveNamedQuery(d,e))})}),gg.apply(this,arguments)}function mg(r,e){return`firestore_clients_${r}_${e}`}function o_(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function yg(r,e){return`firestore_targets_${r}_${e}`}class vg{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let d,g="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(d=new Gt(a.error.code,a.error.message))),g?new vg(e,t,a.state,d):(ii("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vd{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(a=new Gt(s.error.code,s.error.message))),d?new vd(e,s.state,a):(ii("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,d=yc();for(let g=0;a&&g<s.activeTargetIds.length;++g)a=oc(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return a?new Eh(e,d):(ii("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _g{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _g(t.clientId,t.onlineState):(ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wh{constructor(){this.activeTargetIds=yc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dy{constructor(e,t,s,a,d){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new z(ur),this.started=!1,this.yr=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.pr=mg(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new wh),this.Tr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,J.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const d=e.getItem(mg(e.persistenceKey,a));if(d){const g=Eh.ar(a,d);g&&(e.gr=e.gr.insert(g.clientId,g))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(yg(this.persistenceKey,e));if(s){const a=vd.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yg(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Zt("SharedClientState","READ",e,t),t}setItem(e,t){Zt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Zt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Zt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,J.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(d){let g=os.ct;if(null!=d)try{const D=JSON.parse(d);Dn("number"==typeof D),g=D}catch(D){ii("SharedClientState","Failed to read sequence number from WebStorage",D)}return g}(s.newValue);a!==os.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(d=>t.syncEngine.Qr(d)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new vg(this.currentUser,e,t,s),d=o_(this.persistenceKey,this.currentUser,e);this.setItem(d,a.hr())}Cr(e){const t=o_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=yg(this.persistenceKey,e),d=new vd(e,t,s);this.setItem(a,d.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Eh.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return vg.ar(new ts(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return vd.ar(a,t)}br(e){return _g.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,J.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Zt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),d=this.Sr(s),g=[],D=[];return d.forEach(L=>{a.has(L)||g.push(L)}),a.forEach(L=>{d.has(L)||D.push(L)}),this.syncEngine.Wr(g,D).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=yc();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class a_{constructor(){this.Hr=new wh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new wh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gE{Yr(e){}shutdown(){}}class u_{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eg=null;function hy(){return null===Eg?Eg=268435456+Math.round(2147483648*Math.random()):Eg++,"0x"+Eg.toString(16)}const mE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yE{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Io="WebChannelConnection";class vE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,d){const g=hy(),D=this.To(e,t);Zt("RestConnection",`Sending RPC '${e}' ${g}:`,D,s);const L={};return this.Eo(L,a,d),this.Ao(e,D,L,s).then(H=>(Zt("RestConnection",`Received RPC '${e}' ${g}: `,H),H),H=>{throw xs("RestConnection",`RPC '${e}' ${g} failed with error: `,H,"url: ",D,"request:",s),H})}vo(e,t,s,a,d,g){return this.Io(e,t,s,a,d)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,d)=>e[d]=a),s&&s.headers.forEach((a,d)=>e[d]=a)}To(e,t){return`${this.mo}/v1/${t}:${mE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const d=hy();return new Promise((g,D)=>{const L=new eu;L.setWithCredentials(!0),L.listenOnce(Vc.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Mi.NO_ERROR:const ie=L.getResponseJson();Zt(Io,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(ie)),g(ie);break;case Mi.TIMEOUT:Zt(Io,`RPC '${e}' ${d} timed out`),D(new Gt(St.DEADLINE_EXCEEDED,"Request time out"));break;case Mi.HTTP_ERROR:const Le=L.getStatus();if(Zt(Io,`RPC '${e}' ${d} failed with status:`,Le,"response text:",L.getResponseText()),Le>0){let Dt=L.getResponseJson();Array.isArray(Dt)&&(Dt=Dt[0]);const Lt=Dt?.error;if(Lt&&Lt.status&&Lt.message){const an=function(In){const Fn=In.toLowerCase().replace(/_/g,"-");return Object.values(St).indexOf(Fn)>=0?Fn:St.UNKNOWN}(Lt.status);D(new Gt(an,Lt.message))}else D(new Gt(St.UNKNOWN,"Server responded with status "+L.getStatus()))}else D(new Gt(St.UNAVAILABLE,"Connection failed."));break;default:An()}}finally{Zt(Io,`RPC '${e}' ${d} completed.`)}});const H=JSON.stringify(a);Zt(Io,`RPC '${e}' ${d} sending request:`,a),L.send(t,"POST",H,s,15)})}Ro(e,t,s){const a=hy(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=Ll(),D=Tu(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(L.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(L.xmlHttpFactory=new oa({})),this.Eo(L.initMessageHeaders,t,s),L.encodeInitMessageHeaders=!0;const ie=d.join("");Zt(Io,`Creating RPC '${e}' stream ${a}: ${ie}`,L);const Le=g.createWebChannel(ie,L);let Dt=!1,Lt=!1;const an=new yE({ro:Fn=>{Lt?Zt(Io,`Not sending because RPC '${e}' stream ${a} is closed:`,Fn):(Dt||(Zt(Io,`Opening RPC '${e}' stream ${a} transport.`),Le.open(),Dt=!0),Zt(Io,`RPC '${e}' stream ${a} sending:`,Fn),Le.send(Fn))},oo:()=>Le.close()}),In=(Fn,Mr,Xr)=>{Fn.listen(Mr,Fr=>{try{Xr(Fr)}catch(us){setTimeout(()=>{throw us},0)}})};return In(Le,yi.EventType.OPEN,()=>{Lt||Zt(Io,`RPC '${e}' stream ${a} transport opened.`)}),In(Le,yi.EventType.CLOSE,()=>{Lt||(Lt=!0,Zt(Io,`RPC '${e}' stream ${a} transport closed`),an.wo())}),In(Le,yi.EventType.ERROR,Fn=>{Lt||(Lt=!0,xs(Io,`RPC '${e}' stream ${a} transport errored:`,Fn),an.wo(new Gt(St.UNAVAILABLE,"The operation could not be completed")))}),In(Le,yi.EventType.MESSAGE,Fn=>{var Mr;if(!Lt){const Xr=Fn.data[0];Dn(!!Xr);const Fr=Xr,us=Fr.error||(null===(Mr=Fr[0])||void 0===Mr?void 0:Mr.error);if(us){Zt(Io,`RPC '${e}' stream ${a} received error:`,us);const Oi=us.status;let Bi=function(Nl){const Rv=Ve[Nl];if(void 0!==Rv)return gn(Rv)}(Oi),Co=us.message;void 0===Bi&&(Bi=St.INTERNAL,Co="Unknown error status: "+Oi+" with message "+us.message),Lt=!0,an.wo(new Gt(Bi,Co)),Le.close()}else Zt(Io,`RPC '${e}' stream ${a} received:`,Xr),an._o(Xr)}}),In(D,fi.STAT_EVENT,Fn=>{Fn.stat===Ja.PROXY?Zt(Io,`RPC '${e}' stream ${a} detected buffering proxy`):Fn.stat===Ja.NOPROXY&&Zt(Io,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{an.fo()},0),an}}function Wu(){return typeof window<"u"?window:null}function _d(){return typeof document<"u"?document:null}function Ih(r){return new Pm(r,!0)}class Wf{constructor(e,t,s=1e3,a=1.5,d=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=d,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Zt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qf{constructor(e,t,s,a,d,g,D,L){this.ii=e,this.$o=s,this.Oo=a,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=D,this.listener=L,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Wf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,J.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,J.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,J.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===St.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===St.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Gt(St.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,J.Z)(function*(){e.state=0,e.start()}))}tu(e){return Zt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fy extends qf{constructor(e,t,s,a,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,g),this.serializer=d}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function qp(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:An(),a=e.targetChange.targetIds||[],d=function(L,H){return L.useProto3Json?(Dn(void 0===H||"string"==typeof H),zn.fromBase64String(H||"")):(Dn(void 0===H||H instanceof Uint8Array),zn.fromUint8Array(H||new Uint8Array))}(r,e.targetChange.resumeToken),g=e.targetChange.cause,D=g&&function(L){const H=void 0===L.code?St.UNKNOWN:gn(L.code);return new Gt(H,L.message||"")}(g);t=new sl(s,a,d,D||null)}else if("documentChange"in e){const s=e.documentChange,a=Va(r,s.document.name),d=ns(s.document.updateTime),g=s.document.createTime?ns(s.document.createTime):$n.min(),D=new Es({mapValue:{fields:s.document.fields}}),L=xi.newFoundDocument(a,d,g,D);t=new il(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,a=Va(r,s.document),d=s.readTime?ns(s.readTime):$n.min(),g=xi.newNoDocument(a,d);t=new il([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,a=Va(r,s.document);t=new il([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return An();{const s=e.filter,{count:a=0,unchangedNames:d}=s,g=new K(a,d);t=new rd(s.targetId,g)}}var L;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return $n.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?$n.min():d.readTime?ns(d.readTime):$n.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=ah(this.serializer),t.addTarget=function(a,d){let g;const D=d.target;if(g=Yi(D)?{documents:Vm(a,D)}:{query:Rf(a,D)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Mf(a,d.resumeToken);const L=xf(a,d.expectedCount);null!==L&&(g.expectedCount=L)}else if(d.snapshotVersion.compareTo($n.min())>0){g.readTime=al(a,d.snapshotVersion.toTimestamp());const L=xf(a,d.expectedCount);null!==L&&(g.expectedCount=L)}return g}(this.serializer,e);const s=function Hv(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return An()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=ah(this.serializer),t.removeTarget=e,this.Wo(t)}}class wg extends qf{constructor(e,t,s,a,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,g),this.serializer=d,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Bm(r,e){return r&&r.length>0?(Dn(void 0!==e),r.map(t=>function(s,a){let d=ns(s.updateTime?s.updateTime:a);return d.isEqual($n.min())&&(d=ns(a)),new ma(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=ns(e.commitTime);return this.listener.cu(s,t)}return Dn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ah(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>od(this.serializer,s))};this.Wo(t)}}class c_ extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Gt(St.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.Io(e,t,s,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Gt(St.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.vo(e,t,s,d,g,a)).catch(d=>{throw"FirebaseError"===d.name?(d.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Gt(St.UNKNOWN,d.toString())})}terminate(){this.lu=!0}}class l_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ii(t),this.mu=!1):Zt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ig{constructor(e,t,s,a,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=d,this.Pu.Yr(D=>{s.enqueueAndForget((0,J.Z)(function*(){var L;Ac(g)&&(Zt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,J.Z)(function*(H){const ie=yn(H);ie.vu.add(4),yield Ed(ie),ie.bu.set("Unknown"),ie.vu.delete(4),yield bh(ie)}),function(H){return L.apply(this,arguments)})(g))}))}),this.bu=new l_(s,a)}}function bh(r){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,J.Z)(function*(r){if(Ac(r))for(const e of r.Ru)yield e(!0)}),Yf.apply(this,arguments)}function Ed(r){return bg.apply(this,arguments)}function bg(){return bg=(0,J.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),bg.apply(this,arguments)}function ml(r,e){const t=yn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),vl(t)?wd(t):bd(t).Ko()&&Dh(t,e))}function gu(r,e){const t=yn(r),s=bd(t);t.Au.delete(e),s.Ko()&&yl(t,e),0===t.Au.size&&(s.Ko()?s.jo():Ac(t)&&t.bu.set("Unknown"))}function Dh(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($n.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bd(r).su(e)}function yl(r,e){r.Vu.qt(e),bd(r).iu(e)}function wd(r){r.Vu=new Tf({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),bd(r).start(),r.bu.gu()}function vl(r){return Ac(r)&&!bd(r).Uo()&&r.Au.size>0}function Ac(r){return 0===yn(r).vu.size}function Dg(r){r.Vu=void 0}function py(r){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,J.Z)(function*(r){r.Au.forEach((e,t)=>{Dh(r,e)})}),Ch.apply(this,arguments)}function Cg(r,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,J.Z)(function*(r,e){Dg(r),vl(r)?(r.bu.Iu(e),wd(r)):r.bu.set("Unknown")}),Zf.apply(this,arguments)}function Tg(r,e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,J.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof sl&&2===e.state&&e.cause)try{yield(s=(0,J.Z)(function*(a,d){const g=d.cause;for(const D of d.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,g),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,d){return s.apply(this,arguments)})(r,e)}catch(s){Zt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ag(r,s)}else if(e instanceof il?r.Vu.Ht(e):e instanceof rd?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual($n.min()))try{const s=yield hg(r.localStore);t.compareTo(s)>=0&&(yield function(a,d){const g=a.Vu.ce(d);return g.targetChanges.forEach((D,L)=>{if(D.resumeToken.approximateByteSize()>0){const H=a.Au.get(L);H&&a.Au.set(L,H.withResumeToken(D.resumeToken,d))}}),g.targetMismatches.forEach((D,L)=>{const H=a.Au.get(D);if(!H)return;a.Au.set(D,H.withResumeToken(zn.EMPTY_BYTE_STRING,H.snapshotVersion)),yl(a,D);const ie=new Hu(H.target,D,L,H.sequenceNumber);Dh(a,ie)}),a.remoteSyncer.applyRemoteEvent(g)}(r,t))}catch(s){Zt("RemoteStore","Failed to raise snapshot:",s),yield Ag(r,s)}var s}),Sg.apply(this,arguments)}function Ag(r,e,t){return xg.apply(this,arguments)}function xg(){return xg=(0,J.Z)(function*(r,e,t){if(!ao(e))throw e;r.vu.add(1),yield Ed(r),r.bu.set("Offline"),t||(t=()=>hg(r.localStore)),r.asyncQueue.enqueueRetryable((0,J.Z)(function*(){Zt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield bh(r)}))}),xg.apply(this,arguments)}function Mg(r,e){return e().catch(t=>Ag(r,t,e))}function Id(r){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,J.Z)(function*(r){const e=yn(r),t=qu(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;d_(e);)try{const a=yield ly(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,h_(e,a)}catch(a){yield Ag(e,a)}Fo(e)&&gy(e)}),Xf.apply(this,arguments)}function d_(r){return Ac(r)&&r.Eu.length<10}function h_(r,e){r.Eu.push(e);const t=qu(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function Fo(r){return Ac(r)&&!qu(r).Uo()&&r.Eu.length>0}function gy(r){qu(r).start()}function f_(r){return my.apply(this,arguments)}function my(){return my=(0,J.Z)(function*(r){qu(r).hu()}),my.apply(this,arguments)}function p_(r){return Th.apply(this,arguments)}function Th(){return Th=(0,J.Z)(function*(r){const e=qu(r);for(const t of r.Eu)e.uu(t.mutations)}),Th.apply(this,arguments)}function yy(r,e,t){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,J.Z)(function*(r,e,t){const s=r.Eu.shift(),a=f.from(s,e,t);yield Mg(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Id(r)}),Rg.apply(this,arguments)}function g_(r,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,J.Z)(function*(r,e){var t;e&&qu(r).ou&&(yield(t=(0,J.Z)(function*(s,a){if(Wt(d=a.code)&&d!==St.ABORTED){const g=s.Eu.shift();qu(s).Qo(),yield Mg(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,a)),yield Id(s)}var d}),function(s,a){return t.apply(this,arguments)})(r,e)),Fo(r)&&gy(r)}),Pg.apply(this,arguments)}function Og(r,e){return kg.apply(this,arguments)}function kg(){return kg=(0,J.Z)(function*(r,e){const t=yn(r);t.asyncQueue.verifyOperationInProgress(),Zt("RemoteStore","RemoteStore received new credentials");const s=Ac(t);t.vu.add(3),yield Ed(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield bh(t)}),kg.apply(this,arguments)}function Qf(r,e){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,J.Z)(function*(r,e){const t=yn(r);e?(t.vu.delete(2),yield bh(t)):e||(t.vu.add(2),yield Ed(t),t.bu.set("Unknown"))}),Ng.apply(this,arguments)}function bd(r){return r.Su||(r.Su=function(e,t,s){const a=yn(e);return a.fu(),new fy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:py.bind(null,r),ao:Cg.bind(null,r),nu:Tg.bind(null,r)}),r.Ru.push(function(){var e=(0,J.Z)(function*(t){t?(r.Su.Qo(),vl(r)?wd(r):r.bu.set("Unknown")):(yield r.Su.stop(),Dg(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function qu(r){return r.Du||(r.Du=function(e,t,s){const a=yn(e);return a.fu(),new wg(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:f_.bind(null,r),ao:g_.bind(null,r),au:p_.bind(null,r),cu:yy.bind(null,r)}),r.Ru.push(function(){var e=(0,J.Z)(function*(t){t?(r.Du.Qo(),yield Id(r)):(yield r.Du.stop(),r.Eu.length>0&&(Zt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Jf{constructor(e,t,s,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=d,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,s,a,d){const g=Date.now()+s,D=new Jf(e,t,g,a,d);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gt(St.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(r,e){if(ii("AsyncQueue",`${e}: ${r}`),ao(r))return new Gt(St.UNAVAILABLE,`${e}: ${r}`);throw r}class bo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||tn.comparator(t.key,s.key):(t,s)=>tn.comparator(t.key,s.key),this.keyedMap=Zc(),this.sortedSet=new z(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=s.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ep{constructor(){this.Cu=new z(tn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):An():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Cd{constructor(e,t,s,a,d,g,D,L,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=D,this.excludesMetadataChanges=L,this.hasCachedResults=H}static fromInitialDocuments(e,t,s,a,d){const g=[];return t.forEach(D=>{g.push({type:0,doc:D})}),new Cd(e,t,bo.emptySet(t),g,s,a,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class m_{constructor(){this.Nu=void 0,this.listeners=[]}}class _E{constructor(){this.queries=new Na(e=>ka(e),Bu),this.onlineState="Unknown",this.ku=new Set}}function tp(r,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,J.Z)(function*(r,e){const t=yn(r),s=e.query;let a=!1,d=t.queries.get(s);if(d||(a=!0,d=new m_),a)try{d.Nu=yield t.onListen(s)}catch(g){const D=Dd(g,`Initialization of query '${Jd(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,d),d.listeners.push(e),e.Mu(t.onlineState),d.Nu&&e.$u(d.Nu)&&$g(t)}),Fg.apply(this,arguments)}function Lg(r,e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,J.Z)(function*(r,e){const t=yn(r),s=e.query;let a=!1;const d=t.queries.get(s);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),a=0===d.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Bg.apply(this,arguments)}function Vg(r,e){const t=yn(r);let s=!1;for(const a of e){const g=t.queries.get(a.query);if(g){for(const D of g.listeners)D.$u(a)&&(s=!0);g.Nu=a}}s&&$g(t)}function y_(r,e,t){const s=yn(r),a=s.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);s.queries.delete(e)}function $g(r){r.ku.forEach(e=>{e.next()})}class Td{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Cd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ug{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class vy{constructor(e){this.serializer=e}rr(e){return Va(this.serializer,e)}ur(e){return e.metadata.exists?Nm(this.serializer,e.document,!1):xi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ns(e)}}class _y{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=np(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Pr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new vy(this.serializer);for(const a of e)if(a.metadata.queries){const d=s.rr(a.metadata.name);for(const g of a.metadata.queries){const D=(t.get(g)||wr()).add(d);t.set(g,D)}}return t}complete(){var e=this;return(0,J.Z)(function*(){const t=yield function i_(r,e,t,s){return pg.apply(this,arguments)}(e.localStore,new vy(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield s_(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function np(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class jg{constructor(e){this.key=e}}class v_{constructor(e){this.key=e}}class __{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wr(),this.mutatedKeys=wr(),this.tc=Ql(e),this.ec=new bo(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new ep,a=t?t.ec:this.ec;let d=t?t.mutatedKeys:this.mutatedKeys,g=a,D=!1;const L="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ie,Le)=>{const Dt=a.get(ie),Lt=Yc(this.query,Le)?Le:null,an=!!Dt&&this.mutatedKeys.has(Dt.key),In=!!Lt&&(Lt.hasLocalMutations||this.mutatedKeys.has(Lt.key)&&Lt.hasCommittedMutations);let Fn=!1;Dt&&Lt?Dt.data.isEqual(Lt.data)?an!==In&&(s.track({type:3,doc:Lt}),Fn=!0):this.rc(Dt,Lt)||(s.track({type:2,doc:Lt}),Fn=!0,(L&&this.tc(Lt,L)>0||H&&this.tc(Lt,H)<0)&&(D=!0)):!Dt&&Lt?(s.track({type:0,doc:Lt}),Fn=!0):Dt&&!Lt&&(s.track({type:1,doc:Dt}),Fn=!0,(L||H)&&(D=!0)),Fn&&(Lt?(g=g.add(Lt),d=In?d.add(ie):d.delete(ie)):(g=g.delete(ie),d=d.delete(ie)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ie="F"===this.query.limitType?g.last():g.first();g=g.delete(ie.key),d=d.delete(ie.key),s.track({type:1,doc:ie})}return{ec:g,ic:s,zi:D,mutatedKeys:d}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const d=e.ic.xu();d.sort((H,ie)=>function(Le,Dt){const Lt=an=>{switch(an){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return An()}};return Lt(Le)-Lt(Dt)}(H.type,ie.type)||this.tc(H.doc,ie.doc)),this.oc(s);const g=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,L=D!==this.Xu;return this.Xu=D,0!==d.length||L?{snapshot:new Cd(this.query,e.ec,a,d,e.mutatedKeys,0===D,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:g}:{cc:g}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ep,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new v_(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new jg(s))}),t}hc(e){this.Yu=e.ir,this.Zu=wr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Cd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Hg{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class EE{constructor(e){this.key=e,this.fc=!1}}class E_{constructor(e,t,s,a,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.dc={},this.wc=new Na(D=>ka(D),Bu),this._c=new Map,this.mc=new Set,this.gc=new z(tn.comparator),this.yc=new Map,this.Ic=new sg,this.Tc={},this.Ec=new Map,this.Ac=Dc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ey(r,e){return rp.apply(this,arguments)}function rp(){return rp=(0,J.Z)(function*(r,e){const t=up(r);let s,a;const d=t.wc.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),a=d.view.lc();else{const g=yield _h(t.localStore,as(e)),D=t.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,a=yield ip(t,e,s,"current"===D,g.resumeToken),t.isPrimaryClient&&ml(t.remoteStore,g)}return a}),rp.apply(this,arguments)}function ip(r,e,t,s,a){return sp.apply(this,arguments)}function sp(){return sp=(0,J.Z)(function*(r,e,t,s,a){r.Rc=(Le,Dt,Lt)=>{return(an=(0,J.Z)(function*(In,Fn,Mr,Xr){let Fr=Fn.view.sc(Mr);Fr.zi&&(Fr=yield yd(In.localStore,Fn.query,!1).then(({documents:Bi})=>Fn.view.sc(Bi,Fr)));const us=Xr&&Xr.targetChanges.get(Fn.targetId),Oi=Fn.view.applyChanges(Fr,In.isPrimaryClient,us);return Ad(In,Fn.targetId,Oi.cc),Oi.snapshot}),function(In,Fn,Mr,Xr){return an.apply(this,arguments)})(r,Le,Dt,Lt);var an};const d=yield yd(r.localStore,e,!0),g=new __(e,d.ir),D=g.sc(d.documents),L=ju.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),H=g.applyChanges(D,r.isPrimaryClient,L);Ad(r,t,H.cc);const ie=new Hg(e,t,g);return r.wc.set(e,ie),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),H.snapshot}),sp.apply(this,arguments)}function wy(r,e){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,J.Z)(function*(r,e){const t=yn(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(d=>!Bu(d,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield zu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),gu(t.remoteStore,s.targetId),Sd(t,s.targetId)}).catch(si))):(Sd(t,s.targetId),yield zu(t.localStore,s.targetId,!0))}),Ha.apply(this,arguments)}function Iy(){return Iy=(0,J.Z)(function*(r,e,t){const s=cp(r);try{const a=yield function(d,g){const D=yn(d),L=Ai.now(),H=g.reduce((Dt,Lt)=>Dt.add(Lt.key),wr());let ie,Le;return D.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let Lt=co(),an=wr();return D.Zi.getEntries(Dt,H).next(In=>{Lt=In,Lt.forEach((Fn,Mr)=>{Mr.isValidDocument()||(an=an.add(Fn))})}).next(()=>D.localDocuments.getOverlayedDocuments(Dt,Lt)).next(In=>{ie=In;const Fn=[];for(const Mr of g){const Xr=td(Mr,ie.get(Mr.key).overlayedDocument);null!=Xr&&Fn.push(new No(Mr.key,Xr,lf(Xr.value.mapValue),Gr.exists(!0)))}return D.mutationQueue.addMutationBatch(Dt,L,Fn,g)}).next(In=>{Le=In;const Fn=In.applyToLocalDocumentSet(ie,an);return D.documentOverlayCache.saveOverlays(Dt,In.batchId,Fn)})}).then(()=>({batchId:Le.batchId,changes:eh(ie)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,g,D){let L=d.Tc[d.currentUser.toKey()];L||(L=new z(ur)),L=L.insert(g,D),d.Tc[d.currentUser.toKey()]=L}(s,a.batchId,t),yield Zo(s,a.changes),yield Id(s.remoteStore)}catch(a){const d=Dd(a,"Failed to persist write");t.reject(d)}}),Iy.apply(this,arguments)}function by(r,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,J.Z)(function*(r,e){const t=yn(r);try{const s=yield fg(t.localStore,e);e.targetChanges.forEach((a,d)=>{const g=t.yc.get(d);g&&(Dn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?g.fc=!0:a.modifiedDocuments.size>0?Dn(g.fc):a.removedDocuments.size>0&&(Dn(g.fc),g.fc=!1))}),yield Zo(t,s,e)}catch(s){yield si(s)}}),Gg.apply(this,arguments)}function Dy(r,e,t){const s=yn(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((d,g)=>{const D=g.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(d,g){const D=yn(d);D.onlineState=g;let L=!1;D.queries.forEach((H,ie)=>{for(const Le of ie.listeners)Le.Mu(g)&&(L=!0)}),L&&$g(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function w_(r,e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,J.Z)(function*(r,e,t){const s=yn(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),d=a&&a.key;if(d){let g=new z(tn.comparator);g=g.insert(d,xi.newNoDocument(d,$n.min()));const D=wr().add(d),L=new fu($n.min(),new Map,new z(ur),g,D);yield by(s,L),s.gc=s.gc.remove(d),s.yc.delete(e),Ay(s)}else yield zu(s.localStore,e,!1).then(()=>Sd(s,e,t)).catch(si)}),Cy.apply(this,arguments)}function Ty(r,e){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,J.Z)(function*(r,e){const t=yn(r),s=e.batch.batchId;try{const a=yield dg(t.localStore,e);qg(t,s,null),Wg(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Zo(t,a)}catch(a){yield si(a)}}),Sh.apply(this,arguments)}function I_(r,e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,J.Z)(function*(r,e,t){const s=yn(r);try{const a=yield function(d,g){const D=yn(d);return D.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let H;return D.mutationQueue.lookupMutationBatch(L,g).next(ie=>(Dn(null!==ie),H=ie.keys(),D.mutationQueue.removeMutationBatch(L,ie))).next(()=>D.mutationQueue.performConsistencyCheck(L)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(L,H,g)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,H)).next(()=>D.localDocuments.getDocuments(L,H))})}(s.localStore,e);qg(s,e,t),Wg(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Zo(s,a)}catch(a){yield si(a)}}),Ah.apply(this,arguments)}function zg(){return zg=(0,J.Z)(function*(r,e){const t=yn(r);Ac(t.remoteStore)||Zt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const g=yn(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>g.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=Dd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),zg.apply(this,arguments)}function Wg(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function qg(r,e,t){const s=yn(r);let a=s.Tc[s.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Sd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||Sy(r,s)})}function Sy(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(gu(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ay(r))}function Ad(r,e,t){for(const s of t)s instanceof jg?(r.Ic.addReference(s.key,e),_l(r,s)):s instanceof v_?(Zt("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||Sy(r,s.key)):An()}function _l(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(Zt("SyncEngine","New document in limbo: "+t),r.mc.add(s),Ay(r))}function Ay(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new tn(Pr.fromString(e)),s=r.Ac.next();r.yc.set(s,new EE(t)),r.gc=r.gc.insert(t,s),ml(r.remoteStore,new Hu(as(pc(t.path)),s,"TargetPurposeLimboResolution",os.ct))}}function Zo(r,e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,J.Z)(function*(r,e,t){const s=yn(r),a=[],d=[],g=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,L)=>{g.push(s.Rc(L,e,t).then(H=>{if((H||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,H?.fromCache?"not-current":"current"),H){a.push(H);const ie=gd.Li(L.targetId,H);d.push(ie)}}))}),yield Promise.all(g),s.dc.nu(a),yield(D=(0,J.Z)(function*(L,H){const ie=yn(L);try{yield ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Le=>vt.forEach(H,Dt=>vt.forEach(Dt.Fi,Lt=>ie.persistence.referenceDelegate.addReference(Le,Dt.targetId,Lt)).next(()=>vt.forEach(Dt.Bi,Lt=>ie.persistence.referenceDelegate.removeReference(Le,Dt.targetId,Lt)))))}catch(Le){if(!ao(Le))throw Le;Zt("LocalStore","Failed to update sequence numbers: "+Le)}for(const Le of H){const Dt=Le.targetId;if(!Le.fromCache){const Lt=ie.Ji.get(Dt),In=Lt.withLastLimboFreeSnapshotVersion(Lt.snapshotVersion);ie.Ji=ie.Ji.insert(Dt,In)}}}),function(L,H){return D.apply(this,arguments)})(s.localStore,d))}),Kg.apply(this,arguments)}function D_(r,e){return xh.apply(this,arguments)}function xh(){return xh=(0,J.Z)(function*(r,e){const t=yn(r);if(!t.currentUser.isEqual(e)){Zt("SyncEngine","User change. New user:",e.toKey());const s=yield Hf(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(g=>{g.forEach(D=>{D.reject(new Gt(St.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Zo(t,s.er)}var a}),xh.apply(this,arguments)}function C_(r,e){const t=yn(r),s=t.yc.get(e);if(s&&s.fc)return wr().add(s.key);{let a=wr();const d=t._c.get(e);if(!d)return a;for(const g of d){const D=t.wc.get(g);a=a.unionWith(D.view.nc)}return a}}function mu(r,e){return El.apply(this,arguments)}function El(){return El=(0,J.Z)(function*(r,e){const t=yn(r),s=yield yd(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&Ad(t,e.targetId,a.cc),a}),El.apply(this,arguments)}function ho(r,e){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,J.Z)(function*(r,e){const t=yn(r);return zf(t.localStore,e).then(s=>Zo(t,s))}),Ku.apply(this,arguments)}function ap(r,e,t,s){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,J.Z)(function*(r,e,t,s){const a=yn(r),d=yield function(g,D){const L=yn(g),H=yn(L.mutationQueue);return L.persistence.runTransaction("Lookup mutation documents","readonly",ie=>H.Sn(ie,D).next(Le=>Le?L.localDocuments.getDocuments(ie,Le):vt.resolve(null)))}(a.localStore,e);var D;null!==d?("pending"===t?yield Id(a.remoteStore):"acknowledged"===t||"rejected"===t?(qg(a,e,s||null),Wg(a,e),D=e,yn(yn(a.localStore).mutationQueue).Cn(D)):An(),yield Zo(a,d)):Zt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Lo.apply(this,arguments)}function xc(){return xc=(0,J.Z)(function*(r,e){const t=yn(r);if(up(t),cp(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield wl(t,s.toArray());t.vc=!0,yield Qf(t.remoteStore,!0);for(const d of a)ml(t.remoteStore,d)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?s.push(g):a=a.then(()=>(Sd(t,g),zu(t.localStore,g,!0))),gu(t.remoteStore,g)}),yield a,yield wl(t,s),function(d){const g=yn(d);g.yc.forEach((D,L)=>{gu(g.remoteStore,L)}),g.Ic.Ts(),g.yc=new Map,g.gc=new z(tn.comparator)}(t),t.vc=!1,yield Qf(t.remoteStore,!1)}}),xc.apply(this,arguments)}function wl(r,e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,J.Z)(function*(r,e,t){const s=yn(r),a=[],d=[];for(const g of e){let D;const L=s._c.get(g);if(L&&0!==L.length){D=yield _h(s.localStore,as(L[0]));for(const H of L){const ie=s.wc.get(H),Le=yield mu(s,ie);Le.snapshot&&d.push(Le.snapshot)}}else{const H=yield Gf(s.localStore,g);D=yield _h(s.localStore,H),yield ip(s,Il(H),g,!1,D.resumeToken)}a.push(D)}return s.dc.nu(d),a}),Mc.apply(this,arguments)}function Il(r){return yf(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function xd(r){const e=yn(r);return yn(yn(e.localStore).persistence).$i()}function Md(r,e,t,s){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,J.Z)(function*(r,e,t,s){const a=yn(r);if(a.vc)return void Zt("SyncEngine","Ignoring unexpected query state notification.");const d=a._c.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const g=yield zf(a.localStore,Ef(d[0])),D=fu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,zn.EMPTY_BYTE_STRING);yield Zo(a,g,D);break}case"rejected":yield zu(a.localStore,e,!0),Sd(a,e,s);break;default:An()}}),Rc.apply(this,arguments)}function Rd(r,e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,J.Z)(function*(r,e,t){const s=up(r);if(s.vc){for(const a of e){if(s._c.has(a)){Zt("SyncEngine","Adding an already active target "+a);continue}const d=yield Gf(s.localStore,a),g=yield _h(s.localStore,d);yield ip(s,Il(d),g.targetId,!1,g.resumeToken),ml(s.remoteStore,g)}for(const a of t)s._c.has(a)&&(yield zu(s.localStore,a,!1).then(()=>{gu(s.remoteStore,a),Sd(s,a)}).catch(si))}}),Pc.apply(this,arguments)}function up(r){const e=yn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=by.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w_.bind(null,e),e.dc.nu=Vg.bind(null,e.eventManager),e.dc.Pc=y_.bind(null,e.eventManager),e}function cp(r){const e=yn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ty.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I_.bind(null,e),e}class Pd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,J.Z)(function*(){t.serializer=Ih(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cy(this.persistence,new va,e.initialUser,this.serializer)}createPersistence(e){return new ay(ug.zs,this.serializer)}createSharedClientState(e){return new a_}terminate(){var e=this;return(0,J.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lp extends Pd{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,J.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield cp(s.Vc.syncEngine),yield Id(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return cy(this.persistence,new va,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ny(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new ua(t,this.persistence);return new xu(e.asyncQueue,s)}createPersistence(e){const t=jf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new Uf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Wu(),_d(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new a_}}class Zg extends lp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,J.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof dy&&(s.sharedClientState.syncEngine={jr:ap.bind(null,a),zr:Md.bind(null,a),Wr:Rd.bind(null,a),$i:xd.bind(null,a),Qr:ho.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var d=(0,J.Z)(function*(g){yield function Yg(r,e){return xc.apply(this,arguments)}(s.Vc.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Wu();if(!dy.D(t))throw new Gt(St.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=jf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dy(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class bl{initialize(e,t){var s=this;return(0,J.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Dy(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=D_.bind(null,s.syncEngine),yield Qf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _E}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),s=new vE(e.databaseInfo);return new c_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,d=D=>Dy(this.syncEngine,D,0),g=u_.D()?new u_:new gE,new Ig(t,s,a,d,g);var t,s,a,d,g}createSyncEngine(e,t){return function(s,a,d,g,D,L,H){const ie=new E_(s,a,d,g,D,L);return H&&(ie.vc=!0),ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,J.Z)(function*(t){const s=yn(t);Zt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Ed(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Xg(r,e=10240){let t=0;return{read:()=>(0,J.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,J.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class T_{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Si,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,J.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,J.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,J.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const d=yield e.$c(a);return new Ug(JSON.parse(d),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,J.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,J.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,J.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class S_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,J.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Gt(St.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,J.Z)(function*(d,g){const D=yn(d),L=ah(D.serializer)+"/documents",H={documents:g.map(Lt=>ul(D.serializer,Lt))},ie=yield D.vo("BatchGetDocuments",L,H,g.length),Le=new Map;ie.forEach(Lt=>{const an=function Fm(r,e){return"found"in e?function(t,s){Dn(!!s.found);const a=Va(t,s.found.name),d=ns(s.found.updateTime),g=s.found.createTime?ns(s.found.createTime):$n.min(),D=new Es({mapValue:{fields:s.found.fields}});return xi.newFoundDocument(a,d,g,D)}(r,e):"missing"in e?function(t,s){Dn(!!s.missing),Dn(!!s.readTime);const a=Va(t,s.missing),d=ns(s.readTime);return xi.newNoDocument(a,d)}(r,e):An()}(D.serializer,Lt);Le.set(an.key.toString(),an)});const Dt=[];return g.forEach(Lt=>{const an=Le.get(Lt.toString());Dn(!!an),Dt.push(an)}),Dt}),function(d,g){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,J.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const d=tn.fromPath(a);e.mutations.push(new m(d,e.precondition(d)))}),yield(s=(0,J.Z)(function*(a,d){const g=yn(a),D=ah(g.serializer)+"/documents",L={writes:d.map(H=>od(g.serializer,H))};yield g.Io("Commit",D,L)}),function(a,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw An();t=$n.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Gt(St.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual($n.min())?Gr.exists(!1):Gr.updateTime(t):Gr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($n.min()))throw new Gt(St.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gr.updateTime(t)}return Gr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ry{constructor(e,t,s,a,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=d,this.Bc=s.maxAttempts,this.qo=new Wf(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,J.Z)(function*(){const t=new S_(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.Uc(d)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Mu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wt(t)}return!1}}class A_{constructor(e,t,s,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=ts.UNAUTHENTICATED,this.clientId=nu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,J.Z)(function*(D){Zt("FirestoreClient","Received user=",D.uid),yield d.authCredentialListener(D),d.user=D});return function(D){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Zt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,J.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gt(St.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Dd(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Mh(r,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,J.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Zt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,J.Z)(function*(d){s.isEqual(d)||(yield Hf(e.localStore,d),s=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Rh.apply(this,arguments)}function Ph(r,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,J.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Od(r);Zt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Og(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,d)=>Og(e.remoteStore,d)),r._onlineComponents=e}),Qg.apply(this,arguments)}function Oh(r){return"FirebaseError"===r.name?r.code===St.FAILED_PRECONDITION||r.code===St.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Od(r){return kh.apply(this,arguments)}function kh(){return kh=(0,J.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Zt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Oh(t))throw t;xs("Error using user provided cache. Falling back to memory cache: "+t),yield Mh(r,new Pd)}}else Zt("FirestoreClient","Using default OfflineComponentProvider"),yield Mh(r,new Pd);return r._offlineComponents}),kh.apply(this,arguments)}function hp(r){return kd.apply(this,arguments)}function kd(){return kd=(0,J.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Zt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ph(r,r._uninitializedComponentsProvider._online)):(Zt("FirestoreClient","Using default OnlineComponentProvider"),yield Ph(r,new bl))),r._onlineComponents}),kd.apply(this,arguments)}function Nh(r){return Od(r).then(e=>e.persistence)}function Nd(r){return Od(r).then(e=>e.localStore)}function Jg(r){return hp(r).then(e=>e.remoteStore)}function Fh(r){return hp(r).then(e=>e.syncEngine)}function Dl(r){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,J.Z)(function*(r){const e=yield hp(r),t=e.eventManager;return t.onListen=Ey.bind(null,e.syncEngine),t.onUnlisten=wy.bind(null,e.syncEngine),t}),Lh.apply(this,arguments)}function tm(r,e,t={}){const s=new Si;return r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(a,d,g,D,L){const H=new dp({next:Le=>{d.enqueueAndForget(()=>Lg(a,ie));const Dt=Le.docs.has(g);!Dt&&Le.fromCache?L.reject(new Gt(St.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&Le.fromCache&&D&&"server"===D.source?L.reject(new Gt(St.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(Le)},error:Le=>L.reject(Le)}),ie=new Td(pc(g.path),H,{includeMetadataChanges:!0,Ku:!0});return tp(a,ie)}(yield Dl(r),r.asyncQueue,e,t,s)})),s.promise}function nm(r,e,t={}){const s=new Si;return r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(a,d,g,D,L){const H=new dp({next:Le=>{d.enqueueAndForget(()=>Lg(a,ie)),Le.fromCache&&"server"===D.source?L.reject(new Gt(St.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Le)},error:Le=>L.reject(Le)}),ie=new Td(g,H,{includeMetadataChanges:!0,Ku:!0});return tp(a,ie)}(yield Dl(r),r.asyncQueue,e,t,s)})),s.promise}function fp(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const im=new Map;function pp(r,e,t){if(!t)throw new Gt(St.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sm(r,e,t,s){if(!0===e&&!0===s)throw new Gt(St.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function om(r){if(!tn.isDocumentKey(r))throw new Gt(St.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function am(r){if(tn.isDocumentKey(r))throw new Gt(St.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":An()}function Kr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Gt(St.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bh(r);throw new Gt(St.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function um(r,e){if(e<=0)throw new Gt(St.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class R_{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Gt(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gt(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Gt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Gt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Gt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Gt(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gt(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vo;switch(t.type){case"firstParty":return new Sa(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Gt(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=im.get(e);t&&(Zt("ComponentProvider","Removing Datastore"),im.delete(e),t.terminate())}(this),Promise.resolve()}}class Gi{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class Zs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class Pi extends Zs{constructor(e,t,s){super(e,t,pc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new tn(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function cm(r,e,...t){if(r=(0,Xe.m9)(r),pp("collection","path",e),r instanceof Vh){const s=Pr.fromString(e,...t);return am(s),new Pi(r,null,s)}{if(!(r instanceof Gi||r instanceof Pi))throw new Gt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pr.fromString(e,...t));return am(s),new Pi(r.firestore,null,s)}}function gp(r,e,...t){if(r=(0,Xe.m9)(r),1===arguments.length&&(e=nu.A()),pp("doc","path",e),r instanceof Vh){const s=Pr.fromString(e,...t);return om(s),new Gi(r,null,new tn(s))}{if(!(r instanceof Gi||r instanceof Pi))throw new Gt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pr.fromString(e,...t));return om(s),new Gi(r.firestore,r instanceof Pi?r.converter:null,new tn(s))}}function lm(r,e){return r=(0,Xe.m9)(r),e=(0,Xe.m9)(e),(r instanceof Gi||r instanceof Pi)&&(e instanceof Gi||e instanceof Pi)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function dm(r,e){return r=(0,Xe.m9)(r),e=(0,Xe.m9)(e),r instanceof Zs&&e instanceof Zs&&r.firestore===e.firestore&&Bu(r._query,e._query)&&r.converter===e.converter}class By{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Wf(this,"async_queue_retry"),this.Xc=()=>{const t=_d();t&&Zt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=_d();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=_d();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Si;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,J.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ao(t))throw t;Zt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,ii("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Jf.createAndSchedule(this,e,t,s,d=>this.na(d));return this.zc.push(a),a}Zc(){this.Wc&&An()}verifyOperationInProgress(){}sa(){var e=this;return(0,J.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function mp(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Fd{constructor(){this._progressObserver={},this._taskCompletionResolver=new Si,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zi extends Vh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new By,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||N_(this),this._firestoreClient.terminate()}}function hs(r){return r._firestoreClient||N_(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function N_(r){var e,t,s;const a=r._freezeSettings(),d=(D=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new da(r._databaseId,D,r._persistenceKey,(H=a).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,fp(H.experimentalLongPollingOptions),H.useFetchStreams));var D,H;r._firestoreClient=new A_(r._authCredentials,r._appCheckCredentials,r._queue,d),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function _a(r,e,t){const s=new Si;return r.asyncQueue.enqueue((0,J.Z)(function*(){try{yield Mh(r,t),yield Ph(r,e),s.resolve()}catch(a){const d=a;if(!Oh(d))throw d;xs("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function jy(r){if(r._initialized||r._terminated)throw new Gt(St.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(zn.fromBase64String(e))}catch(t){throw new Gt(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _u(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class za{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Gt(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cl{constructor(e){this._methodName=e}}class Uh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gt(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gt(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ur(this._lat,e._lat)||ur(this._long,e._long)}}const V_=/^__.*__$/;class Hy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new No(e,this.data,this.fieldMask,t,this.fieldTransforms):new _c(e,this.data,t,this.fieldTransforms)}}class fm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new No(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jh(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw An()}}class vp{constructor(e,t,s,a,d,g){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===d&&this.ua(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ip(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(jh(this.ca)&&V_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Gy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ih(e)}ya(e,t,s,a=!1){return new vp({ca:e,methodName:t,ga:s,path:Fi.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oc(r){const e=r._freezeSettings(),t=Ih(r._databaseId);return new Gy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ld(r,e,t,s,a,d={}){const g=r.ya(d.merge||d.mergeFields?2:0,e,t,a);gm("Data must be an object, but it was:",g,s);const D=Ky(s,g);let L,H;if(d.merge)L=new pn(g.fieldMask),H=g.fieldTransforms;else if(d.mergeFields){const ie=[];for(const Le of d.mergeFields){const Dt=zh(e,Le,t);if(!g.contains(Dt))throw new Gt(St.INVALID_ARGUMENT,`Field '${Dt}' is specified in your field mask but missing from your input data.`);Zy(ie,Dt)||ie.push(Dt)}L=new pn(ie),H=g.fieldTransforms.filter(Le=>L.covers(Le.field))}else L=null,H=g.fieldTransforms;return new Hy(new Es(D),L,H)}class kc extends Cl{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}function _p(r,e,t){return new vp({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Hh extends Cl{_toFieldTransform(e){return new Jc(e.path,new Fa)}isEqual(e){return e instanceof Hh}}class zy extends Cl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_p(this,e,!0),s=this.pa.map(d=>Tl(d,t)),a=new La(s);return new Jc(e.path,a)}isEqual(e){return this===e}}class Wy extends Cl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_p(this,e,!0),s=this.pa.map(d=>Tl(d,t)),a=new du(s);return new Jc(e.path,a)}isEqual(e){return this===e}}class qy extends Cl{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new wo(e.serializer,ed(e.serializer,this.Ia));return new Jc(e.path,t)}isEqual(e){return this===e}}function Ep(r,e,t,s){const a=r.ya(1,e,t);gm("Data must be an object, but it was:",a,s);const d=[],g=Es.empty();T(s,(L,H)=>{const ie=wp(e,L,t);H=(0,Xe.m9)(H);const Le=a.da(ie);if(H instanceof kc)d.push(ie);else{const Dt=Tl(H,Le);null!=Dt&&(d.push(ie),g.set(ie,Dt))}});const D=new pn(d);return new fm(g,D,a.fieldTransforms)}function Gh(r,e,t,s,a,d){const g=r.ya(1,e,t),D=[zh(e,s,t)],L=[a];if(d.length%2!=0)throw new Gt(St.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Dt=0;Dt<d.length;Dt+=2)D.push(zh(e,d[Dt])),L.push(d[Dt+1]);const H=[],ie=Es.empty();for(let Dt=D.length-1;Dt>=0;--Dt)if(!Zy(H,D[Dt])){const Lt=D[Dt];let an=L[Dt];an=(0,Xe.m9)(an);const In=g.da(Lt);if(an instanceof kc)H.push(Lt);else{const Fn=Tl(an,In);null!=Fn&&(H.push(Lt),ie.set(Lt,Fn))}}const Le=new pn(H);return new fm(ie,Le,g.fieldTransforms)}function pm(r,e,t,s=!1){return Tl(t,r.ya(s?4:3,e))}function Tl(r,e){if(Yy(r=(0,Xe.m9)(r)))return gm("Unsupported field value:",e,r),Ky(r,e);if(r instanceof Cl)return function(t,s){if(!jh(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let d=0;for(const g of t){let D=Tl(g,s.wa(d));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),d++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,Xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ed(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Ai.fromDate(t);return{timestampValue:al(s.serializer,a)}}if(t instanceof Ai){const a=new Ai(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:al(s.serializer,a)}}if(t instanceof Uh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _u)return{bytesValue:Mf(s.serializer,t._byteString)};if(t instanceof Gi){const a=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw s._a(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:id(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Bh(t)}`)}(r,e)}function Ky(r,e){const t={};return R(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(r,(s,a)=>{const d=Tl(a,e.ha(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function Yy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Ai||r instanceof Uh||r instanceof _u||r instanceof Gi||r instanceof Cl)}function gm(r,e,t){if(!Yy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Bh(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function zh(r,e,t){if((e=(0,Xe.m9)(e))instanceof za)return e._internalPath;if("string"==typeof e)return wp(r,e);throw Ip("Field path arguments must be of type string or ",r,!1,void 0,t)}const $_=new RegExp("[~\\*/\\[\\]]");function wp(r,e,t){if(e.search($_)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new za(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ip(r,e,t,s,a){const d=s&&!s.isEmpty(),g=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let L="";return(d||g)&&(L+=" (found",d&&(L+=` in field ${s}`),g&&(L+=` in document ${a}`),L+=")"),new Gt(St.INVALID_ARGUMENT,D+r+L)}function Zy(r,e){return r.some(t=>t.isEqual(e))}class Wh{constructor(e,t,s,a,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new U_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class U_ extends Wh{data(){return super.data()}}function bp(r,e){return"string"==typeof e?wp(r,e):e instanceof za?e._internalPath:e._delegate._internalPath}function Xy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Gt(St.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class qh extends mm{}function Nc(r,e,...t){let s=[];e instanceof mm&&s.push(e),s=s.concat(t),function(a){const d=a.filter(D=>D instanceof Sl).length,g=a.filter(D=>D instanceof Kh).length;if(d>1||d>0&&g>0)throw new Gt(St.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Kh extends qh{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kh(e,t,s)}_apply(e){const t=this._parse(e);return K_(e._query,t),new Zs(e.firestore,e.converter,Lu(e._query,t))}_parse(e){const t=Oc(e.firestore);return function(a,d,g,D,L,H,ie){let Le;if(L.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Gt(St.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Cp(ie,H);const Dt=[];for(const Lt of ie)Dt.push(q_(D,a,Lt));Le={arrayValue:{values:Dt}}}else Le=q_(D,a,ie)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Cp(ie,H),Le=pm(g,"where",ie,"in"===H||"not-in"===H);return kr.create(L,H,Le)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Sl extends mm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sl(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let d=s;const g=a.getFlattenedFilters();for(const D of g)K_(d,D),d=Lu(d,D)}(e._query,t),new Zs(e.firestore,e.converter,Lu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dp extends qh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dp(e,t)}_apply(e){const t=function(s,a,d){if(null!==s.startAt)throw new Gt(St.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Gt(St.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Ko(a,d);return function(D,L){if(null===Zl(D)){const H=gc(D);null!==H&&ym(0,H,L.field)}}(s,g),g}(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,function(s,a){const d=s.explicitOrderBy.concat([a]);return new pa(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Yh extends qh{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Yh(e,t,s)}_apply(e){return new Zs(e.firestore,e.converter,Xl(e._query,this._limit,this._limitType))}}class Zh extends qh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Zh(e,t,s)}_apply(e){const t=Al(e,this.type,this._docOrFields,this._inclusive);return new Zs(e.firestore,e.converter,(a=t,new pa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Eu extends qh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Eu(e,t,s)}_apply(e){const t=Al(e,this.type,this._docOrFields,this._inclusive);return new Zs(e.firestore,e.converter,(a=t,new pa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Al(r,e,t,s){if(t[0]=(0,Xe.m9)(t[0]),t[0]instanceof Wh)return function(a,d,g,D,L){if(!D)throw new Gt(St.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const H=[];for(const ie of mc(a))if(ie.field.isKeyField())H.push(Nu(d,D.key));else{const Le=D.data.field(ie.field);if(Eo(Le))throw new Gt(St.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){const Dt=ie.field.canonicalString();throw new Gt(St.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}H.push(Le)}return new au(H,L)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=Oc(r.firestore);return function(d,g,D,L,H,ie){const Le=d.explicitOrderBy;if(H.length>Le.length)throw new Gt(St.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let Lt=0;Lt<H.length;Lt++){const an=H[Lt];if(Le[Lt].field.isKeyField()){if("string"!=typeof an)throw new Gt(St.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof an}`);if(!_f(d)&&-1!==an.indexOf("/"))throw new Gt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${an}' contains a slash.`);const In=d.path.child(Pr.fromString(an));if(!tn.isDocumentKey(In))throw new Gt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${In}' is not because it contains an odd number of segments.`);const Fn=new tn(In);Dt.push(Nu(g,Fn))}else{const In=pm(D,L,an);Dt.push(In)}}return new au(Dt,ie)}(r._query,r.firestore._databaseId,a,e,t,s)}}function q_(r,e,t){if("string"==typeof(t=(0,Xe.m9)(t))){if(""===t)throw new Gt(St.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_f(e)&&-1!==t.indexOf("/"))throw new Gt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Pr.fromString(t));if(!tn.isDocumentKey(s))throw new Gt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Nu(r,new tn(s))}if(t instanceof Gi)return Nu(r,t._key);throw new Gt(St.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(t)}.`)}function Cp(r,e){if(!Array.isArray(r)||0===r.length)throw new Gt(St.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K_(r,e){if(e.isInequality()){const s=gc(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new Gt(St.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const d=Zl(r);null!==d&&ym(0,a,d)}const t=function(s,a){for(const d of s)for(const g of d.getFlattenedFilters())if(a.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Gt(St.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ym(r,e,t){if(!t.isEqual(e))throw new Gt(St.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class rv{convertValue(e,t="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw An()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return T(e,(a,d)=>{s[a]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new Uh(_i(e.latitude),_i(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=_s(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Bs(e));default:return null}}convertTimestamp(e){const t=Li(e);return new Ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Pr.fromString(e);Dn(Gm(s));const a=new ou(s.get(1),s.get(3)),d=new tn(s.popFirst(5));return a.isEqual(t)||ii(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function cr(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Y_ extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}class wu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ii extends Wh{constructor(e,t,s,a,d,g){super(e,t,s,a,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Tp extends Ii{data(e={}){return super.data(e)}}class Yu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Tp(this._firestore,this._userDataWriter,s.key,s,new wu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Gt(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Tp(s._firestore,s._userDataWriter,g.doc.key,g.doc,new wu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const D=new Tp(s._firestore,s._userDataWriter,g.doc.key,g.doc,new wu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,H=-1;return 0!==g.type&&(L=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),H=d.indexOf(g.doc.key)),{type:iv(g.type),doc:D,oldIndex:L,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return An()}}function sv(r,e){return r instanceof Ii&&e instanceof Ii?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Yu&&e instanceof Yu&&r._firestore===e._firestore&&dm(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Zu extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}function Vd(r,e,t){r=Kr(r,Gi);const s=Kr(r.firestore,Zi),a=cr(r.converter,e,t);return xl(s,[Ld(Oc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Gr.none())])}function cv(r,e,t,...s){r=Kr(r,Gi);const a=Kr(r.firestore,Zi),d=Oc(a);let g;return g="string"==typeof(e=(0,Xe.m9)(e))||e instanceof za?Gh(d,"updateDoc",r._key,e,t,s):Ep(d,"updateDoc",r._key,e),xl(a,[g.toMutation(r._key,Gr.exists(!0))])}function Xh(r,...e){var t,s,a;r=(0,Xe.m9)(r);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||mp(e[g])||(d=e[g],g++);const D={includeMetadataChanges:d.includeMetadataChanges};if(mp(e[g])){const Le=e[g];e[g]=null===(t=Le.next)||void 0===t?void 0:t.bind(Le),e[g+1]=null===(s=Le.error)||void 0===s?void 0:s.bind(Le),e[g+2]=null===(a=Le.complete)||void 0===a?void 0:a.bind(Le)}let L,H,ie;if(r instanceof Gi)H=Kr(r.firestore,Zi),ie=pc(r._key.path),L={next:Le=>{e[g]&&e[g](Sp(H,r,Le))},error:e[g+1],complete:e[g+2]};else{const Le=Kr(r,Zs);H=Kr(Le.firestore,Zi),ie=Le._query;const Dt=new Zu(H);L={next:Lt=>{e[g]&&e[g](new Yu(H,Dt,Le,Lt))},error:e[g+1],complete:e[g+2]},Xy(r._query)}return function(Le,Dt,Lt,an){const In=new dp(an),Fn=new Td(Dt,In,Lt);return Le.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return tp(yield Dl(Le),Fn)})),()=>{In.Dc(),Le.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return Lg(yield Dl(Le),Fn)}))}}(hs(H),ie,D,L)}function xl(r,e){return function(t,s){const a=new Si;return t.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function op(r,e,t){return Iy.apply(this,arguments)}(yield Fh(t),s,a)})),a.promise}(hs(r),e)}function Sp(r,e,t){const s=t.docs.get(e._key),a=new Zu(r);return new Ii(r,a,e._key,s,new wu(t.hasPendingWrites,t.fromCache),e.converter)}const SE={maxAttempts:5};class l0{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Oc(e)}set(e,t,s){this._verifyNotCommitted();const a=Ml(e,this._firestore),d=cr(a.converter,t,s),g=Ld(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,s);return this._mutations.push(g.toMutation(a._key,Gr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const d=Ml(e,this._firestore);let g;return g="string"==typeof(t=(0,Xe.m9)(t))||t instanceof za?Gh(this._dataReader,"WriteBatch.update",d._key,t,s,a):Ep(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(g.toMutation(d._key,Gr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ml(e,this._firestore);return this._mutations=this._mutations.concat(new Vu(t._key,Gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Gt(St.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ml(r,e){if((r=(0,Xe.m9)(r)).firestore!==e)throw new Gt(St.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class hv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Oc(e)}get(e){const t=Ml(e,this._firestore),s=new Y_(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return An();const d=a[0];if(d.isFoundDocument())return new Wh(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new Wh(this._firestore,s,t._key,null,t.converter);throw An()})}set(e,t,s){const a=Ml(e,this._firestore),d=cr(a.converter,t,s),g=Ld(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,s);return this._transaction.set(a._key,g),this}update(e,t,s,...a){const d=Ml(e,this._firestore);let g;return g="string"==typeof(t=(0,Xe.m9)(t))||t instanceof za?Gh(this._dataReader,"Transaction.update",d._key,t,s,a):Ep(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,g),this}delete(e){const t=Ml(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ml(e,this._firestore),s=new Zu(this._firestore);return super.get(e).then(a=>new Ii(this._firestore,s,t._key,a._document,new wu(!1,!1),t.converter))}}function Em(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function mv(){if(typeof Uint8Array>"u")throw new Gt("unimplemented","Uint8Arrays are not available in this environment.")}function Rl(){if(!function Tr(){return typeof atob<"u"}())throw new Gt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){Fs=nt.SDK_VERSION,(0,nt._registerComponent)(new $e.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const d=t.getProvider("app").getImmediate(),g=new Zi(new Ls(t.getProvider("auth-internal")),new Su(t.getProvider("app-check-internal")),function(D,L){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new Gt(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(D.options.projectId,L)}(d,s),d);return a=Object.assign({useFetchStreams:e},a),g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),(0,nt.registerVersion)(Uo,"3.13.0",r),(0,nt.registerVersion)(Uo,"3.13.0","esm2017")}();class tf{constructor(e){this._delegate=e}static fromBase64String(e){return Rl(),new tf(_u.fromBase64String(e))}static fromUint8Array(e){return mv(),new tf(_u.fromUint8Array(e))}toBase64(){return Rl(),this._delegate.toBase64()}toUint8Array(){return mv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xp(r){return function g0(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class yv{enableIndexedDbPersistence(e,t){return function Vy(r,e){jy(r=Kr(r,Zi));const t=hs(r);if(t._uninitializedComponentsProvider)throw new Gt(St.FAILED_PRECONDITION,"SDK cache is already specified.");xs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new bl;return _a(t,a,new lp(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hm(r){jy(r=Kr(r,Zi));const e=hs(r);if(e._uninitializedComponentsProvider)throw new Gt(St.FAILED_PRECONDITION,"SDK cache is already specified.");xs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new bl;return _a(e,s,new Zg(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function F_(r){if(r._initialized&&!r._terminated)throw new Gt(St.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Si;return r._queue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{yield(t=(0,J.Z)(function*(s){if(!qi.D())return Promise.resolve();const a=s+"main";yield qi.delete(a)}),function(s){return t.apply(this,arguments)})(jf(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class vv{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof ou||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&xs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Ly(r,e,t,s={}){var a;const d=(r=Kr(r,Vh))._getSettings(),g=`${e}:${t}`;if("firestore.googleapis.com"!==d.host&&d.host!==g&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},d),{host:g,ssl:!1})),s.mockUserToken){let D,L;if("string"==typeof s.mockUserToken)D=s.mockUserToken,L=ts.MOCK_USER;else{D=(0,Xe.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const H=s.mockUserToken.sub||s.mockUserToken.user_id;if(!H)throw new Gt(St.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new ts(H)}r._authCredentials=new jo(new tu(D,L))}}(this._delegate,e,t,s)}enableNetwork(){return function yu(r){return function Py(r){return r.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield Nh(r),t=yield Jg(r);return e.setNetworkEnabled(!0),function(s){const a=yn(s);return a.vu.delete(0),bh(a)}(t)}))}(hs(r=Kr(r,Zi)))}(this._delegate)}disableNetwork(){return function Ga(r){return function x_(r){return r.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield Nh(r),t=yield Jg(r);return e.setNetworkEnabled(!1),(s=(0,J.Z)(function*(a){const d=yn(a);d.vu.add(0),yield Ed(d),d.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(hs(r=Kr(r,Zi)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,sm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function L_(r){return function(e){const t=new Si;return e.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function b_(r,e){return zg.apply(this,arguments)}(yield Fh(e),t)})),t.promise}(hs(r=Kr(r,Zi)))}(this._delegate)}onSnapshotsInSync(e){return function lv(r,e){return function M_(r,e){const t=new dp(e);return r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return s=yield Dl(r),a=t,yn(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return s=yield Dl(r),a=t,void yn(s).ku.delete(a);var s,a}))}}(hs(r=Kr(r,Zi)),mp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Gt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $d(this,cm(this._delegate,e))}catch(t){throw Do(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xo(this,gp(this._delegate,e))}catch(t){throw Do(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fo(this,function P_(r,e){if(r=Kr(r,Vh),pp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gt(St.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zs(r,null,(t=e,new pa(Pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Do(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Ap(r,e,t){r=Kr(r,Zi);const s=Object.assign(Object.assign({},SE),t);return function(a){if(a.maxAttempts<1)throw new Gt(St.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,d,g){const D=new Si;return a.asyncQueue.enqueueAndForget((0,J.Z)(function*(){const L=yield function em(r){return hp(r).then(e=>e.datastore)}(a);new Ry(a.asyncQueue,L,g,d,D).run()})),D.promise}(hs(r),a=>e(new hv(r,a)),s)}(this._delegate,t=>e(new Mp(this,t)))}batch(){return hs(this._delegate),new _v(new l0(this._delegate,e=>xl(this._delegate,e)))}loadBundle(e){return function $y(r,e){const t=hs(r=Kr(r,Zi)),s=new Fd;return function Ny(r,e,t,s){const a=function(d,g){let D;return D="string"==typeof d?Hi().encode(d):d,L=function(L,H){if(L instanceof Uint8Array)return Xg(L,H);if(L instanceof ArrayBuffer)return Xg(new Uint8Array(L),H);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new T_(L,g);var L}(t,Ih(e));r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){!function xy(r,e,t){const s=yn(r);var a;(a=(0,J.Z)(function*(d,g,D){try{const L=yield g.getMetadata();if(yield function(Dt,Lt){const an=yn(Dt),In=ns(Lt.createTime);return an.persistence.runTransaction("hasNewerBundle","readonly",Fn=>an.qs.getBundleMetadata(Fn,Lt.id)).then(Fn=>!!Fn&&Fn.createTime.compareTo(In)>=0)}(d.localStore,L))return yield g.close(),D._completeWith({taskState:"Success",documentsLoaded:(Dt=L).totalDocuments,bytesLoaded:Dt.totalBytes,totalDocuments:Dt.totalDocuments,totalBytes:Dt.totalBytes}),Promise.resolve(new Set);D._updateProgress(np(L));const H=new _y(L,d.localStore,g.serializer);let ie=yield g.bc();for(;ie;){const Dt=yield H.zu(ie);Dt&&D._updateProgress(Dt),ie=yield g.bc()}const Le=yield H.complete();return yield Zo(d,Le.Ju,void 0),yield function(Dt,Lt){const an=yn(Dt);return an.persistence.runTransaction("Save bundle","readwrite",In=>an.qs.saveBundleMetadata(In,Lt))}(d.localStore,L),D._completeWith(Le.progress),Promise.resolve(Le.Hu)}catch(L){return xs("SyncEngine",`Loading bundle failed with ${L}`),D._failWith(L),Promise.resolve(new Set)}var Dt}),function(d,g,D){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Fh(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Uy(r,e){return function Fy(r,e){return r.asyncQueue.enqueue((0,J.Z)(function*(){return function(t,s){const a=yn(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.qs.getNamedQuery(d,s))}(yield Nd(r),e)}))}(hs(r=Kr(r,Zi)),e).then(t=>t?new Zs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new fo(this,t):null)}}class nf extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new tf(new _u(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xo.forKey(t,this.firestore,null)}}class Mp{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nf(e)}get(e){const t=Ol(e);return this._delegate.get(t).then(s=>new Pl(this._firestore,new Ii(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Ol(e);return s?(Em("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const d=Ol(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...a),this}delete(e){const t=Ol(e);return this._delegate.delete(t),this}}class _v{constructor(e){this._delegate=e}set(e,t,s){const a=Ol(e);return s?(Em("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const d=Ol(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...a),this}delete(e){const t=Ol(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Tp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rf(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Fc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let d=a.get(t);return d||(d=new Fc(e,new nf(e),t),a.set(t,d)),d}}Fc.INSTANCES=new WeakMap;class Xo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nf(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Gt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xo(t,new Gi(t._delegate,s,new tn(e)))}static forKey(e,t,s){return new Xo(t,new Gi(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new $d(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $d(this.firestore,cm(this._delegate,e))}catch(t){throw Do(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xe.m9)(e))instanceof Gi&&lm(this._delegate,e)}set(e,t){t=Em("DocumentReference.set",t);try{return t?Vd(this._delegate,e,t):Vd(this._delegate,e)}catch(s){throw Do(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?cv(this._delegate,e):cv(this._delegate,e,t,...s)}catch(a){throw Do(a,"updateDoc()","DocumentReference.update()")}}delete(){return function J_(r){return xl(Kr(r.firestore,Zi),[new Vu(r._key,Gr.none())])}(this._delegate)}onSnapshot(...e){const t=Ev(e),s=wv(e,a=>new Pl(this.firestore,new Ii(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Xh(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function av(r){r=Kr(r,Gi);const e=Kr(r.firestore,Zi),t=hs(e),s=new Zu(e);return function Oy(r,e){const t=new Si;return r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(s=(0,J.Z)(function*(a,d,g){try{const D=yield function(L,H){const ie=yn(L);return ie.persistence.runTransaction("read document","readonly",Le=>ie.localDocuments.getDocument(Le,H))}(a,d);D.isFoundDocument()?g.resolve(D):D.isNoDocument()?g.resolve(null):g.reject(new Gt(St.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const L=Dd(D,`Failed to get document '${d} from cache`);g.reject(L)}}),function(a,d,g){return s.apply(this,arguments)})(yield Nd(r),e,t);var s})),t.promise}(t,r._key).then(a=>new Ii(e,s,r._key,a,new wu(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function uv(r){r=Kr(r,Gi);const e=Kr(r.firestore,Zi);return tm(hs(e),r._key,{source:"server"}).then(t=>Sp(e,r,t))}(this._delegate):function ov(r){r=Kr(r,Gi);const e=Kr(r.firestore,Zi);return tm(hs(e),r._key).then(t=>Sp(e,r,t))}(this._delegate),t.then(s=>new Pl(this.firestore,new Ii(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Xo(this.firestore,this._delegate.withConverter(e?Fc.getInstance(this.firestore,e):null))}}function Do(r,e,t){return r.message=r.message.replace(e,t),r}function Ev(r){for(const e of r)if("object"==typeof e&&!xp(e))return e;return{}}function wv(r,e){var t,s;let a;return a=xp(r[0])?r[0]:xp(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:d=>{a.next&&a.next(e(d))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Pl{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sv(this._delegate,e._delegate)}}class rf extends Pl{data(e){const t=this._delegate.data(e);return function rc(r,e){r||An()}(void 0!==t),t}}class fo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nf(e)}where(e,t,s){try{return new fo(this.firestore,Nc(this._delegate,function j_(r,e,t){const s=e,a=bp("where",r);return Kh._create(a,s,t)}(e,t,s)))}catch(a){throw Do(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fo(this.firestore,Nc(this._delegate,function Qy(r,e="asc"){const t=e,s=bp("orderBy",r);return Dp._create(s,t)}(e,t)))}catch(s){throw Do(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fo(this.firestore,Nc(this._delegate,function Jy(r){return um("limit",r),Yh._create("limit",r,"F")}(e)))}catch(t){throw Do(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fo(this.firestore,Nc(this._delegate,function ev(r){return um("limitToLast",r),Yh._create("limitToLast",r,"L")}(e)))}catch(t){throw Do(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fo(this.firestore,Nc(this._delegate,function tv(...r){return Zh._create("startAt",r,!0)}(...e)))}catch(t){throw Do(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fo(this.firestore,Nc(this._delegate,function nv(...r){return Zh._create("startAfter",r,!1)}(...e)))}catch(t){throw Do(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fo(this.firestore,Nc(this._delegate,function z_(...r){return Eu._create("endBefore",r,!1)}(...e)))}catch(t){throw Do(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fo(this.firestore,Nc(this._delegate,function W_(...r){return Eu._create("endAt",r,!0)}(...e)))}catch(t){throw Do(t,"endAt()","Query.endAt()")}}isEqual(e){return dm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function X_(r){r=Kr(r,Zs);const e=Kr(r.firestore,Zi),t=hs(e),s=new Zu(e);return function ky(r,e){const t=new Si;return r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(s=(0,J.Z)(function*(a,d,g){try{const D=yield yd(a,d,!0),L=new __(d,D.ir),H=L.sc(D.documents),ie=L.applyChanges(H,!1);g.resolve(ie.snapshot)}catch(D){const L=Dd(D,`Failed to execute query '${d} against cache`);g.reject(L)}}),function(a,d,g){return s.apply(this,arguments)})(yield Nd(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Yu(e,s,r,a))}(this._delegate):"server"===e?.source?function Q_(r){r=Kr(r,Zs);const e=Kr(r.firestore,Zi),t=hs(e),s=new Zu(e);return nm(t,r._query,{source:"server"}).then(a=>new Yu(e,s,r,a))}(this._delegate):function Z_(r){r=Kr(r,Zs);const e=Kr(r.firestore,Zi),t=hs(e),s=new Zu(e);return Xy(r._query),nm(t,r._query).then(a=>new Yu(e,s,r,a))}(this._delegate),t.then(s=>new wm(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Ev(e),s=wv(e,a=>new wm(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Xh(this._delegate,t,s)}withConverter(e){return new fo(this.firestore,this._delegate.withConverter(e?Fc.getInstance(this.firestore,e):null))}}class y0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new y0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new rf(this._firestore,s))})}isEqual(e){return sv(this._delegate,e._delegate)}}class $d extends fo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xo(this.firestore,e):null}doc(e){try{return new Xo(this.firestore,void 0===e?gp(this._delegate):gp(this._delegate,e))}catch(t){throw Do(t,"doc()","CollectionReference.doc()")}}add(e){return function e0(r,e){const t=Kr(r.firestore,Zi),s=gp(r),a=cr(r.converter,e);return xl(t,[Ld(Oc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,Gr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Xo(this.firestore,t))}isEqual(e){return lm(this._delegate,e._delegate)}withConverter(e){return new $d(this.firestore,this._delegate.withConverter(e?Fc.getInstance(this.firestore,e):null))}}function Ol(r){return Kr(r,Gi)}class Im{constructor(...e){this._delegate=new za(...e)}static documentId(){return new Im(Fi.keyField().canonicalString())}isEqual(e){return(e=(0,Xe.m9)(e))instanceof za&&this._delegate._internalPath.isEqual(e._internalPath)}}class kl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function h0(){return new Hh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new kl(e)}static delete(){const e=function d0(){return new kc("deleteField")}();return e._methodName="FieldValue.delete",new kl(e)}static arrayUnion(...e){const t=function fv(...r){return new zy("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new kl(t)}static arrayRemove(...e){const t=function ef(...r){return new Wy("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new kl(t)}static increment(e){const t=function f0(r){return new qy("increment",r)}(e);return t._methodName="FieldValue.increment",new kl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const v0={Firestore:vv,GeoPoint:Uh,Timestamp:Ai,Blob:tf,Transaction:Mp,WriteBatch:_v,DocumentReference:Xo,DocumentSnapshot:Pl,Query:fo,QueryDocumentSnapshot:rf,QuerySnapshot:wm,CollectionReference:$d,FieldPath:Im,FieldValue:kl,setLogLevel:function m0(r){!function nc(r){yo.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function Iv(r){(function _0(r,e){r.INTERNAL.registerComponent(new $e.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},v0)))})(r,(e,t)=>new vv(e,t,new yv)),r.registerVersion("@firebase/firestore-compat","0.3.12")}(Ze.Z);var Xu=O(4941),E0=O(2032),w0=O(1274);function Dv(r,e){return function bv(r,e=F.z){return new G.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function bm(r,e){return Dv(r,e).pipe((0,oe.U)(t=>({payload:t,type:"query"})))}function Ud(r,e){return bm(r,e).pipe((0,Q.O)(void 0),Me(),(0,oe.U)(([t,s])=>{const a=s.payload.docChanges(),d=a.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,D)=>{const L=a.find(ie=>ie.doc.ref.isEqual(g.ref)),H=t?.payload.docs.find(ie=>ie.ref.isEqual(g.ref));L&&JSON.stringify(L.doc.metadata)===JSON.stringify(g.metadata)||!L&&H&&JSON.stringify(H.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:D,newIndex:D,type:"modified",doc:g}})}),d}))}function Rp(r,e,t){return Ud(r,t).pipe((0,Z.R)((s,a)=>function Cv(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function b0(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return sf(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sf(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sf(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(d=>d.payload),e),[]),(0,Te.x)(),(0,oe.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function sf(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function Tv(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Pp{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Ud(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,oe.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Q.O)(void 0),Me(),(0,et.h)(([s,a])=>a.length>0||!s),(0,oe.U)(([s,a])=>a),Y.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Z.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Tv(e);return Rp(this.query,t,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return bm(this.query,this.afs.schedulers.outsideAngular).pipe((0,oe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Y.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(Y.iC)}add(e){return this.ref.add(e)}doc(e){return new Sv(this.ref.doc(e),this.afs)}}class Sv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:d}=jd(s,t);return new Pp(a,d,this.afs)}snapshotChanges(){return function I0(r,e){return Dv(r,e).pipe((0,Q.O)(void 0),Me(),(0,oe.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,oe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ae.D)(this.ref.get(e)).pipe(Y.iC)}}class Av{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ud(this.query,this.afs.schedulers.outsideAngular).pipe((0,oe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,et.h)(t=>t.length>0),Y.iC):Ud(this.query,this.afs.schedulers.outsideAngular).pipe(Y.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Z.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Tv(e);return Rp(this.query,t,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return bm(this.query,this.afs.schedulers.outsideAngular).pipe((0,oe.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Y.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(Y.iC)}}const xv=new c.OlP("angularfire2.enableFirestorePersistence"),Dm=new c.OlP("angularfire2.firestore.persistenceSettings"),ME=new c.OlP("angularfire2.firestore.settings"),D0=new c.OlP("angularfire2.firestore.use-emulator");function jd(r,e=(t=>t)){return{query:e(r),ref:r}}let Lc=(()=>{class r{constructor(t,s,a,d,g,D,L,H,ie,Le,Dt,Lt,an,In,Fn,Mr,Xr){this.schedulers=L;const Fr=(0,he.on)(t,D,s),us=ie;Le&&(0,Xu.nw)(Fr,D,Dt,an,In,Fn,Lt,Mr),[this.firestore,this.persistenceEnabled$]=(0,he.cc)(`${Fr.name}.firestore`,"AngularFirestore",Fr.name,()=>{const Oi=D.runOutsideAngular(()=>Fr.firestore());if(d&&Oi.settings(d),us&&Oi.useEmulator(...us),a&&!(0,ye.PM)(g)){const Bi=()=>{try{return(0,Ae.D)(Oi.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(Co){return typeof console<"u"&&console.warn(Co),(0,Ee.of)(!1)}};return[Oi,D.runOutsideAngular(Bi)]}return[Oi,(0,Ee.of)(!1)]},[d,us,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:g}=jd(a,s),D=this.schedulers.ngZone.run(()=>d);return new Pp(D,g,this)}collectionGroup(t,s){const a=s||(g=>g),d=this.firestore.collectionGroup(t);return new Av(a(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new Sv(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(c.LFG(he.Dh),c.LFG(he.xv,8),c.LFG(xv,8),c.LFG(ME,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Y.HU),c.LFG(Dm,8),c.LFG(D0,8),c.LFG(Xu.zQ,8),c.LFG(Xu.Qv,8),c.LFG(Xu.L6,8),c.LFG(Xu._Q,8),c.LFG(Xu.rT,8),c.LFG(Xu.lh,8),c.LFG(Xu.f7,8),c.LFG(E0.nm,8))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Mv=(()=>{class r{constructor(){w0.Z.registerVersion("angularfire",Y.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:xv,useValue:!0},{provide:Dm,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[Lc]}),r})()},2011:(Jt,lt,O)=>{"use strict";O.d(lt,{Dh:()=>Me,GT:()=>Y,cc:()=>Te,hO:()=>Z,on:()=>re,pX:()=>Ee,xv:()=>fe});var c=O(5062),F=O(1274),G=O(2598);Jt=O.hmd(Jt);const Ae=["ngOnDestroy"],Ee=(je,Ze,J,nt={})=>new Proxy(je,{get:($e,st)=>J.runOutsideAngular(()=>{var Xe;if(je[st])return!(null===(Xe=nt?.spy)||void 0===Xe)&&Xe.get&&nt.spy.get(st,je[st]),je[st];if(Ae.indexOf(st)>-1)return()=>{};const ct=Ze.toPromise().then(It=>{const le=It&&It[st];return"function"==typeof le?le.bind(It):le&&le.then?le.then(Ce=>J.run(()=>Ce)):J.run(()=>le)});return new Proxy(()=>{},{get:(It,le)=>ct[le],apply:(It,le,Ce)=>ct.then(se=>{var me;const W=se&&se(...Ce);return!(null===(me=nt?.spy)||void 0===me)&&me.apply&&nt.spy.apply(st,Ce,W),W})})})}),Y=(je,Ze)=>{Ze.forEach(J=>{Object.getOwnPropertyNames(J.prototype||J).forEach(nt=>{Object.defineProperty(je.prototype,nt,Object.getOwnPropertyDescriptor(J.prototype||J,nt))})})};class de{constructor(Ze){return Ze}}const Me=new c.OlP("angularfire2.app.options"),fe=new c.OlP("angularfire2.app.name");function re(je,Ze,J){const $e="object"==typeof J&&J||{};$e.name=$e.name||"string"==typeof J&&J||"[DEFAULT]";const Xe=F.Z.apps.filter(ct=>ct&&ct.name===$e.name)[0]||Ze.runOutsideAngular(()=>F.Z.initializeApp(je,$e));try{JSON.stringify(je)!==JSON.stringify(Xe.options)&&Q("error",`${Xe.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(Xe)}const Q=(je,...Ze)=>{(0,c.X6Q)()&&typeof console<"u"&&console[je](...Ze)},oe={provide:de,useFactory:re,deps:[Me,c.R0b,[new c.FiY,fe]]};let Z=(()=>{class je{constructor(J){F.Z.registerVersion("angularfire",G.q4.full,"core"),F.Z.registerVersion("angularfire",G.q4.full,"app-compat"),F.Z.registerVersion("angular",c.q4F.full,J.toString())}static initializeApp(J,nt){return{ngModule:je,providers:[{provide:Me,useValue:J},{provide:fe,useValue:nt}]}}}return je.\u0275fac=function(J){return new(J||je)(c.LFG(c.Lbi))},je.\u0275mod=c.oAB({type:je}),je.\u0275inj=c.cJS({providers:[oe]}),je})();function Te(je,Ze,J,nt,$e){const[,st,Xe]=globalThis.\u0275AngularfireInstanceCache.find(ct=>ct[0]===je)||[];if(st)return function et(je,Ze){try{return je.toString()===Ze.toString()}catch{return je===Ze}}($e,Xe)||(ye("error",`${Ze} was already initialized on the ${J} Firebase App with different settings.${he?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:$e,was:Xe})),st;{const ct=nt();return globalThis.\u0275AngularfireInstanceCache.push([je,ct,$e]),ct}}const he=!!Jt.hot,ye=(je,...Ze)=>{(0,c.X6Q)()&&typeof console<"u"&&console[je](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2598:(Jt,lt,O)=>{"use strict";O.d(lt,{q4:()=>Ru,iC:()=>cc,HU:()=>Ul,vb:()=>Pu,JM:()=>Hc});var c=O(5062),F=O(8140),G=O(5861),Ae=O(2951),Ee=O(2090),Y=O(4859),de=O(1877);let fe,re;const Z=new WeakMap,Te=new WeakMap,et=new WeakMap,he=new WeakMap,ye=new WeakMap;let J={get(T,R,z){if(T instanceof IDBTransaction){if("done"===R)return Te.get(T);if("objectStoreNames"===R)return T.objectStoreNames||et.get(T);if("store"===R)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return Xe(T[R])},set:(T,R,z)=>(T[R]=z,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function st(T){return"function"==typeof T?function $e(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(ct(this),R),Xe(Z.get(this))}:function(...R){return Xe(T.apply(ct(this),R))}:function(R,...z){const De=T.call(ct(this),R,...z);return et.set(De,R.sort?R.sort():[R]),Xe(De)}}(T):(T instanceof IDBTransaction&&function Ze(T){if(Te.has(T))return;const R=new Promise((z,De)=>{const Je=()=>{T.removeEventListener("complete",pt),T.removeEventListener("error",Ut),T.removeEventListener("abort",Ut)},pt=()=>{z(),Je()},Ut=()=>{De(T.error||new DOMException("AbortError","AbortError")),Je()};T.addEventListener("complete",pt),T.addEventListener("error",Ut),T.addEventListener("abort",Ut)});Te.set(T,R)}(T),((T,R)=>R.some(z=>T instanceof z))(T,function Q(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,J):T)}function Xe(T){if(T instanceof IDBRequest)return function je(T){const R=new Promise((z,De)=>{const Je=()=>{T.removeEventListener("success",pt),T.removeEventListener("error",Ut)},pt=()=>{z(Xe(T.result)),Je()},Ut=()=>{De(T.error),Je()};T.addEventListener("success",pt),T.addEventListener("error",Ut)});return R.then(z=>{z instanceof IDBCursor&&Z.set(z,T)}).catch(()=>{}),ye.set(R,T),R}(T);if(he.has(T))return he.get(T);const R=st(T);return R!==T&&(he.set(T,R),ye.set(R,T)),R}const ct=T=>ye.get(T);function It(T,R,{blocked:z,upgrade:De,blocking:Je,terminated:pt}={}){const Ut=indexedDB.open(T,R),_n=Xe(Ut);return De&&Ut.addEventListener("upgradeneeded",pn=>{De(Xe(Ut.result),pn.oldVersion,pn.newVersion,Xe(Ut.transaction))}),z&&Ut.addEventListener("blocked",()=>z()),_n.then(pn=>{pt&&pn.addEventListener("close",()=>pt()),Je&&pn.addEventListener("versionchange",()=>Je())}).catch(()=>{}),_n}function le(T,{blocked:R}={}){const z=indexedDB.deleteDatabase(T);return R&&z.addEventListener("blocked",()=>R()),Xe(z).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],se=["put","add","delete","clear"],me=new Map;function W(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(me.get(R))return me.get(R);const z=R.replace(/FromIndex$/,""),De=R!==z,Je=se.includes(z);if(!(z in(De?IDBIndex:IDBObjectStore).prototype)||!Je&&!Ce.includes(z))return;const pt=function(){var Ut=(0,G.Z)(function*(_n,...pn){const Zn=this.transaction(_n,Je?"readwrite":"readonly");let Tr=Zn.store;return De&&(Tr=Tr.index(pn.shift())),(yield Promise.all([Tr[z](...pn),Je&&Zn.done]))[0]});return function(pn){return Ut.apply(this,arguments)}}();return me.set(R,pt),pt}!function nt(T){J=T(J)}(T=>({...T,get:(R,z,De)=>W(R,z)||T.get(R,z,De),has:(R,z)=>!!W(R,z)||T.has(R,z)}));const ce="@firebase/installations",Ue="w:0.6.4",ut="FIS_v2",Et=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(T){return T instanceof Ee.ZR&&T.code.includes("request-failed")}function en({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function hn(T){return{token:T.token,requestStatus:2,expiresIn:mr(T.expiresIn),creationTime:Date.now()}}function qt(T,R){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,G.Z)(function*(T,R){const De=(yield R.json()).error;return Et.create("request-failed",{requestName:T,serverCode:De.code,serverMessage:De.message,serverStatus:De.status})})).apply(this,arguments)}function Sn({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Ln(T,{refreshToken:R}){const z=Sn(T);return z.append("Authorization",function Rt(T){return`${ut} ${T}`}(R)),z}function Lr(T){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,G.Z)(function*(T){const R=yield T();return R.status>=500&&R.status<600?T():R})).apply(this,arguments)}function mr(T){return Number(T.replace("s","000"))}function tr(T,R){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,G.Z)(function*({appConfig:T,heartbeatServiceProvider:R},{fid:z}){const De=en(T),Je=Sn(T),pt=R.getImmediate({optional:!0});if(pt){const Zn=yield pt.getHeartbeatsHeader();Zn&&Je.append("x-firebase-client",Zn)}const _n={method:"POST",headers:Je,body:JSON.stringify({fid:z,authVersion:ut,appId:T.appId,sdkVersion:Ue})},pn=yield Lr(()=>fetch(De,_n));if(pn.ok){const Zn=yield pn.json();return{fid:Zn.fid||z,registrationStatus:2,refreshToken:Zn.refreshToken,authToken:hn(Zn.authToken)}}throw yield qt("Create Installation",pn)})).apply(this,arguments)}function Ir(T){return new Promise(R=>{setTimeout(R,T)})}const un=/^[cdef][\w-]{21}$/;function Nt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const z=function Fe(T){return function sr(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return un.test(z)?z:""}catch{return""}}function We(T){return`${T.appName}!${T.appId}`}const Pt=new Map;function mt(T,R){const z=We(T);fr(z,R),function Qt(T,R){const z=function yr(){return!Mn&&"BroadcastChannel"in self&&(Mn=new BroadcastChannel("[Firebase] FID Change"),Mn.onmessage=T=>{fr(T.data.key,T.data.fid)}),Mn}();z&&z.postMessage({key:T,fid:R}),function $r(){0===Pt.size&&Mn&&(Mn.close(),Mn=null)}()}(z,R)}function fr(T,R){const z=Pt.get(T);if(z)for(const De of z)De(R)}let Mn=null;const wn="firebase-installations-store";let jr=null;function bn(){return jr||(jr=It("firebase-installations-database",1,{upgrade:(T,R)=>{0===R&&T.createObjectStore(wn)}})),jr}function nr(T,R){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,G.Z)(function*(T,R){const z=We(T),Je=(yield bn()).transaction(wn,"readwrite"),pt=Je.objectStore(wn),Ut=yield pt.get(z);return yield pt.put(R,z),yield Je.done,(!Ut||Ut.fid!==R.fid)&&mt(T,R.fid),R})).apply(this,arguments)}function Br(T){return lr.apply(this,arguments)}function lr(){return(lr=(0,G.Z)(function*(T){const R=We(T),De=(yield bn()).transaction(wn,"readwrite");yield De.objectStore(wn).delete(R),yield De.done})).apply(this,arguments)}function br(T,R){return Or.apply(this,arguments)}function Or(){return(Or=(0,G.Z)(function*(T,R){const z=We(T),Je=(yield bn()).transaction(wn,"readwrite"),pt=Je.objectStore(wn),Ut=yield pt.get(z),_n=R(Ut);return void 0===_n?yield pt.delete(z):yield pt.put(_n,z),yield Je.done,_n&&(!Ut||Ut.fid!==_n.fid)&&mt(T,_n.fid),_n})).apply(this,arguments)}function Oe(T){return be.apply(this,arguments)}function be(){return(be=(0,G.Z)(function*(T){let R;const z=yield br(T.appConfig,De=>{const Je=qe(De),pt=kt(T,Je);return R=pt.registrationPromise,pt.installationEntry});return""===z.fid?{installationEntry:yield R}:{installationEntry:z,registrationPromise:R}})).apply(this,arguments)}function qe(T){return ir(T||{fid:Nt(),registrationStatus:0})}function kt(T,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Et.create("app-offline"))};const z={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},De=function yt(T,R){return fn.apply(this,arguments)}(T,z);return{installationEntry:z,registrationPromise:De}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:Hn(T)}:{installationEntry:R}}function fn(){return(fn=(0,G.Z)(function*(T,R){try{const z=yield tr(T,R);return nr(T.appConfig,z)}catch(z){throw Tt(z)&&409===z.customData.serverCode?yield Br(T.appConfig):yield nr(T.appConfig,{fid:R.fid,registrationStatus:0}),z}})).apply(this,arguments)}function Hn(T){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,G.Z)(function*(T){let R=yield Un(T.appConfig);for(;1===R.registrationStatus;)yield Ir(100),R=yield Un(T.appConfig);if(0===R.registrationStatus){const{installationEntry:z,registrationPromise:De}=yield Oe(T);return De||z}return R})).apply(this,arguments)}function Un(T){return br(T,R=>{if(!R)throw Et.create("installation-not-found");return ir(R)})}function ir(T){return function Ye(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function we(T,R){return ve.apply(this,arguments)}function ve(){return(ve=(0,G.Z)(function*({appConfig:T,heartbeatServiceProvider:R},z){const De=Be(T,z),Je=Ln(T,z),pt=R.getImmediate({optional:!0});if(pt){const Zn=yield pt.getHeartbeatsHeader();Zn&&Je.append("x-firebase-client",Zn)}const _n={method:"POST",headers:Je,body:JSON.stringify({installation:{sdkVersion:Ue,appId:T.appId}})},pn=yield Lr(()=>fetch(De,_n));if(pn.ok)return hn(yield pn.json());throw yield qt("Generate Auth Token",pn)})).apply(this,arguments)}function Be(T,{fid:R}){return`${en(T)}/${R}/authTokens:generate`}function bt(T){return on.apply(this,arguments)}function on(){return(on=(0,G.Z)(function*(T,R=!1){let z;const De=yield br(T.appConfig,pt=>{if(!Xt(pt))throw Et.create("not-registered");const Ut=pt.authToken;if(!R&&Jn(Ut))return pt;if(1===Ut.requestStatus)return z=gt(T,R),pt;{if(!navigator.onLine)throw Et.create("app-offline");const _n=rr(pt);return z=cn(T,_n),_n}});return z?yield z:De.authToken})).apply(this,arguments)}function gt(T,R){return ot.apply(this,arguments)}function ot(){return(ot=(0,G.Z)(function*(T,R){let z=yield xt(T.appConfig);for(;1===z.authToken.requestStatus;)yield Ir(100),z=yield xt(T.appConfig);const De=z.authToken;return 0===De.requestStatus?bt(T,R):De})).apply(this,arguments)}function xt(T){return br(T,R=>{if(!Xt(R))throw Et.create("not-registered");return function Qr(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function cn(T,R){return dn.apply(this,arguments)}function dn(){return(dn=(0,G.Z)(function*(T,R){try{const z=yield we(T,R),De=Object.assign(Object.assign({},R),{authToken:z});return yield nr(T.appConfig,De),z}catch(z){if(!Tt(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const De=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield nr(T.appConfig,De)}else yield Br(T.appConfig);throw z}})).apply(this,arguments)}function Xt(T){return void 0!==T&&2===T.registrationStatus}function Jn(T){return 2===T.requestStatus&&!function vn(T){const R=Date.now();return R<T.creationTime||T.creationTime+T.expiresIn<R+36e5}(T)}function rr(T){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:R})}function ai(){return(ai=(0,G.Z)(function*(T){const R=T,{installationEntry:z,registrationPromise:De}=yield Oe(R);return De?De.catch(console.error):bt(R).catch(console.error),z.fid})).apply(this,arguments)}function Ei(){return(Ei=(0,G.Z)(function*(T,R=!1){const z=T;return yield bi(z),(yield bt(z,R)).token})).apply(this,arguments)}function bi(T){return pr.apply(this,arguments)}function pr(){return(pr=(0,G.Z)(function*(T){const{registrationPromise:R}=yield Oe(T);R&&(yield R)})).apply(this,arguments)}function ft(T){return Et.create("missing-app-config-values",{valueName:T})}const pe="installations",ht=T=>{const R=T.getProvider("app").getImmediate(),z=function tt(T){if(!T||!T.options)throw ft("App Configuration");if(!T.name)throw ft("App Name");const R=["projectId","apiKey","appId"];for(const z of R)if(!T.options[z])throw ft(z);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(R);return{app:R,appConfig:z,heartbeatServiceProvider:(0,Ae._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},At=T=>{const R=T.getProvider("app").getImmediate(),z=(0,Ae._getProvider)(R,pe).getImmediate();return{getId:()=>function Wr(T){return ai.apply(this,arguments)}(z),getToken:Je=>function zr(T){return Ei.apply(this,arguments)}(z,Je)}};(function Mt(){(0,Ae._registerComponent)(new Y.wA(pe,ht,"PUBLIC")),(0,Ae._registerComponent)(new Y.wA("installations-internal",At,"PRIVATE"))})(),(0,Ae.registerVersion)(ce,"0.6.4"),(0,Ae.registerVersion)(ce,"0.6.4","esm2017");const Bt="@firebase/remote-config",Sr=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ti{constructor(R,z,De,Je){this.client=R,this.storage=z,this.storageCache=De,this.logger=Je}isCachedDataFresh(R,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const De=Date.now()-z,Je=De<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${De}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${Je}.`),Je}fetch(R){var z=this;return(0,G.Z)(function*(){const[De,Je]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Je&&z.isCachedDataFresh(R.cacheMaxAgeMillis,De))return Je;R.eTag=Je&&Je.eTag;const pt=yield z.client.fetch(R),Ut=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pt.status&&Ut.push(z.storage.setLastSuccessfulFetchResponse(pt)),yield Promise.all(Ut),pt})()}}function rs(T=navigator){return T.languages&&T.languages[0]||T.language}class mi{constructor(R,z,De,Je,pt,Ut){this.firebaseInstallations=R,this.sdkVersion=z,this.namespace=De,this.projectId=Je,this.apiKey=pt,this.appId=Ut}fetch(R){var z=this;return(0,G.Z)(function*(){const[De,Je]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Ut=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},pn={sdk_version:z.sdkVersion,app_instance_id:De,app_instance_id_token:Je,app_id:z.appId,language_code:rs()},Zn={method:"POST",headers:_n,body:JSON.stringify(pn)},Tr=fetch(Ut,Zn),zn=new Promise((_s,Bs)=>{R.signal.addEventListener(()=>{const da=new Error("The operation was aborted.");da.name="AbortError",Bs(da)})});let Ms;try{yield Promise.race([Tr,zn]),Ms=yield Tr}catch(_s){let Bs="fetch-client-network";throw"AbortError"===_s?.name&&(Bs="fetch-timeout"),Sr.create(Bs,{originalErrorMessage:_s?.message})}let Li=Ms.status;const _i=Ms.headers.get("ETag")||void 0;let _o,Eo;if(200===Ms.status){let _s;try{_s=yield Ms.json()}catch(Bs){throw Sr.create("fetch-client-parse",{originalErrorMessage:Bs?.message})}_o=_s.entries,Eo=_s.state}if("INSTANCE_STATE_UNSPECIFIED"===Eo?Li=500:"NO_CHANGE"===Eo?Li=304:("NO_TEMPLATE"===Eo||"EMPTY_CONFIG"===Eo)&&(_o={}),304!==Li&&200!==Li)throw Sr.create("fetch-status",{httpStatus:Li});return{status:Li,eTag:_i,config:_o}})()}}class Ps{constructor(R,z){this.client=R,this.storage=z}fetch(R){var z=this;return(0,G.Z)(function*(){const De=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(R,De)})()}attemptFetch(R,{throttleEndTimeMillis:z,backoffCount:De}){var Je=this;return(0,G.Z)(function*(){yield function Xi(T,R){return new Promise((z,De)=>{const Je=Math.max(R-Date.now(),0),pt=setTimeout(z,Je);T.addEventListener(()=>{clearTimeout(pt),De(Sr.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,z);try{const pt=yield Je.client.fetch(R);return yield Je.storage.deleteThrottleMetadata(),pt}catch(pt){if(!function ds(T){if(!(T instanceof Ee.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(pt))throw pt;const Ut={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(De),backoffCount:De+1};return yield Je.storage.setThrottleMetadata(Ut),Je.attemptFetch(R,Ut)}})()}}class Qs{constructor(R,z,De,Je,pt){this.app=R,this._client=z,this._storageCache=De,this._storage=Je,this._logger=pt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ms(T,R){const z=T.target.error||void 0;return Sr.create(R,{originalErrorMessage:z&&z?.message})}const Yr="app_namespace_store";class eo{constructor(R,z,De,Je=function ni(){return new Promise((T,R)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=De=>{R(ms(De,"storage-open"))},z.onsuccess=De=>{T(De.target.result)},z.onupgradeneeded=De=>{0===De.oldVersion&&De.target.result.createObjectStore(Yr,{keyPath:"compositeKey"})}}catch(z){R(Sr.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=R,this.appName=z,this.namespace=De,this.openDbPromise=Je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var z=this;return(0,G.Z)(function*(){const De=yield z.openDbPromise;return new Promise((Je,pt)=>{const _n=De.transaction([Yr],"readonly").objectStore(Yr),pn=z.createCompositeKey(R);try{const Zn=_n.get(pn);Zn.onerror=Tr=>{pt(ms(Tr,"storage-get"))},Zn.onsuccess=Tr=>{const zn=Tr.target.result;Je(zn?zn.value:void 0)}}catch(Zn){pt(Sr.create("storage-get",{originalErrorMessage:Zn?.message}))}})})()}set(R,z){var De=this;return(0,G.Z)(function*(){const Je=yield De.openDbPromise;return new Promise((pt,Ut)=>{const pn=Je.transaction([Yr],"readwrite").objectStore(Yr),Zn=De.createCompositeKey(R);try{const Tr=pn.put({compositeKey:Zn,value:z});Tr.onerror=zn=>{Ut(ms(zn,"storage-set"))},Tr.onsuccess=()=>{pt()}}catch(Tr){Ut(Sr.create("storage-set",{originalErrorMessage:Tr?.message}))}})})()}delete(R){var z=this;return(0,G.Z)(function*(){const De=yield z.openDbPromise;return new Promise((Je,pt)=>{const _n=De.transaction([Yr],"readwrite").objectStore(Yr),pn=z.createCompositeKey(R);try{const Zn=_n.delete(pn);Zn.onerror=Tr=>{pt(ms(Tr,"storage-delete"))},Zn.onsuccess=()=>{Je()}}catch(Zn){pt(Sr.create("storage-delete",{originalErrorMessage:Zn?.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class Ur{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,G.Z)(function*(){const z=R.storage.getLastFetchStatus(),De=R.storage.getLastSuccessfulFetchTimestampMillis(),Je=R.storage.getActiveConfig(),pt=yield z;pt&&(R.lastFetchStatus=pt);const Ut=yield De;Ut&&(R.lastSuccessfulFetchTimestampMillis=Ut);const _n=yield Je;_n&&(R.activeConfig=_n)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Zr(){return js.apply(this,arguments)}function js(){return(js=(0,G.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function ki(){(0,Ae._registerComponent)(new Y.wA("remote-config",function T(R,{instanceIdentifier:z}){const De=R.getProvider("app").getImmediate(),Je=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");if(!(0,Ee.hl)())throw Sr.create("indexed-db-unavailable");const{projectId:pt,apiKey:Ut,appId:_n}=De.options;if(!pt)throw Sr.create("registration-project-id");if(!Ut)throw Sr.create("registration-api-key");if(!_n)throw Sr.create("registration-app-id");const pn=new eo(_n,De.name,z=z||"firebase"),Zn=new Ur(pn),Tr=new de.Yd(Bt);Tr.logLevel=de.in.ERROR;const zn=new mi(Je,Ae.SDK_VERSION,z,pt,Ut,_n),Ms=new Ps(zn,pn),Li=new Ti(Ms,pn,Zn,Tr),_i=new Qs(De,Li,Zn,pn,Tr);return function Ar(T){const R=(0,Ee.m9)(T);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(_i),_i},"PUBLIC").setMultipleInstances(!0)),(0,Ae.registerVersion)(Bt,"0.4.4"),(0,Ae.registerVersion)(Bt,"0.4.4","esm2017")}();const Hs="/firebase-messaging-sw.js",Gs="/firebase-cloud-messaging-push-scope",k="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",B="google.c.a.c_id",ae="google.c.a.c_l",Ge="google.c.a.ts",Ot="google.c.a.e";var Tn=(()=>{return(T=Tn||(Tn={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Tn;var T})();function gr(T){const R=new Uint8Array(T);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hr(T){const z=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),De=atob(z),Je=new Uint8Array(De.length);for(let pt=0;pt<De.length;++pt)Je[pt]=De.charCodeAt(pt);return Je}const ar="fcm_token_details_db",hi="fcm_token_object_Store";function ui(T){return ri.apply(this,arguments)}function ri(){return ri=(0,G.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pt=>pt.name).includes(ar))return null;let R=null;return(yield It(ar,5,{upgrade:(De=(0,G.Z)(function*(Je,pt,Ut,_n){var pn;if(pt<2||!Je.objectStoreNames.contains(hi))return;const Zn=_n.objectStore(hi),Tr=yield Zn.index("fcmSenderId").get(T);if(yield Zn.clear(),Tr)if(2===pt){const zn=Tr;if(!zn.auth||!zn.p256dh||!zn.endpoint)return;R={token:zn.fcmToken,createTime:null!==(pn=zn.createTime)&&void 0!==pn?pn:Date.now(),subscriptionOptions:{auth:zn.auth,p256dh:zn.p256dh,endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:"string"==typeof zn.vapidKey?zn.vapidKey:gr(zn.vapidKey)}}}else if(3===pt){const zn=Tr;R={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:gr(zn.auth),p256dh:gr(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:gr(zn.vapidKey)}}}else if(4===pt){const zn=Tr;R={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:gr(zn.auth),p256dh:gr(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:gr(zn.vapidKey)}}}}),function(pt,Ut,_n,pn){return De.apply(this,arguments)})})).close(),yield le(ar),yield le("fcm_vapid_details_db"),yield le("undefined"),v(R)?R:null;var De}),ri.apply(this,arguments)}function v(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:R}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const P="firebase-messaging-store";let ue=null;function xe(){return ue||(ue=It("firebase-messaging-database",1,{upgrade:(T,R)=>{0===R&&T.createObjectStore(P)}})),ue}function Ht(T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,G.Z)(function*(T){const R=S(T),De=yield(yield xe()).transaction(P).objectStore(P).get(R);if(De)return De;{const Je=yield ui(T.appConfig.senderId);if(Je)return yield er(T,Je),Je}})).apply(this,arguments)}function er(T,R){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,G.Z)(function*(T,R){const z=S(T),Je=(yield xe()).transaction(P,"readwrite");return yield Je.objectStore(P).put(R,z),yield Je.done,R})).apply(this,arguments)}function N(T){return M.apply(this,arguments)}function M(){return(M=(0,G.Z)(function*(T){const R=S(T),De=(yield xe()).transaction(P,"readwrite");yield De.objectStore(P).delete(R),yield De.done})).apply(this,arguments)}function S({appConfig:T}){return T.appId}const _t=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sn(T,R){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,G.Z)(function*(T,R){const z=yield ys(T),De=Iu(R),Je={method:"POST",headers:z,body:JSON.stringify(De)};let pt;try{pt=yield(yield fetch(Ss(T.appConfig),Je)).json()}catch(Ut){throw _t.create("token-subscribe-failed",{errorInfo:Ut?.toString()})}if(pt.error)throw _t.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw _t.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function zi(T,R){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,G.Z)(function*(T,R){const z=yield ys(T),De=Iu(R.subscriptionOptions),Je={method:"PATCH",headers:z,body:JSON.stringify(De)};let pt;try{pt=yield(yield fetch(`${Ss(T.appConfig)}/${R.token}`,Je)).json()}catch(Ut){throw _t.create("token-update-failed",{errorInfo:Ut?.toString()})}if(pt.error)throw _t.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw _t.create("token-update-no-token");return pt.token})).apply(this,arguments)}function Jr(T,R){return wi.apply(this,arguments)}function wi(){return(wi=(0,G.Z)(function*(T,R){const De={method:"DELETE",headers:yield ys(T)};try{const pt=yield(yield fetch(`${Ss(T.appConfig)}/${R}`,De)).json();if(pt.error)throw _t.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(Je){throw _t.create("token-unsubscribe-failed",{errorInfo:Je?.toString()})}})).apply(this,arguments)}function Ss({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function ys(T){return ss.apply(this,arguments)}function ss(){return(ss=(0,G.Z)(function*({appConfig:T,installations:R}){const z=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function Iu({p256dh:T,auth:R,endpoint:z,vapidKey:De}){const Je={web:{endpoint:z,auth:R,p256dh:T}};return De!==k&&(Je.web.applicationPubKey=De),Je}const As=6048e5;function Ju(T){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,G.Z)(function*(T){const R=yield qa(T.swRegistration,T.vapidKey),z={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:R.endpoint,auth:gr(R.getKey("auth")),p256dh:gr(R.getKey("p256dh"))},De=yield Ht(T.firebaseDependencies);if(De){if(To(De.subscriptionOptions,z))return Date.now()>=De.createTime+As?ea(T,{token:De.token,createTime:Date.now(),subscriptionOptions:z}):De.token;try{yield Jr(T.firebaseDependencies,De.token)}catch(Je){console.warn(Je)}return Bo(T.firebaseDependencies,z)}return Bo(T.firebaseDependencies,z)})).apply(this,arguments)}function Jo(T){return zs.apply(this,arguments)}function zs(){return(zs=(0,G.Z)(function*(T){const R=yield Ht(T.firebaseDependencies);R&&(yield Jr(T.firebaseDependencies,R.token),yield N(T.firebaseDependencies));const z=yield T.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()})).apply(this,arguments)}function ea(T,R){return po.apply(this,arguments)}function po(){return(po=(0,G.Z)(function*(T,R){try{const z=yield zi(T.firebaseDependencies,R),De=Object.assign(Object.assign({},R),{token:z,createTime:Date.now()});return yield er(T.firebaseDependencies,De),z}catch(z){throw yield Jo(T),z}})).apply(this,arguments)}function Bo(T,R){return go.apply(this,arguments)}function go(){return(go=(0,G.Z)(function*(T,R){const De={token:yield sn(T,R),createTime:Date.now(),subscriptionOptions:R};return yield er(T,De),De.token})).apply(this,arguments)}function qa(T,R){return to.apply(this,arguments)}function to(){return(to=(0,G.Z)(function*(T,R){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hr(R)})})).apply(this,arguments)}function To(T,R){return R.vapidKey===T.vapidKey&&R.endpoint===T.endpoint&&R.auth===T.auth&&R.p256dh===T.p256dh}function Ka(T){const R={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function ta(T,R){if(!R.notification)return;T.notification={};const z=R.notification.title;z&&(T.notification.title=z);const De=R.notification.body;De&&(T.notification.body=De);const Je=R.notification.image;Je&&(T.notification.image=Je);const pt=R.notification.icon;pt&&(T.notification.icon=pt)}(R,T),function no(T,R){!R.data||(T.data=R.data)}(R,T),function ec(T,R){var z,De,Je,pt,Ut;if(!(R.fcmOptions||null!==(z=R.notification)&&void 0!==z&&z.click_action))return;T.fcmOptions={};const _n=null!==(Je=null===(De=R.fcmOptions)||void 0===De?void 0:De.link)&&void 0!==Je?Je:null===(pt=R.notification)||void 0===pt?void 0:pt.click_action;_n&&(T.fcmOptions.link=_n);const pn=null===(Ut=R.fcmOptions)||void 0===Ut?void 0:Ut.analytics_label;pn&&(T.fcmOptions.analyticsLabel=pn)}(R,T),R}function wa(T){return"object"==typeof T&&!!T&&B in T}function Ji(T,R){const z=[];for(let De=0;De<T.length;De++)z.push(T.charAt(De)),De<R.length&&z.push(R.charAt(De));return z.join("")}function ci(T){return _t.create("missing-app-config-values",{valueName:T})}Ji("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ji("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ya{constructor(R,z,De){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Je=function Ws(T){if(!T||!T.options)throw ci("App Configuration Object");if(!T.name)throw ci("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:z}=T;for(const De of R)if(!z[De])throw ci(De);return{appName:T.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:Je,installations:z,analyticsProvider:De}}_delete(){return Promise.resolve()}}function bu(T){return qs.apply(this,arguments)}function qs(){return(qs=(0,G.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Hs,{scope:Gs}),T.swRegistration.update().catch(()=>{})}catch(R){throw _t.create("failed-service-worker-registration",{browserErrorMessage:R?.message})}})).apply(this,arguments)}function Za(T,R){return na.apply(this,arguments)}function na(){return(na=(0,G.Z)(function*(T,R){if(!R&&!T.swRegistration&&(yield bu(T)),R||!T.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw _t.create("invalid-sw-registration");T.swRegistration=R}})).apply(this,arguments)}function Du(T,R){return mo.apply(this,arguments)}function mo(){return(mo=(0,G.Z)(function*(T,R){R?T.vapidKey=R:T.vapidKey||(T.vapidKey=k)})).apply(this,arguments)}function es(){return(es=(0,G.Z)(function*(T,R){if(!navigator)throw _t.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _t.create("permission-blocked");return yield Du(T,R?.vapidKey),yield Za(T,R?.serviceWorkerRegistration),Ju(T)})).apply(this,arguments)}function Ia(T,R,z){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,G.Z)(function*(T,R,z){const De=$o(R);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(De,{message_id:z[B],message_name:z[ae],message_time:z[Ge],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $o(T){switch(T){case Tn.NOTIFICATION_CLICKED:return"notification_open";case Tn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Wi(){return(Wi=(0,G.Z)(function*(T,R){const z=R.data;if(!z.isFirebaseMessaging)return;T.onMessageHandler&&z.messageType===Tn.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Ka(z)):T.onMessageHandler.next(Ka(z)));const De=z.data;wa(De)&&"1"===De[Ot]&&(yield Ia(T,z.messageType,De))})).apply(this,arguments)}const ba="@firebase/messaging",ra=T=>{const R=new Ya(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function Os(T,R){return Wi.apply(this,arguments)}(R,z)),R},ia=T=>{const R=T.getProvider("messaging").getImmediate();return{getToken:De=>function So(T,R){return es.apply(this,arguments)}(R,De)}};function Xa(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,G.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ro(){(0,Ae._registerComponent)(new Y.wA("messaging",ra,"PUBLIC")),(0,Ae._registerComponent)(new Y.wA("messaging-internal",ia,"PRIVATE")),(0,Ae.registerVersion)(ba,"0.12.4"),(0,Ae.registerVersion)(ba,"0.12.4","esm2017")}();const Cs="analytics",ks="firebase_id",Ll="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tu="https://www.googletagmanager.com/gtag/js",Mi=new de.Yd("@firebase/analytics"),fi=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ja(T){if(!T.startsWith(Tu)){const R=fi.create("invalid-gtag-resource",{gtagURL:T});return Mi.warn(R.message),""}return T}function oa(T){return Promise.all(T.map(R=>R.catch(z=>z)))}function eu(T,R){const z=function yi(T,R){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(T,R)),z}("firebase-js-sdk-policy",{createScriptURL:Ja}),De=document.createElement("script"),Je=`${Tu}?l=${T}&id=${R}`;De.src=z?z?.createScriptURL(Je):Je,De.async=!0,document.head.appendChild(De)}function Ns(T,R,z,De,Je,pt){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,G.Z)(function*(T,R,z,De,Je,pt){const Ut=De[Je];try{if(Ut)yield R[Ut];else{const pn=(yield oa(z)).find(Zn=>Zn.measurementId===Je);pn&&(yield R[pn.appId])}}catch(_n){Mi.error(_n)}T("config",Je,pt)})).apply(this,arguments)}function ts(T,R,z,De,Je){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,G.Z)(function*(T,R,z,De,Je){try{let pt=[];if(Je&&Je.send_to){let Ut=Je.send_to;Array.isArray(Ut)||(Ut=[Ut]);const _n=yield oa(z);for(const pn of Ut){const Zn=_n.find(zn=>zn.measurementId===pn),Tr=Zn&&R[Zn.appId];if(!Tr){pt=[];break}pt.push(Tr)}}0===pt.length&&(pt=Object.values(R)),yield Promise.all(pt),T("event",De,Je||{})}catch(pt){Mi.error(pt)}})).apply(this,arguments)}function nc(T){const R=window.document.getElementsByTagName("script");for(const z of Object.values(R))if(z.src&&z.src.includes(Tu)&&z.src.includes(T))return z;return null}const vi=new class xs{constructor(R={},z=1e3){this.throttleMetadata=R,this.intervalMillis=z}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,z){this.throttleMetadata[R]=z}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function An(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Dn(T){return rc.apply(this,arguments)}function rc(){return(rc=(0,G.Z)(function*(T){var R;const{appId:z,apiKey:De}=T,Je={method:"GET",headers:An(De)},pt=Ll.replace("{app-id}",z),Ut=yield fetch(pt,Je);if(200!==Ut.status&&304!==Ut.status){let _n="";try{const pn=yield Ut.json();null!==(R=pn.error)&&void 0!==R&&R.message&&(_n=pn.error.message)}catch{}throw fi.create("config-fetch-failed",{httpStatus:Ut.status,responseMessage:_n})}return Ut.json()})).apply(this,arguments)}function yn(T){return St.apply(this,arguments)}function St(){return(St=(0,G.Z)(function*(T,R=vi,z){const{appId:De,apiKey:Je,measurementId:pt}=T.options;if(!De)throw fi.create("no-app-id");if(!Je){if(pt)return{measurementId:pt,appId:De};throw fi.create("no-api-key")}const Ut=R.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new jo;return setTimeout((0,G.Z)(function*(){_n.abort()}),void 0!==z?z:6e4),Gt({appId:De,apiKey:Je,measurementId:pt},Ut,_n,R)})).apply(this,arguments)}function Gt(T,R,z){return Si.apply(this,arguments)}function Si(){return(Si=(0,G.Z)(function*(T,{throttleEndTimeMillis:R,backoffCount:z},De,Je=vi){var pt;const{appId:Ut,measurementId:_n}=T;try{yield tu(De,R)}catch(pn){if(_n)return Mi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${pn?.message}]`),{appId:Ut,measurementId:_n};throw pn}try{const pn=yield Dn(T);return Je.deleteThrottleMetadata(Ut),pn}catch(pn){const Zn=pn;if(!vo(Zn)){if(Je.deleteThrottleMetadata(Ut),_n)return Mi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${Zn?.message}]`),{appId:Ut,measurementId:_n};throw pn}const Tr=503===Number(null===(pt=Zn?.customData)||void 0===pt?void 0:pt.httpStatus)?(0,Ee.$s)(z,Je.intervalMillis,30):(0,Ee.$s)(z,Je.intervalMillis),zn={throttleEndTimeMillis:Date.now()+Tr,backoffCount:z+1};return Je.setThrottleMetadata(Ut,zn),Mi.debug(`Calling attemptFetch again in ${Tr} millis`),Gt(T,zn,De,Je)}})).apply(this,arguments)}function tu(T,R){return new Promise((z,De)=>{const Je=Math.max(R-Date.now(),0),pt=setTimeout(z,Je);T.addEventListener(()=>{clearTimeout(pt),De(fi.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function vo(T){if(!(T instanceof Ee.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}class jo{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Ls,Mo;function Sa(){return(Sa=(0,G.Z)(function*(T,R,z,De,Je){if(Je&&Je.global)T("event",z,De);else{const pt=yield R;T("event",z,Object.assign(Object.assign({},De),{send_to:pt}))}})).apply(this,arguments)}function Pr(T){Mo=T}function $c(T){Ls=T}function Fi(){return tn.apply(this,arguments)}function tn(){return(tn=(0,G.Z)(function*(){if(!(0,Ee.hl)())return Mi.warn(fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(T){return Mi.warn(fi.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function I(){return(I=(0,G.Z)(function*(T,R,z,De,Je,pt,Ut){var _n;const pn=yn(T);pn.then(Li=>{z[Li.measurementId]=Li.appId,T.options.measurementId&&Li.measurementId!==T.options.measurementId&&Mi.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Li=>Mi.error(Li)),R.push(pn);const Zn=Fi().then(Li=>{if(Li)return De.getId()}),[Tr,zn]=yield Promise.all([pn,Zn]);nc(pt)||eu(pt,Tr.measurementId),Mo&&(Je("consent","default",Mo),Pr(void 0)),Je("js",new Date);const Ms=null!==(_n=Ut?.config)&&void 0!==_n?_n:{};return Ms.origin="firebase",Ms.update=!0,null!=zn&&(Ms[ks]=zn),Je("config",Tr.measurementId,Ms),Ls&&(Je("set",Ls),$c(void 0)),Tr.measurementId})).apply(this,arguments)}class E{constructor(R){this.app=R}_delete(){return delete x[this.app.options.appId],Promise.resolve()}}let x={},$=[];const ee={};let Vt,nn,Ie="dataLayer",xr=!1;function si(T,R,z){!function pi(){const T=[];if((0,Ee.ru)()&&T.push("This is a browser extension environment."),(0,Ee.zI)()||T.push("Cookies are not available."),T.length>0){const R=T.map((De,Je)=>`(${Je+1}) ${De}`).join(" "),z=fi.create("invalid-analytics-context",{errorInfo:R});Mi.warn(z.message)}}();const De=T.options.appId;if(!De)throw fi.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw fi.create("no-api-key");Mi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=x[De])throw fi.create("already-exists",{id:De});if(!xr){!function Ca(T){let R=[];Array.isArray(window[T])?R=window[T]:window[T]=R}(Ie);const{wrappedGtag:pt,gtagCore:Ut}=function Ys(T,R,z,De,Je){let pt=function(...Ut){window[De].push(arguments)};return window[Je]&&"function"==typeof window[Je]&&(pt=window[Je]),window[Je]=function yo(T,R,z,De){function pt(){return(pt=(0,G.Z)(function*(Ut,..._n){try{if("event"===Ut){const[pn,Zn]=_n;yield ts(T,R,z,pn,Zn)}else if("config"===Ut){const[pn,Zn]=_n;yield Ns(T,R,z,De,pn,Zn)}else if("consent"===Ut){const[pn]=_n;T("consent","update",pn)}else if("get"===Ut){const[pn,Zn,Tr]=_n;T("get",pn,Zn,Tr)}else if("set"===Ut){const[pn]=_n;T("set",pn)}else T(Ut,..._n)}catch(pn){Mi.error(pn)}})).apply(this,arguments)}return function Je(Ut){return pt.apply(this,arguments)}}(pt,T,R,z),{gtagCore:pt,wrappedGtag:window[Je]}}(x,$,ee,Ie,"gtag");nn=pt,Vt=Ut,xr=!0}return x[De]=function b(T,R,z,De,Je,pt,Ut){return I.apply(this,arguments)}(T,$,ee,R,Vt,Ie,z),new E(T)}function oo(){return qi.apply(this,arguments)}function qi(){return(qi=(0,G.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const os="@firebase/analytics";!function Ho(){(0,Ae._registerComponent)(new Y.wA(Cs,(R,{options:z})=>si(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Ae._registerComponent)(new Y.wA("analytics-internal",function T(R){try{const z=R.getProvider(Cs).getImmediate();return{logEvent:(De,Je,pt)=>function xu(T,R,z,De){T=(0,Ee.m9)(T),function Ta(T,R,z,De,Je){return Sa.apply(this,arguments)}(nn,x[T.app.options.appId],R,z,De).catch(Je=>Mi.error(Je))}(z,De,Je,pt)}}catch(z){throw fi.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Ae.registerVersion)(os,"0.10.0"),(0,Ae.registerVersion)(os,"0.10.0","esm2017")}();var oc=O(341),Ki=O(353),Bl=O(2868),Vl=O(8915),Ro=O(2102);const Ru=new c.GfV("7.6.1"),Po="__angularfire_symbol__analyticsIsSupportedValue",Go="__angularfire_symbol__analyticsIsSupported",jc="__angularfire_symbol__remoteConfigIsSupportedValue",Ri="__angularfire_symbol__remoteConfigIsSupported",ru="__angularfire_symbol__messagingIsSupportedValue",ac="__angularfire_symbol__messagingIsSupported";function Hc(T,R,z){if(R){if(1===R.length)return R[0];const pt=R.filter(Ut=>Ut.app===z);if(1===pt.length)return pt[0]}return z.container.getProvider(T).getImmediate({optional:!0})}globalThis[Go]||(globalThis[Go]=oo().then(T=>globalThis[Po]=T).catch(()=>globalThis[Po]=!1)),globalThis[ac]||(globalThis[ac]=Xa().then(T=>globalThis[ru]=T).catch(()=>globalThis[ru]=!1)),globalThis[Ri]||(globalThis[Ri]=Zr().then(T=>globalThis[jc]=T).catch(()=>globalThis[jc]=!1));const Pu=(T,R)=>{const z=R?[R]:(0,F.C6)(),De=[];return z.forEach(Je=>{Je.container.getProvider(T).instances.forEach(Ut=>{De.includes(Ut)||De.push(Ut)})}),De};function Oo(){}class Ou{constructor(R,z=oc.N){this.zone=R,this.delegate=z}now(){return this.delegate.now()}schedule(R,z,De){const Je=this.zone;return this.delegate.schedule(function(Ut){Je.runGuarded(()=>{R.apply(this,[Ut])})},z,De)}}class iu{constructor(R){this.zone=R,this.task=null}call(R,z){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oo,{},Oo,Oo)),z.pipe((0,Bl.b)({next:De,complete:De,error:De})).subscribe(R).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ul=(()=>{class T{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=z.run(()=>new Ou(Zone.current,Ki.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(z){return new(z||T)(c.LFG(c.R0b))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ca(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function cc(T){return ca(),function la(T){return function(z){return(z=z.lift(new iu(T.ngZone))).pipe((0,Vl.R)(T.outsideAngular),(0,Ro.QV)(T.insideAngular))}}(ca())(T)}},2090:(Jt,lt,O)=>{"use strict";O.d(lt,{$s:()=>Br,BH:()=>st,G6:()=>Ue,L:()=>fe,LL:()=>ze,Pz:()=>$e,Sg:()=>Xe,UG:()=>le,US:()=>Y,ZB:()=>oe,ZR:()=>He,aH:()=>nt,b$:()=>me,eu:()=>Re,hl:()=>ut,jU:()=>Ce,m9:()=>Or,ne:()=>We,pd:()=>Nt,r3:()=>Rn,ru:()=>se,tV:()=>re,uI:()=>It,vZ:()=>Wn,w1:()=>ce,xO:()=>un,xb:()=>Rt,z$:()=>ct,zI:()=>Pe,zd:()=>or});const Ae=function(Oe){const be=[];let qe=0;for(let kt=0;kt<Oe.length;kt++){let yt=Oe.charCodeAt(kt);yt<128?be[qe++]=yt:yt<2048?(be[qe++]=yt>>6|192,be[qe++]=63&yt|128):55296==(64512&yt)&&kt+1<Oe.length&&56320==(64512&Oe.charCodeAt(kt+1))?(yt=65536+((1023&yt)<<10)+(1023&Oe.charCodeAt(++kt)),be[qe++]=yt>>18|240,be[qe++]=yt>>12&63|128,be[qe++]=yt>>6&63|128,be[qe++]=63&yt|128):(be[qe++]=yt>>12|224,be[qe++]=yt>>6&63|128,be[qe++]=63&yt|128)}return be},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Oe,be){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const qe=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,kt=[];for(let yt=0;yt<Oe.length;yt+=3){const fn=Oe[yt],Hn=yt+1<Oe.length,Pn=Hn?Oe[yt+1]:0,Un=yt+2<Oe.length,ir=Un?Oe[yt+2]:0;let ve=(15&Pn)<<2|ir>>6,Be=63&ir;Un||(Be=64,Hn||(ve=64)),kt.push(qe[fn>>2],qe[(3&fn)<<4|Pn>>4],qe[ve],qe[Be])}return kt.join("")},encodeString(Oe,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(Oe):this.encodeByteArray(Ae(Oe),be)},decodeString(Oe,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(Oe):function(Oe){const be=[];let qe=0,kt=0;for(;qe<Oe.length;){const yt=Oe[qe++];if(yt<128)be[kt++]=String.fromCharCode(yt);else if(yt>191&&yt<224){const fn=Oe[qe++];be[kt++]=String.fromCharCode((31&yt)<<6|63&fn)}else if(yt>239&&yt<365){const Un=((7&yt)<<18|(63&Oe[qe++])<<12|(63&Oe[qe++])<<6|63&Oe[qe++])-65536;be[kt++]=String.fromCharCode(55296+(Un>>10)),be[kt++]=String.fromCharCode(56320+(1023&Un))}else{const fn=Oe[qe++],Hn=Oe[qe++];be[kt++]=String.fromCharCode((15&yt)<<12|(63&fn)<<6|63&Hn)}}return be.join("")}(this.decodeStringToByteArray(Oe,be))},decodeStringToByteArray(Oe,be){this.init_();const qe=be?this.charToByteMapWebSafe_:this.charToByteMap_,kt=[];for(let yt=0;yt<Oe.length;){const fn=qe[Oe.charAt(yt++)],Pn=yt<Oe.length?qe[Oe.charAt(yt)]:0;++yt;const ir=yt<Oe.length?qe[Oe.charAt(yt)]:64;++yt;const we=yt<Oe.length?qe[Oe.charAt(yt)]:64;if(++yt,null==fn||null==Pn||null==ir||null==we)throw new de;kt.push(fn<<2|Pn>>4),64!==ir&&(kt.push(Pn<<4&240|ir>>2),64!==we&&kt.push(ir<<6&192|we))}return kt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(Oe){return function(Oe){const be=Ae(Oe);return Y.encodeByteArray(be,!0)}(Oe).replace(/\./g,"")},re=function(Oe){try{return Y.decodeString(Oe,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function oe(Oe,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return be}for(const qe in be)!be.hasOwnProperty(qe)||!Z(qe)||(Oe[qe]=oe(Oe[qe],be[qe]));return Oe}function Z(Oe){return"__proto__"!==Oe}const je=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Oe=process.env.__FIREBASE_DEFAULTS__;return Oe?JSON.parse(Oe):void 0})()||(()=>{if(typeof document>"u")return;let Oe;try{Oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const be=Oe&&re(Oe[1]);return be&&JSON.parse(be)})()}catch(Oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Oe}`)}},nt=()=>{var Oe;return null===(Oe=je())||void 0===Oe?void 0:Oe.config},$e=Oe=>{var be;return null===(be=je())||void 0===be?void 0:be[`_${Oe}`]};class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,qe)=>{this.resolve=be,this.reject=qe})}wrapCallback(be){return(qe,kt)=>{qe?this.reject(qe):this.resolve(kt),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(qe):be(qe,kt))}}}function Xe(Oe,be){if(Oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const kt=be||"demo-project",yt=Oe.iat||0,fn=Oe.sub||Oe.user_id;if(!fn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Hn=Object.assign({iss:`https://securetoken.google.com/${kt}`,aud:kt,iat:yt,exp:yt+3600,auth_time:yt,sub:fn,user_id:fn,firebase:{sign_in_provider:"custom",identities:{}}},Oe);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Hn)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function It(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function le(){var Oe;const be=null===(Oe=je())||void 0===Oe?void 0:Oe.forceEnvironment;if("node"===be)return!0;if("browser"===be)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ce(){return"object"==typeof self&&self.self===self}function se(){const Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){const Oe=ct();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0}function Ue(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ut(){try{return"object"==typeof indexedDB}catch{return!1}}function Re(){return new Promise((Oe,be)=>{try{let qe=!0;const kt="validate-browser-context-for-indexeddb-analytics-module",yt=self.indexedDB.open(kt);yt.onsuccess=()=>{yt.result.close(),qe||self.indexedDB.deleteDatabase(kt),Oe(!0)},yt.onupgradeneeded=()=>{qe=!1},yt.onerror=()=>{var fn;be((null===(fn=yt.error)||void 0===fn?void 0:fn.message)||"")}}catch(qe){be(qe)}})}function Pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class He extends Error{constructor(be,qe,kt){super(qe),this.code=be,this.customData=kt,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(be,qe,kt){this.service=be,this.serviceName=qe,this.errors=kt}create(be,...qe){const kt=qe[0]||{},yt=`${this.service}/${be}`,fn=this.errors[be],Hn=fn?function Et(Oe,be){return Oe.replace(Tt,(qe,kt)=>{const yt=be[kt];return null!=yt?String(yt):`<${kt}?>`})}(fn,kt):"Error";return new He(yt,`${this.serviceName}: ${Hn} (${yt}).`,kt)}}const Tt=/\{\$([^}]+)}/g;function Rn(Oe,be){return Object.prototype.hasOwnProperty.call(Oe,be)}function Rt(Oe){for(const be in Oe)if(Object.prototype.hasOwnProperty.call(Oe,be))return!1;return!0}function Wn(Oe,be){if(Oe===be)return!0;const qe=Object.keys(Oe),kt=Object.keys(be);for(const yt of qe){if(!kt.includes(yt))return!1;const fn=Oe[yt],Hn=be[yt];if(Ir(fn)&&Ir(Hn)){if(!Wn(fn,Hn))return!1}else if(fn!==Hn)return!1}for(const yt of kt)if(!qe.includes(yt))return!1;return!0}function Ir(Oe){return null!==Oe&&"object"==typeof Oe}function un(Oe){const be=[];for(const[qe,kt]of Object.entries(Oe))Array.isArray(kt)?kt.forEach(yt=>{be.push(encodeURIComponent(qe)+"="+encodeURIComponent(yt))}):be.push(encodeURIComponent(qe)+"="+encodeURIComponent(kt));return be.length?"&"+be.join("&"):""}function or(Oe){const be={};return Oe.replace(/^\?/,"").split("&").forEach(kt=>{if(kt){const[yt,fn]=kt.split("=");be[decodeURIComponent(yt)]=decodeURIComponent(fn)}}),be}function Nt(Oe){const be=Oe.indexOf("?");if(!be)return"";const qe=Oe.indexOf("#",be);return Oe.substring(be,qe>0?qe:void 0)}function We(Oe,be){const qe=new Pt(Oe,be);return qe.subscribe.bind(qe)}class Pt{constructor(be,qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=qe,this.task.then(()=>{be(this)}).catch(kt=>{this.error(kt)})}next(be){this.forEachObserver(qe=>{qe.next(be)})}error(be){this.forEachObserver(qe=>{qe.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,qe,kt){let yt;if(void 0===be&&void 0===qe&&void 0===kt)throw new Error("Missing Observer.");yt=function jt(Oe,be){if("object"!=typeof Oe||null===Oe)return!1;for(const qe of be)if(qe in Oe&&"function"==typeof Oe[qe])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:qe,complete:kt},void 0===yt.next&&(yt.next=qn),void 0===yt.error&&(yt.error=qn),void 0===yt.complete&&(yt.complete=qn);const fn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?yt.error(this.finalError):yt.complete()}catch{}}),this.observers.push(yt),fn}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let qe=0;qe<this.observers.length;qe++)this.sendOne(qe,be)}sendOne(be,qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{qe(this.observers[be])}catch(kt){typeof console<"u"&&console.error&&console.error(kt)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qn(){}function Br(Oe,be=1e3,qe=2){const kt=be*Math.pow(qe,Oe),yt=Math.round(.5*kt*(Math.random()-.5)*2);return Math.min(144e5,kt+yt)}function Or(Oe){return Oe&&Oe._delegate?Oe._delegate:Oe}},5419:(Jt,lt,O)=>{"use strict";O.d(lt,{KY:()=>Xe,DM:()=>ct});var F=O(2916),G=O(3753),Ae={error:"cordova_not_available"},Ee={error:"plugin_not_installed"};function Y(W){if(typeof window<"u"&&window.angular){var Ne=window.document,dt=window.angular.element(Ne.querySelector("[ng-app]")||Ne.body).injector();if(dt)return dt.get("$q")(function(ut,Re){W(ut,Re)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(ut,Re){W(ut,Re)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function de(W,ce,Ne,dt){void 0===dt&&(dt={});var Ue,ut,Re=Y(function(Pe,ke){Ue=dt.destruct?Te(W,ce,Ne,dt,function(){for(var He=[],ze=0;ze<arguments.length;ze++)He[ze]=arguments[ze];return Pe(He)},function(){for(var He=[],ze=0;ze<arguments.length;ze++)He[ze]=arguments[ze];return ke(He)}):Te(W,ce,Ne,dt,Pe,ke),ut=ke});return Ue&&Ue.error&&(Re.catch(function(){}),"function"==typeof ut&&ut(Ue.error)),Re}function Me(W,ce,Ne,dt){return void 0===dt&&(dt={}),Y(function(Ue,ut){var Re=Te(W,ce,Ne,dt);Re?Re.error?ut(Re.error):Re.then&&Re.then(Ue).catch(ut):ut({error:"unexpected_error"})})}function fe(W,ce,Ne,dt){return void 0===dt&&(dt={}),new F.y(function(Ue){var ut;return ut=dt.destruct?Te(W,ce,Ne,dt,function(){for(var Re=[],Pe=0;Pe<arguments.length;Pe++)Re[Pe]=arguments[Pe];return Ue.next(Re)},function(){for(var Re=[],Pe=0;Pe<arguments.length;Pe++)Re[Pe]=arguments[Pe];return Ue.error(Re)}):Te(W,ce,Ne,dt,Ue.next.bind(Ue),Ue.error.bind(Ue)),ut&&ut.error&&(Ue.error(ut.error),Ue.complete()),function(){try{if(dt.clearFunction)return dt.clearWithArgs?Te(W,dt.clearFunction,Ne,dt,Ue.next.bind(Ue),Ue.error.bind(Ue)):Te(W,dt.clearFunction,[])}catch(Re){console.warn("Unable to clear the previous observable watch for",W.constructor.getPluginName(),ce),console.warn(Re)}}})}function re(W,ce){return ce=typeof window<"u"&&ce?ye(window,ce):ce||(typeof window<"u"?window:{}),(0,G.R)(ce,W)}function Q(W,ce,Ne){var dt,Ue,ut;return"string"==typeof W?dt=W:(dt=W.constructor.getPluginRef(),Ne=W.constructor.getPluginName(),ut=W.constructor.getPluginInstallName()),!(!(Ue=he(dt))||ce&&typeof Ue[ce]>"u")||(typeof window>"u"||!window.cordova?(function Ze(W,ce){typeof process>"u"&&console.warn(ce?"Native: tried calling "+W+"."+ce+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+W+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Ne,ce),Ae):(function je(W,ce,Ne){console.warn(Ne?"Native: tried calling "+W+"."+Ne+", but the "+W+" plugin is not installed.":"Native: tried accessing the "+W+" plugin but it's not installed."),ce&&console.warn("Install the "+W+" plugin: 'ionic cordova plugin add "+ce+"'")}(Ne,ut,ce),Ee))}function Te(W,ce,Ne,dt,Ue,ut){void 0===dt&&(dt={}),Ne=function Z(W,ce,Ne,dt){if(void 0===ce&&(ce={}),ce.sync)return W;if("reverse"===ce.callbackOrder)W.unshift(dt),W.unshift(Ne);else if("node"===ce.callbackStyle)W.push(function(Pe,ke){Pe?dt(Pe):Ne(ke)});else if("object"===ce.callbackStyle&&ce.successName&&ce.errorName){var Ue={};Ue[ce.successName]=Ne,Ue[ce.errorName]=dt,W.push(Ue)}else if(typeof ce.successIndex<"u"||typeof ce.errorIndex<"u"){var ut=function(){ce.successIndex>W.length?W[ce.successIndex]=Ne:W.splice(ce.successIndex,0,Ne)},Re=function(){ce.errorIndex>W.length?W[ce.errorIndex]=dt:W.splice(ce.errorIndex,0,dt)};ce.successIndex>ce.errorIndex?(Re(),ut()):(ut(),Re())}else W.push(Ne),W.push(dt);return W}(Ne,dt,Ue,ut);var Re=Q(W,ce);if(!0===Re){var Pe=he(W.constructor.getPluginRef());return Pe[ce].apply(Pe,Ne)}return Re}function he(W){return typeof window<"u"?ye(window,W):null}function ye(W,ce){for(var Ne=ce.split("."),dt=W,Ue=0;Ue<Ne.length;Ue++){if(!dt)return null;dt=dt[Ne[Ue]]}return dt}var Xe=function(){function W(){}return W.installed=function(){return!0===Q(this.pluginRef)},W.getPlugin=function(){return typeof window<"u"?function $e(W,ce){for(var Ne=ce.split("."),dt=W,Ue=0;Ue<Ne.length;Ue++){if(!dt)return null;dt=dt[Ne[Ue]]}return dt}(window,this.pluginRef):null},W.getPluginName=function(){return this.pluginName},W.getPluginRef=function(){return this.pluginRef},W.getPluginInstallName=function(){return this.plugin},W.getSupportedPlatforms=function(){return this.platforms},W.pluginName="",W.pluginRef="",W.plugin="",W.repo="",W.platforms=[],W.install="",W}();function ct(W,ce,Ne,dt){return function(W,ce,Ne){return void 0===Ne&&(Ne={}),function(){for(var dt=[],Ue=0;Ue<arguments.length;Ue++)dt[Ue]=arguments[Ue];return Ne.sync?Te(W,ce,dt,Ne):Ne.observable?fe(W,ce,dt,Ne):Ne.eventObservable&&Ne.event?re(Ne.event,Ne.element):Ne.otherPromise?Me(W,ce,dt,Ne):de(W,ce,dt,Ne)}}(W,ce,Ne).apply(this,dt)}!function c(){if(typeof process>"u"){var W=typeof window<"u"?window:{},Ne=Date.now(),dt=!1;W.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Ne)+" ms"),dt=!0}),setTimeout(function(){!dt&&W.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},7666:(Jt,lt,O)=>{"use strict";O.d(lt,{h:()=>Ae});var c=O(655),F=O(5419),G=O(5062),Ae=function(Ee){function Y(){return null!==Ee&&Ee.apply(this,arguments)||this}return(0,c.ZT)(Y,Ee),Y.prototype.getCurrentHeading=function(){return(0,F.DM)(this,"getCurrentHeading",{},arguments)},Y.prototype.watchHeading=function(de){return(0,F.DM)(this,"watchHeading",{callbackOrder:"reverse",observable:!0,clearFunction:"clearWatch"},arguments)},Y.pluginName="DeviceOrientation",Y.plugin="cordova-plugin-device-orientation",Y.pluginRef="navigator.compass",Y.repo="https://github.com/apache/cordova-plugin-device-orientation",Y.platforms=["Amazon Fire OS","Android","BlackBerry 10","Browser","Firefox OS","iOS","Tizen","Ubuntu","Windows","Windows Phone"],Y.\u0275fac=function(){var de;return function(fe){return(de||(de=G.n5z(Y)))(fe||Y)}}(),Y.\u0275prov=G.Yz7({token:Y,factory:function(de){return Y.\u0275fac(de)}}),Y}(F.KY)},7618:(Jt,lt,O)=>{"use strict";O.d(lt,{b:()=>Ee});var c=O(655),F=O(5419),G=O(2916),Ae=O(5062),Ee=function(Y){function de(){return null!==Y&&Y.apply(this,arguments)||this}return(0,c.ZT)(de,Y),de.prototype.getCurrentPosition=function(Me){return(0,F.DM)(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},de.prototype.watchPosition=function(Me){return new G.y(function(fe){var re=navigator.geolocation.watchPosition(fe.next.bind(fe),fe.next.bind(fe),Me);return function(){return navigator.geolocation.clearWatch(re)}})},de.pluginName="Geolocation",de.plugin="cordova-plugin-geolocation",de.pluginRef="navigator.geolocation",de.repo="https://github.com/apache/cordova-plugin-geolocation",de.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',de.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],de.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],de.\u0275fac=function(){var Me;return function(re){return(Me||(Me=Ae.n5z(de)))(re||de)}}(),de.\u0275prov=Ae.Yz7({token:de,factory:function(Me){return de.\u0275fac(Me)}}),de}(F.KY)},9928:(Jt,lt,O)=>{"use strict";O.d(lt,{BX:()=>Gs,Br:()=>k,w:()=>en,We:()=>tr,eh:()=>Wn,dr:()=>Ir,BJ:()=>sr,oU:()=>un,cs:()=>Yr,yp:()=>Nt,YG:()=>Pt,Sm:()=>mt,PM:()=>jt,FN:()=>qn,Zi:()=>fr,tO:()=>Qt,Dq:()=>Mn,nz:()=>yr,wI:()=>Kn,W2:()=>En,IJ:()=>jr,W4:()=>bn,zq:()=>nr,jY:()=>Br,Gu:()=>lr,gu:()=>br,pK:()=>qe,Ie:()=>kt,Q$:()=>ir,q_:()=>Ye,z0:()=>ve,jP:()=>bs,Nd:()=>ai,t9:()=>pr,n0:()=>ti,yq:()=>ge,ZU:()=>tt,UN:()=>ms,wd:()=>ht,sr:()=>Mt,Pc:()=>ri,r4:()=>mn,HT:()=>ne,_q:()=>B,IN:()=>Ge,SH:()=>mi,X1:()=>Bt,as:()=>hn,Fo:()=>ni,QI:()=>Gn,j9:()=>Sn});var c=O(5062),F=O(4719),G=O(655),Ae=O(3753),Ee=O(8929),Y=O(591),de=O(4781),Q=(O(4181),O(5980),O(3139),O(5729)),oe=O(3756),Z=O(9753),Te=O(97),et=O(3280),ye=(O(3509),O(7205)),st=O(2198),Xe=O(7545),ct=O(5778),It=O(6895);const Ce=Q.i,W=["*"],ce=["outlet"],Ne=[[["","slot","top"]],"*"],dt=["[slot=top]","*"],Re=v=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(v):"function"==typeof requestAnimationFrame?requestAnimationFrame(v):setTimeout(v),Pe=v=>!!v.resolveComponentFactory;let ke=(()=>{class v{constructor(y,P){this.injector=y,this.el=P,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(y){this.el.nativeElement.value=this.lastValue=y??"",He(this.el)}handleChangeEvent(y,P){y===this.el.nativeElement&&(P!==this.lastValue&&(this.lastValue=P,this.onChange(P)),He(this.el))}_handleBlurEvent(y){y===this.el.nativeElement&&(this.onTouched(),He(this.el))}registerOnChange(y){this.onChange=y}registerOnTouched(y){this.onTouched=y}setDisabledState(y){this.el.nativeElement.disabled=y}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let y;try{y=this.injector.get(F.a5)}catch{}if(!y)return;y.statusChanges&&(this.statusChanges=y.statusChanges.subscribe(()=>He(this.el)));const P=y.control;P&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(xe=>{if(typeof P[xe]<"u"){const Ht=P[xe].bind(P);P[xe]=(...Cn)=>{Ht(...Cn),He(this.el)}}})}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.zs3),c.Y36(c.SBq))},v.\u0275dir=c.lG2({type:v,hostBindings:function(y,P){1&y&&c.NdJ("ionBlur",function(xe){return P._handleBlurEvent(xe.target)})}}),v})();const He=v=>{Re(()=>{const V=v.nativeElement,y=null!=V.value&&V.value.toString().length>0,P=ze(V);Et(V,P);const ue=V.closest("ion-item");ue&&Et(ue,y?[...P,"item-has-value"]:P)})},ze=v=>{const V=v.classList,y=[];for(let P=0;P<V.length;P++){const ue=V.item(P);null!==ue&&Tt(ue,"ng-")&&y.push(`ion-${ue.substring(3)}`)}return y},Et=(v,V)=>{const y=v.classList;y.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),y.add(...V)},Tt=(v,V)=>v.substring(0,V.length)===V;let en=(()=>{class v extends ke{constructor(y,P){super(y,P)}writeValue(y){this.el.nativeElement.checked=this.lastValue=y??!1,He(this.el)}_handleIonChange(y){this.handleChangeEvent(y,y.checked)}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.zs3),c.Y36(c.SBq))},v.\u0275dir=c.lG2({type:v,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(y,P){1&y&&c.NdJ("ionChange",function(xe){return P._handleIonChange(xe.target)})},features:[c._Bn([{provide:F.JU,useExisting:v,multi:!0}]),c.qOj]}),v})(),hn=(()=>{class v extends ke{constructor(y,P){super(y,P)}_handleIonChange(y){this.handleChangeEvent(y,y.value)}registerOnChange(y){super.registerOnChange(P=>{y(""===P?null:parseFloat(P))})}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.zs3),c.Y36(c.SBq))},v.\u0275dir=c.lG2({type:v,selectors:[["ion-input","type","number"]],hostBindings:function(y,P){1&y&&c.NdJ("ionChange",function(xe){return P._handleIonChange(xe.target)})},features:[c._Bn([{provide:F.JU,useExisting:v,multi:!0}]),c.qOj]}),v})(),Gn=(()=>{class v extends ke{constructor(y,P){super(y,P)}_handleChangeEvent(y){this.handleChangeEvent(y,y.value)}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.zs3),c.Y36(c.SBq))},v.\u0275dir=c.lG2({type:v,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(y,P){1&y&&c.NdJ("ionChange",function(xe){return P._handleChangeEvent(xe.target)})},features:[c._Bn([{provide:F.JU,useExisting:v,multi:!0}]),c.qOj]}),v})(),Sn=(()=>{class v extends ke{constructor(y,P){super(y,P)}_handleInputEvent(y){this.handleChangeEvent(y,y.value)}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.zs3),c.Y36(c.SBq))},v.\u0275dir=c.lG2({type:v,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(y,P){1&y&&c.NdJ("ionChange",function(xe){return P._handleInputEvent(xe.target)})},features:[c._Bn([{provide:F.JU,useExisting:v,multi:!0}]),c.qOj]}),v})();const Ln=(v,V)=>{const y=v.prototype;V.forEach(P=>{Object.defineProperty(y,P,{get(){return this.el[P]},set(ue){this.z.runOutsideAngular(()=>this.el[P]=ue)}})})},Lr=(v,V)=>{const y=v.prototype;V.forEach(P=>{y[P]=function(){const ue=arguments;return this.z.runOutsideAngular(()=>this.el[P].apply(this.el,ue))}})},Rn=(v,V,y)=>{y.forEach(P=>v[P]=(0,Ae.R)(V,P))};function Rt(v){return function(y){const{defineCustomElementFn:P,inputs:ue,methods:xe}=v;return void 0!==P&&P(),ue&&Ln(y,ue),xe&&Lr(y,xe),y}}let tr=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],v),v})(),Wn=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement,Rn(this,this.el,["ionChange"])}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],v),v})(),Ir=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-app"]],ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0})],v),v})(),sr=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-avatar"]],ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0})],v),v})(),un=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],v),v})(),Nt=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})(),Pt=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement,Rn(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],v),v})(),mt=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["collapse"]})],v),v})(),jt=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],v),v})(),qn=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["mode"]})],v),v})(),fr=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],v),v})(),Qt=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})(),Mn=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})(),yr=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement,Rn(this,this.el,["ionChange","ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],v),v})(),Kn=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],v),v})(),En=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement,Rn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],v),v})(),jr=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],v),v})(),bn=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement,Rn(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],v),v})(),nr=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["activated","side"]})],v),v})(),Br=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["fixed"]})],v),v})(),lr=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],v),v})(),br=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],v),v})(),qe=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement,Rn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],v),v})(),kt=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],v),v})(),ir=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],v),v})(),Ye=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],v),v})(),ve=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement,Rn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],v),v})(),ai=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-row"]],ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0})],v),v})(),pr=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement,Rn(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],v),v})(),ti=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],v),v})(),ge=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],v),v})(),tt=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],v),v})(),ht=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","size"]})],v),v})(),Mt=(()=>{let v=class{constructor(y,P,ue){this.z=ue,y.detach(),this.el=P.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:W,decls:1,vars:0,template:function(y,P){1&y&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})();class Bt{constructor(V={}){this.data=V}get(V){return this.data[V]}}let Yt=(()=>{class v{constructor(y,P){this.zone=y,this.appRef=P}create(y,P,ue){return new On(y,P,ue,this.appRef,this.zone)}}return v.\u0275fac=function(y){return new(y||v)(c.LFG(c.R0b),c.LFG(c.z2F))},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac}),v})();class On{constructor(V,y,P,ue,xe){this.resolverOrInjector=V,this.injector=y,this.location=P,this.appRef=ue,this.zone=xe,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(V,y,P,ue){return this.zone.run(()=>new Promise(xe=>{xe(kn(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,V,y,P,ue))}))}removeViewFromDom(V,y){return this.zone.run(()=>new Promise(P=>{const ue=this.elRefMap.get(y);if(ue){ue.destroy(),this.elRefMap.delete(y);const xe=this.elEventsMap.get(y);xe&&(xe(),this.elEventsMap.delete(y))}P()}))}}const kn=(v,V,y,P,ue,xe,Ht,Cn,er,Qn,N)=>{let M;const S=c.zs3.create({providers:gi(Qn),parent:y});if(V&&Pe(V)){const Rr=V.resolveComponentFactory(er);M=P?P.createComponent(Rr,P.length,S):Rr.create(S)}else{if(!P)return null;M=P.createComponent(er,{index:P.indexOf,injector:S,environmentInjector:V})}const q=M.instance,_t=M.location.nativeElement;if(Qn&&Object.assign(q,Qn),N)for(const Rr of N)_t.classList.add(Rr);const sn=Sr(v,q,_t);return Cn.appendChild(_t),P||ue.attachView(M.hostView),M.changeDetectorRef.reattach(),xe.set(_t,M),Ht.set(_t,sn),_t},hr=[Z.L,Z.a,Z.b,Z.c,Z.d],Sr=(v,V,y)=>v.run(()=>{const P=hr.filter(ue=>"function"==typeof V[ue]).map(ue=>{const xe=Ht=>V[ue](Ht.detail);return y.addEventListener(ue,xe),()=>y.removeEventListener(ue,xe)});return()=>P.forEach(ue=>ue())}),Vr=new c.OlP("NavParamsToken"),gi=v=>[{provide:Vr,useValue:v},{provide:Bt,useFactory:fs,deps:[Vr]}],fs=v=>new Bt(v),Ke=(v,V)=>((v=v.filter(y=>y.stackId!==V.stackId)).push(V),v),Kt=(v,V)=>{const y=v.createUrlTree(["."],{relativeTo:V});return v.serializeUrl(y)},Ar=(v,V)=>{if(!v)return;const y=Er(V);for(let P=0;P<y.length;P++){if(P>=v.length)return y[P];if(y[P]!==v[P])return}},Er=v=>v.split("/").map(V=>V.trim()).filter(V=>""!==V),vr=v=>{v&&(v.ref.destroy(),v.unlistenEvents())};class ls{constructor(V,y,P,ue,xe,Ht){this.containerEl=y,this.router=P,this.navCtrl=ue,this.zone=xe,this.location=Ht,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==V?Er(V):void 0}createView(V,y){var P;const ue=Kt(this.router,y),xe=null===(P=V?.location)||void 0===P?void 0:P.nativeElement,Ht=Sr(this.zone,V.instance,xe);return{id:this.nextId++,stackId:Ar(this.tabsPrefix,ue),unlistenEvents:Ht,element:xe,ref:V,url:ue}}getExistingView(V){const y=Kt(this.router,V),P=this.views.find(ue=>ue.url===y);return P&&P.ref.changeDetectorRef.reattach(),P}setActive(V){var y,P;const ue=this.navCtrl.consumeTransition();let{direction:xe,animation:Ht,animationBuilder:Cn}=ue;const er=this.activeView,Qn=((v,V)=>!V||v.stackId!==V.stackId)(V,er);Qn&&(xe="back",Ht=void 0);const N=this.views.slice();let M;const S=this.router;S.getCurrentNavigation?M=S.getCurrentNavigation():!(null===(y=S.navigations)||void 0===y)&&y.value&&(M=S.navigations.value),null!==(P=M?.extras)&&void 0!==P&&P.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const q=this.views.includes(V),_t=this.insertView(V,xe);q||V.ref.changeDetectorRef.detectChanges();const sn=V.animationBuilder;return void 0===Cn&&"back"===xe&&!Qn&&void 0!==sn&&(Cn=sn),er&&(er.animationBuilder=Cn),this.zone.runOutsideAngular(()=>this.wait(()=>(er&&er.ref.changeDetectorRef.detach(),V.ref.changeDetectorRef.reattach(),this.transition(V,er,Ht,this.canGoBack(1),!1,Cn).then(()=>ps(V,_t,N,this.location,this.zone)).then(()=>({enteringView:V,direction:xe,animation:Ht,tabSwitch:Qn})))))}canGoBack(V,y=this.getActiveStackId()){return this.getStack(y).length>V}pop(V,y=this.getActiveStackId()){return this.zone.run(()=>{var P,ue;const xe=this.getStack(y);if(xe.length<=V)return Promise.resolve(!1);const Ht=xe[xe.length-V-1];let Cn=Ht.url;const er=Ht.savedData;if(er){const N=er.get("primary");null!==(ue=null===(P=N?.route)||void 0===P?void 0:P._routerState)&&void 0!==ue&&ue.snapshot.url&&(Cn=N.route._routerState.snapshot.url)}const{animationBuilder:Qn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Cn,Object.assign(Object.assign({},Ht.savedExtras),{animation:Qn})).then(()=>!0)})}startBackTransition(){const V=this.activeView;if(V){const y=this.getStack(V.stackId),P=y[y.length-2],ue=P.animationBuilder;return this.wait(()=>this.transition(P,V,"back",this.canGoBack(2),!0,ue))}return Promise.resolve()}endBackTransition(V){V?(this.skipTransition=!0,this.pop(1)):this.activeView&&$i(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(V){const y=this.getStack(V);return y.length>0?y[y.length-1]:void 0}getRootUrl(V){const y=this.getStack(V);return y.length>0?y[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(vr),this.activeView=void 0,this.views=[]}getStack(V){return this.views.filter(y=>y.stackId===V)}insertView(V,y){return this.activeView=V,this.views=((v,V,y)=>"root"===y?Ke(v,V):"forward"===y?((v,V)=>(v.indexOf(V)>=0?v=v.filter(P=>P.stackId!==V.stackId||P.id<=V.id):v.push(V),v))(v,V):((v,V)=>v.indexOf(V)>=0?v.filter(P=>P.stackId!==V.stackId||P.id<=V.id):Ke(v,V))(v,V))(this.views,V,y),this.views.slice()}transition(V,y,P,ue,xe,Ht){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(y===V)return Promise.resolve(!1);const Cn=V?V.element:void 0,er=y?y.element:void 0,Qn=this.containerEl;return Cn&&Cn!==er&&(Cn.classList.add("ion-page"),Cn.classList.add("ion-page-invisible"),Cn.parentElement!==Qn&&Qn.appendChild(Cn),Qn.commit)?Qn.commit(Cn,er,{deepWait:!0,duration:void 0===P?0:void 0,direction:P,showGoBack:ue,progressAnimation:xe,animationBuilder:Ht}):Promise.resolve(!1)}wait(V){return(0,G.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const y=this.runningTask=V();return y.finally(()=>this.runningTask=void 0),y})}}const ps=(v,V,y,P,ue)=>"function"==typeof requestAnimationFrame?new Promise(xe=>{requestAnimationFrame(()=>{$i(v,V,y,P,ue),xe()})}):Promise.resolve(),$i=(v,V,y,P,ue)=>{ue.run(()=>y.filter(xe=>!V.includes(xe)).forEach(vr)),V.forEach(xe=>{const Cn=P.path().split("?")[0].split("#")[0];if(xe!==v&&xe.url!==Cn){const er=xe.element;er.setAttribute("aria-hidden","true"),er.classList.add("ion-page-hidden"),xe.ref.changeDetectorRef.detach()}})};let ws=(()=>{class v{get(y,P){const ue=gs();return ue?ue.get(y,P):null}getBoolean(y,P){const ue=gs();return!!ue&&ue.getBoolean(y,P)}getNumber(y,P){const ue=gs();return ue?ue.getNumber(y,P):0}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ci=new c.OlP("USERCONFIG"),gs=()=>{if(typeof window<"u"){const v=window.Ionic;if(v?.config)return v.config}return null};let Is=(()=>{class v{constructor(y,P){this.doc=y,this.backButton=new Ee.xQ,this.keyboardDidShow=new Ee.xQ,this.keyboardDidHide=new Ee.xQ,this.pause=new Ee.xQ,this.resume=new Ee.xQ,this.resize=new Ee.xQ,P.run(()=>{var ue;let xe;this.win=y.defaultView,this.backButton.subscribeWithPriority=function(Ht,Cn){return this.subscribe(er=>er.register(Ht,Qn=>P.run(()=>Cn(Qn))))},rs(this.pause,y,"pause"),rs(this.resume,y,"resume"),rs(this.backButton,y,"ionBackButton"),rs(this.resize,this.win,"resize"),rs(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),rs(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Ht=>{xe=Ht}),null!==(ue=this.win)&&void 0!==ue&&ue.cordova?y.addEventListener("deviceready",()=>{xe("cordova")},{once:!0}):xe("dom")})}is(y){return(0,Q.a)(this.win,y)}platforms(){return(0,Q.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(y){return Ti(this.win.location.href,y)}isLandscape(){return!this.isPortrait()}isPortrait(){var y,P;return null===(P=(y=this.win).matchMedia)||void 0===P?void 0:P.call(y,"(orientation: portrait)").matches}testUserAgent(y){const P=this.win.navigator;return!!(P?.userAgent&&P.userAgent.indexOf(y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return v.\u0275fac=function(y){return new(y||v)(c.LFG(It.K0),c.LFG(c.R0b))},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ti=(v,V)=>{V=V.replace(/[[\]\\]/g,"\\$&");const P=new RegExp("[\\?&]"+V+"=([^&#]*)").exec(v);return P?decodeURIComponent(P[1].replace(/\+/g," ")):null},rs=(v,V,y)=>{V&&V.addEventListener(y,P=>{v.next(P?.detail)})};let mi=(()=>{class v{constructor(y,P,ue,xe){this.location=P,this.serializer=ue,this.router=xe,this.direction=ds,this.animated=Ps,this.guessDirection="forward",this.lastNavId=-1,xe&&xe.events.subscribe(Ht=>{if(Ht instanceof de.OD){const Cn=Ht.restoredState?Ht.restoredState.navigationId:Ht.id;this.guessDirection=Cn<this.lastNavId?"back":"forward",this.guessAnimation=Ht.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Ht.id:Cn}}),y.backButton.subscribeWithPriority(0,Ht=>{this.pop(),Ht()})}navigateForward(y,P={}){return this.setDirection("forward",P.animated,P.animationDirection,P.animation),this.navigate(y,P)}navigateBack(y,P={}){return this.setDirection("back",P.animated,P.animationDirection,P.animation),this.navigate(y,P)}navigateRoot(y,P={}){return this.setDirection("root",P.animated,P.animationDirection,P.animation),this.navigate(y,P)}back(y={animated:!0,animationDirection:"back"}){return this.setDirection("back",y.animated,y.animationDirection,y.animation),this.location.back()}pop(){return(0,G.mG)(this,void 0,void 0,function*(){let y=this.topOutlet;for(;y&&!(yield y.pop());)y=y.parentOutlet})}setDirection(y,P,ue,xe){this.direction=y,this.animated=Xi(y,P,ue),this.animationBuilder=xe}setTopOutlet(y){this.topOutlet=y}consumeTransition(){let P,y="root";const ue=this.animationBuilder;return"auto"===this.direction?(y=this.guessDirection,P=this.guessAnimation):(P=this.animated,y=this.direction),this.direction=ds,this.animated=Ps,this.animationBuilder=void 0,{direction:y,animation:P,animationBuilder:ue}}navigate(y,P){if(Array.isArray(y))return this.router.navigate(y,P);{const ue=this.serializer.parse(y.toString());return void 0!==P.queryParams&&(ue.queryParams=Object.assign({},P.queryParams)),void 0!==P.fragment&&(ue.fragment=P.fragment),this.router.navigateByUrl(ue,P)}}}return v.\u0275fac=function(y){return new(y||v)(c.LFG(Is),c.LFG(It.Ye),c.LFG(de.Hx),c.LFG(de.F0,8))},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Xi=(v,V,y)=>{if(!1!==V){if(void 0!==y)return y;if("forward"===v||"back"===v)return v;if("root"===v&&!0===V)return"forward"}},ds="auto",Ps=void 0;class Xs{}let bs=(()=>{class v{constructor(y,P,ue,xe,Ht,Cn,er,Qn,N,M,S,q,_t,sn){this.parentContexts=y,this.location=P,this.config=Ht,this.navCtrl=Cn,this.environmentInjector=er,this.componentFactoryResolver=Qn,this.parentOutlet=sn,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Y.X(null),this.stackEvents=new c.vpe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.nativeEl=M.nativeElement,this.name=ue||de.eC,this.tabsPrefix="true"===xe?Kt(S,_t):void 0,this.stackCtrl=new ls(this.tabsPrefix,this.nativeEl,S,Cn,q,N),y.onChildOutletCreated(this.name,this)}set animation(y){this.nativeEl.animation=y}set animated(y){this.nativeEl.animated=y}set swipeGesture(y){this._swipeGesture=y,this.nativeEl.swipeHandler=y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:P=>this.stackCtrl.endBackTransition(P)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const y=this.getContext();y?.route&&this.activateWith(y.route,y.resolver||null)}new Promise(y=>(0,oe.c)(this.nativeEl,y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(y,P){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const P=this.getContext();this.activatedView.savedData=new Map(P.children.contexts);const ue=this.activatedView.savedData.get("primary");if(ue&&P.route&&(ue.route=Object.assign({},P.route)),this.activatedView.savedExtras={},P.route){const xe=P.route.snapshot;this.activatedView.savedExtras.queryParams=xe.queryParams,this.activatedView.savedExtras.fragment=xe.fragment}}const y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;let ue,xe=this.stackCtrl.getExistingView(y);if(xe){ue=this.activated=xe.ref;const Ht=xe.savedData;Ht&&(this.getContext().children.contexts=Ht),this.updateActivatedRouteProxy(ue.instance,y)}else{const Ht=y._futureSnapshot,Cn=Ht.routeConfig.component;if(null==Cn&&Ht.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const er=this.parentContexts.getOrCreateContext(this.name).children,Qn=new Y.X(null),N=this.createActivatedRouteProxy(Qn,y),M=new Qs(N,er,this.location.injector);if((P=P||this.componentFactoryResolver)&&Pe(P)){const S=P.resolveComponentFactory(Cn);ue=this.activated=this.location.createComponent(S,this.location.length,M)}else ue=this.activated=this.location.createComponent(Cn,{index:this.location.length,injector:M,environmentInjector:P??this.environmentInjector});Qn.next(ue.instance),xe=this.stackCtrl.createView(this.activated,y),this.proxyMap.set(ue.instance,N),this.currentActivatedRoute$.next({component:ue.instance,activatedRoute:y})}this.activatedView=xe,this.stackCtrl.setActive(xe).then(Ht=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(ue.instance),this.stackEvents.emit(Ht)})}canGoBack(y=1,P){return this.stackCtrl.canGoBack(y,P)}pop(y=1,P){return this.stackCtrl.pop(y,P)}getLastUrl(y){const P=this.stackCtrl.getLastUrl(y);return P?P.url:void 0}getLastRouteView(y){return this.stackCtrl.getLastUrl(y)}getRootView(y){return this.stackCtrl.getRootUrl(y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(y,P){const ue=new de.gz;return ue._futureSnapshot=P._futureSnapshot,ue._routerState=P._routerState,ue.snapshot=P.snapshot,ue.outlet=P.outlet,ue.component=P.component,ue._paramMap=this.proxyObservable(y,"paramMap"),ue._queryParamMap=this.proxyObservable(y,"queryParamMap"),ue.url=this.proxyObservable(y,"url"),ue.params=this.proxyObservable(y,"params"),ue.queryParams=this.proxyObservable(y,"queryParams"),ue.fragment=this.proxyObservable(y,"fragment"),ue.data=this.proxyObservable(y,"data"),ue}proxyObservable(y,P){return y.pipe((0,st.h)(ue=>!!ue),(0,Xe.w)(ue=>this.currentActivatedRoute$.pipe((0,st.h)(xe=>null!==xe&&xe.component===ue),(0,Xe.w)(xe=>xe&&xe.activatedRoute[P]),(0,ct.x)())))}updateActivatedRouteProxy(y,P){const ue=this.proxyMap.get(y);if(!ue)throw new Error("Could not find activated route proxy for view");ue._futureSnapshot=P._futureSnapshot,ue._routerState=P._routerState,ue.snapshot=P.snapshot,ue.outlet=P.outlet,ue.component=P.component,this.currentActivatedRoute$.next({component:y,activatedRoute:P})}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(de.y6),c.Y36(c.s_b),c.$8M("name"),c.$8M("tabs"),c.Y36(ws),c.Y36(mi),c.Y36(Xs,8),c.Y36(c._Vd,8),c.Y36(It.Ye),c.Y36(c.SBq),c.Y36(de.F0),c.Y36(c.R0b),c.Y36(de.gz),c.Y36(v,12))},v.\u0275dir=c.lG2({type:v,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),v})();class Qs{constructor(V,y,P){this.route=V,this.childContexts=y,this.parent=P}get(V,y){return V===de.gz?this.route:V===de.y6?this.childContexts:this.parent.get(V,y)}}let ms=(()=>{class v{constructor(y){this.navCtrl=y,this.ionTabsWillChange=new c.vpe,this.ionTabsDidChange=new c.vpe}onPageSelected(y){const P=y.enteringView.stackId;y.tabSwitch&&void 0!==P&&(this.ionTabsWillChange.emit({tab:P}),this.tabBar&&(this.tabBar.selectedTab=P),this.ionTabsDidChange.emit({tab:P}))}select(y){const P="string"==typeof y,ue=P?y:y.detail.tab,xe=this.outlet.getActiveStackId()===ue,Ht=`${this.outlet.tabsPrefix}/${ue}`;if(P||y.stopPropagation(),xe){const Cn=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(Cn)?.url===Ht)return;const Qn=this.outlet.getRootView(ue);return this.navCtrl.navigateRoot(Ht,Object.assign(Object.assign({},Qn&&Ht===Qn.url&&Qn.savedExtras),{animated:!0,animationDirection:"back"}))}{const Cn=this.outlet.getLastRouteView(ue),Qn=Cn?.savedExtras;return this.navCtrl.navigateRoot(Cn?.url||Ht,Object.assign(Object.assign({},Qn),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(mi))},v.\u0275cmp=c.Xpm({type:v,selectors:[["ion-tabs"]],contentQueries:function(y,P,ue){if(1&y&&c.Suo(ue,ge,5),2&y){let xe;c.iGM(xe=c.CRH())&&(P.tabBar=xe.first)}},viewQuery:function(y,P){if(1&y&&c.Gf(ce,5,bs),2&y){let ue;c.iGM(ue=c.CRH())&&(P.outlet=ue.first)}},hostBindings:function(y,P){1&y&&c.NdJ("ionTabButtonClick",function(xe){return P.select(xe)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:dt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(y,P){1&y&&(c.F$t(Ne),c.Hsn(0),c.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),c.NdJ("stackEvents",function(xe){return P.onPageSelected(xe)}),c.qZA()(),c.Hsn(4,1))},dependencies:[bs],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),v})(),Yr=(()=>{class v{constructor(y,P,ue){this.routerOutlet=y,this.navCtrl=P,this.config=ue}onClick(y){var P;const ue=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(P=this.routerOutlet)&&void 0!==P&&P.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),y.preventDefault()):null!=ue&&(this.navCtrl.navigateBack(ue,{animation:this.routerAnimation}),y.preventDefault())}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(bs,8),c.Y36(mi),c.Y36(ws))},v.\u0275dir=c.lG2({type:v,selectors:[["ion-back-button"]],hostBindings:function(y,P){1&y&&c.NdJ("click",function(xe){return P.onClick(xe)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),v})(),ni=(()=>{class v{constructor(y,P,ue,xe,Ht){this.locationStrategy=y,this.navCtrl=P,this.elementRef=ue,this.router=xe,this.routerLink=Ht,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var y;if(null!==(y=this.routerLink)&&void 0!==y&&y.urlTree){const P=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=P}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return v.\u0275fac=function(y){return new(y||v)(c.Y36(It.S$),c.Y36(mi),c.Y36(c.SBq),c.Y36(de.F0),c.Y36(de.rH,8))},v.\u0275dir=c.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(y,P){1&y&&c.NdJ("click",function(){return P.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[c.TTD]}),v})();class Hs{constructor(V){this.ctrl=V}create(V){return this.ctrl.create(V||{})}dismiss(V,y,P){return this.ctrl.dismiss(V,y,P)}getTop(){return this.ctrl.getTop()}}let Gs=(()=>{class v extends Hs{constructor(){super(et.b)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),k=(()=>{class v extends Hs{constructor(){super(et.a)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),ne=(()=>{class v extends Hs{constructor(){super(et.l)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),B=(()=>{class v{open(y){return Te.m.open(y)}close(y){return Te.m.close(y)}toggle(y){return Te.m.toggle(y)}enable(y,P){return Te.m.enable(y,P)}swipeGesture(y,P){return Te.m.swipeGesture(y,P)}isOpen(y){return Te.m.isOpen(y)}isEnabled(y){return Te.m.isEnabled(y)}get(y){return Te.m.get(y)}getOpen(){return Te.m.getOpen()}getMenus(){return Te.m.getMenus()}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Ge=(()=>{class v extends Hs{constructor(y,P,ue,xe){super(et.m),this.angularDelegate=y,this.resolver=P,this.injector=ue,this.environmentInjector=xe}create(y){var P;return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(null!==(P=this.resolver)&&void 0!==P?P:this.environmentInjector,this.injector)}))}}return v.\u0275fac=function(y){return new(y||v)(c.LFG(Yt),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(Xs,8))},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac}),v})(),Ot=(()=>{class v extends Hs{constructor(y,P,ue,xe){super(et.c),this.angularDelegate=y,this.resolver=P,this.injector=ue,this.environmentInjector=xe}create(y){var P;return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(null!==(P=this.resolver)&&void 0!==P?P:this.environmentInjector,this.injector)}))}}return v.\u0275fac=function(y){return new(y||v)(c.LFG(Yt),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(Xs,8))},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac}),v})();class mn{shouldDetach(V){return!1}shouldAttach(V){return!1}store(V,y){}retrieve(V){return null}shouldReuseRoute(V,y){if(V.routeConfig!==y.routeConfig)return!1;const P=V.params,ue=y.params,xe=Object.keys(P),Ht=Object.keys(ue);if(xe.length!==Ht.length)return!1;for(const Cn of xe)if(ue[Cn]!==P[Cn])return!1;return!0}}const hi=(v,V,y)=>()=>{if(V.defaultView&&typeof window<"u"){(v=>{const V=window,y=V.Ionic;y&&y.config&&"Object"!==y.config.constructor.name||(V.Ionic=V.Ionic||{},V.Ionic.config=Object.assign(Object.assign({},V.Ionic.config),v))})(Object.assign(Object.assign({},v),{_zoneGate:xe=>y.run(xe)}));const ue="__zone_symbol__addEventListener"in V.body?"__zone_symbol__addEventListener":"addEventListener";return function le(){var v=[];if(typeof window<"u"){var V=window;(!V.customElements||V.Element&&(!V.Element.prototype.closest||!V.Element.prototype.matches||!V.Element.prototype.remove||!V.Element.prototype.getRootNode))&&v.push(O.e(6748).then(O.t.bind(O,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||V.NodeList&&!V.NodeList.prototype.forEach||!V.fetch||!function(){try{var P=new URL("b","http://a");return P.pathname="c%20d","http://a/c%20d"===P.href&&P.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&v.push(O.e(2214).then(O.t.bind(O,4144,23)))}return Promise.all(v)}().then(()=>((v,V)=>typeof window>"u"?Promise.resolve():(0,ye.p)().then(()=>(Ce(),(0,ye.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),V))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Re,jmp:xe=>y.runOutsideAngular(xe),ael(xe,Ht,Cn,er){xe[ue](Ht,Cn,er)},rel(xe,Ht,Cn,er){xe.removeEventListener(Ht,Cn,er)}}))}};let ri=(()=>{class v{static forRoot(y){return{ngModule:v,providers:[{provide:Ci,useValue:y},{provide:c.ip1,useFactory:hi,multi:!0,deps:[Ci,It.K0,c.R0b]}]}}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275mod=c.oAB({type:v}),v.\u0275inj=c.cJS({providers:[Yt,Ge,Ot],imports:[[It.ez]]}),v})()},9442:(Jt,lt,O)=>{"use strict";O.d(lt,{c:()=>et});var c=O(3756);let F;const Ae=he=>he.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ee=he=>{if(void 0===F){const je=void 0!==he.style.webkitAnimationName;F=void 0===he.style.animationName&&je?"-webkit-":""}return F},Y=(he,ye,je)=>{const Ze=ye.startsWith("animation")?Ee(he):"";he.style.setProperty(Ze+ye,je)},de=(he,ye)=>{const je=ye.startsWith("animation")?Ee(he):"";he.style.removeProperty(je+ye)},re=[],Te=(he=[],ye)=>{if(void 0!==ye){const je=Array.isArray(ye)?ye:[ye];return[...he,...je]}return he},et=he=>{let ye,je,Ze,J,nt,$e,le,Ue,ut,Re,Pe,Et,Tt,st=[],Xe=[],ct=[],It=!1,Ce={},se=[],me=[],W={},ce=0,Ne=!1,dt=!1,ke=!0,He=!1,ze=!0,en=!1;const hn=he,qt=[],Gn=[],Sn=[],Ln=[],Lr=[],Rn=[],mr=[],Rt=[],tr=[],Wn=[],Ir="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,sr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ir,or=()=>Wn,mt=(pe,Se)=>((Se?.oneTimeCallback?Gn:qt).push({c:pe,o:Se}),Tt),qn=()=>{if(sr)Wn.forEach(pe=>{pe.cancel()}),Wn.length=0;else{const pe=Sn.slice();(0,c.r)(()=>{pe.forEach(Se=>{de(Se,"animation-name"),de(Se,"animation-duration"),de(Se,"animation-timing-function"),de(Se,"animation-iteration-count"),de(Se,"animation-delay"),de(Se,"animation-play-state"),de(Se,"animation-fill-mode"),de(Se,"animation-direction")})})}},fr=()=>{Lr.forEach(pe=>{pe?.parentNode&&pe.parentNode.removeChild(pe)}),Lr.length=0},lr=()=>void 0!==nt?nt:le?le.getFill():"both",br=()=>void 0!==ut?ut:void 0!==$e?$e:le?le.getDirection():"normal",Or=()=>Ne?"linear":void 0!==Ze?Ze:le?le.getEasing():"linear",Oe=()=>dt?0:void 0!==Re?Re:void 0!==je?je:le?le.getDuration():0,be=()=>void 0!==J?J:le?le.getIterations():1,qe=()=>void 0!==Pe?Pe:void 0!==ye?ye:le?le.getDelay():0,ot=()=>{0!==ce&&(ce--,0===ce&&((()=>{pr(),Rt.forEach(Mt=>Mt()),tr.forEach(Mt=>Mt());const pe=ke?1:0,Se=se,ht=me,At=W;Sn.forEach(Mt=>{const Bt=Mt.classList;Se.forEach(Yt=>Bt.add(Yt)),ht.forEach(Yt=>Bt.remove(Yt));for(const Yt in At)At.hasOwnProperty(Yt)&&Y(Mt,Yt,At[Yt])}),qt.forEach(Mt=>Mt.c(pe,Tt)),Gn.forEach(Mt=>Mt.c(pe,Tt)),Gn.length=0,ze=!0,ke&&(He=!0),ke=!0})(),le&&le.animationFinish()))},xt=(pe=!0)=>{fr();const Se=(he=>(he.forEach(ye=>{for(const je in ye)if(ye.hasOwnProperty(je)){const Ze=ye[je];if("easing"===je)ye["animation-timing-function"]=Ze,delete ye[je];else{const J=Ae(je);J!==je&&(ye[J]=Ze,delete ye[je])}}}),he))(st);Sn.forEach(ht=>{if(Se.length>0){const At=((he=[])=>he.map(ye=>{const je=ye.offset,Ze=[];for(const J in ye)ye.hasOwnProperty(J)&&"offset"!==J&&Ze.push(`${J}: ${ye[J]};`);return`${100*je}% { ${Ze.join(" ")} }`}).join(" "))(Se);Et=void 0!==he?he:(he=>{let ye=re.indexOf(he);return ye<0&&(ye=re.push(he)-1),`ion-animation-${ye}`})(At);const Mt=((he,ye,je)=>{const Ze=(he=>{const ye=he.getRootNode();return ye.head||ye})(je),J=Ee(je),nt=Ze.querySelector("#"+he);if(nt)return nt;const $e=(je.ownerDocument||document).createElement("style");return $e.id=he,$e.textContent=`@${J}keyframes ${he} { ${ye} } @${J}keyframes ${he}-alt { ${ye} }`,Ze.appendChild($e),$e})(Et,At,ht);Lr.push(Mt),Y(ht,"animation-duration",`${Oe()}ms`),Y(ht,"animation-timing-function",Or()),Y(ht,"animation-delay",`${qe()}ms`),Y(ht,"animation-fill-mode",lr()),Y(ht,"animation-direction",br());const Bt=be()===1/0?"infinite":be().toString();Y(ht,"animation-iteration-count",Bt),Y(ht,"animation-play-state","paused"),pe&&Y(ht,"animation-name",`${Mt.id}-alt`),(0,c.r)(()=>{Y(ht,"animation-name",Mt.id||null)})}})},dn=(pe=!0)=>{(()=>{Rn.forEach(At=>At()),mr.forEach(At=>At());const pe=Xe,Se=ct,ht=Ce;Sn.forEach(At=>{const Mt=At.classList;pe.forEach(Bt=>Mt.add(Bt)),Se.forEach(Bt=>Mt.remove(Bt));for(const Bt in ht)ht.hasOwnProperty(Bt)&&Y(At,Bt,ht[Bt])})})(),st.length>0&&(sr?(Sn.forEach(pe=>{const Se=pe.animate(st,{id:hn,delay:qe(),duration:Oe(),easing:Or(),iterations:be(),fill:lr(),direction:br()});Se.pause(),Wn.push(Se)}),Wn.length>0&&(Wn[0].onfinish=()=>{ot()})):xt(pe)),It=!0},Xt=pe=>{if(pe=Math.min(Math.max(pe,0),.9999),sr)Wn.forEach(Se=>{Se.currentTime=Se.effect.getComputedTiming().delay+Oe()*pe,Se.pause()});else{const Se=`-${Oe()*pe}ms`;Sn.forEach(ht=>{st.length>0&&(Y(ht,"animation-delay",Se),Y(ht,"animation-play-state","paused"))})}},Jn=pe=>{Wn.forEach(Se=>{Se.effect.updateTiming({delay:qe(),duration:Oe(),easing:Or(),iterations:be(),fill:lr(),direction:br()})}),void 0!==pe&&Xt(pe)},vn=(pe=!0,Se)=>{(0,c.r)(()=>{Sn.forEach(ht=>{Y(ht,"animation-name",Et||null),Y(ht,"animation-duration",`${Oe()}ms`),Y(ht,"animation-timing-function",Or()),Y(ht,"animation-delay",void 0!==Se?`-${Se*Oe()}ms`:`${qe()}ms`),Y(ht,"animation-fill-mode",lr()||null),Y(ht,"animation-direction",br()||null);const At=be()===1/0?"infinite":be().toString();Y(ht,"animation-iteration-count",At),pe&&Y(ht,"animation-name",`${Et}-alt`),(0,c.r)(()=>{Y(ht,"animation-name",Et||null)})})})},rr=(pe=!1,Se=!0,ht)=>(pe&&Ln.forEach(At=>{At.update(pe,Se,ht)}),sr?Jn(ht):vn(Se,ht),Tt),zr=()=>{It&&(sr?Wn.forEach(pe=>{pe.pause()}):Sn.forEach(pe=>{Y(pe,"animation-play-state","paused")}),en=!0)},bi=()=>{Ue=void 0,ot()},pr=()=>{Ue&&clearTimeout(Ue)},Di=pe=>new Promise(Se=>{pe?.sync&&(dt=!0,mt(()=>dt=!1,{oneTimeCallback:!0})),It||dn(),He&&(sr?(Xt(0),Jn()):vn(),He=!1),ze&&(ce=Ln.length+1,ze=!1),mt(()=>Se(),{oneTimeCallback:!0}),Ln.forEach(ht=>{ht.play()}),sr?(Wn.forEach(pe=>{pe.play()}),(0===st.length||0===Sn.length)&&ot()):(()=>{if(pr(),(0,c.r)(()=>{Sn.forEach(pe=>{st.length>0&&Y(pe,"animation-play-state","running")})}),0===st.length||0===Sn.length)ot();else{const pe=qe()||0,Se=Oe()||0,ht=be()||1;isFinite(ht)&&(Ue=setTimeout(bi,pe+Se*ht+100)),((he,ye)=>{let je;const Ze={passive:!0},nt=$e=>{he===$e.target&&(je&&je(),pr(),(0,c.r)(()=>{Sn.forEach(pe=>{de(pe,"animation-duration"),de(pe,"animation-delay"),de(pe,"animation-play-state")}),(0,c.r)(ot)}))};he&&(he.addEventListener("webkitAnimationEnd",nt,Ze),he.addEventListener("animationend",nt,Ze),je=()=>{he.removeEventListener("webkitAnimationEnd",nt,Ze),he.removeEventListener("animationend",nt,Ze)})})(Sn[0])}})(),en=!1}),ge=(pe,Se)=>{const ht=st[0];return void 0===ht||void 0!==ht.offset&&0!==ht.offset?st=[{offset:0,[pe]:Se},...st]:ht[pe]=Se,Tt};return Tt={parentAnimation:le,elements:Sn,childAnimations:Ln,id:hn,animationFinish:ot,from:ge,to:(pe,Se)=>{const ht=st[st.length-1];return void 0===ht||void 0!==ht.offset&&1!==ht.offset?st=[...st,{offset:1,[pe]:Se}]:ht[pe]=Se,Tt},fromTo:(pe,Se,ht)=>ge(pe,Se).to(pe,ht),parent:pe=>(le=pe,Tt),play:Di,pause:()=>(Ln.forEach(pe=>{pe.pause()}),zr(),Tt),stop:()=>{Ln.forEach(pe=>{pe.stop()}),It&&(qn(),It=!1),Ne=!1,dt=!1,ze=!0,ut=void 0,Re=void 0,Pe=void 0,ce=0,He=!1,ke=!0,en=!1},destroy:pe=>(Ln.forEach(Se=>{Se.destroy(pe)}),(pe=>{qn(),pe&&fr()})(pe),Sn.length=0,Ln.length=0,st.length=0,qt.length=0,Gn.length=0,It=!1,ze=!0,Tt),keyframes:pe=>{const Se=st!==pe;return st=pe,Se&&(pe=>{sr?or().forEach(Se=>{if(Se.effect.setKeyframes)Se.effect.setKeyframes(pe);else{const ht=new KeyframeEffect(Se.effect.target,pe,Se.effect.getTiming());Se.effect=ht}}):xt()})(st),Tt},addAnimation:pe=>{if(null!=pe)if(Array.isArray(pe))for(const Se of pe)Se.parent(Tt),Ln.push(Se);else pe.parent(Tt),Ln.push(pe);return Tt},addElement:pe=>{if(null!=pe)if(1===pe.nodeType)Sn.push(pe);else if(pe.length>=0)for(let Se=0;Se<pe.length;Se++)Sn.push(pe[Se]);else console.error("Invalid addElement value");return Tt},update:rr,fill:pe=>(nt=pe,rr(!0),Tt),direction:pe=>($e=pe,rr(!0),Tt),iterations:pe=>(J=pe,rr(!0),Tt),duration:pe=>(!sr&&0===pe&&(pe=1),je=pe,rr(!0),Tt),easing:pe=>(Ze=pe,rr(!0),Tt),delay:pe=>(ye=pe,rr(!0),Tt),getWebAnimations:or,getKeyframes:()=>st,getFill:lr,getDirection:br,getDelay:qe,getIterations:be,getEasing:Or,getDuration:Oe,afterAddRead:pe=>(Rt.push(pe),Tt),afterAddWrite:pe=>(tr.push(pe),Tt),afterClearStyles:(pe=[])=>{for(const Se of pe)W[Se]="";return Tt},afterStyles:(pe={})=>(W=pe,Tt),afterRemoveClass:pe=>(me=Te(me,pe),Tt),afterAddClass:pe=>(se=Te(se,pe),Tt),beforeAddRead:pe=>(Rn.push(pe),Tt),beforeAddWrite:pe=>(mr.push(pe),Tt),beforeClearStyles:(pe=[])=>{for(const Se of pe)Ce[Se]="";return Tt},beforeStyles:(pe={})=>(Ce=pe,Tt),beforeRemoveClass:pe=>(ct=Te(ct,pe),Tt),beforeAddClass:pe=>(Xe=Te(Xe,pe),Tt),onFinish:mt,isRunning:()=>0!==ce&&!en,progressStart:(pe=!1,Se)=>(Ln.forEach(ht=>{ht.progressStart(pe,Se)}),zr(),Ne=pe,It||dn(),rr(!1,!0,Se),Tt),progressStep:pe=>(Ln.forEach(Se=>{Se.progressStep(pe)}),Xt(pe),Tt),progressEnd:(pe,Se,ht)=>(Ne=!1,Ln.forEach(At=>{At.progressEnd(pe,Se,ht)}),void 0!==ht&&(Re=ht),He=!1,ke=!0,0===pe?(ut="reverse"===br()?"normal":"reverse","reverse"===ut&&(ke=!1),sr?(rr(),Xt(1-Se)):(Pe=(1-Se)*Oe()*-1,rr(!1,!1))):1===pe&&(sr?(rr(),Xt(Se)):(Pe=Se*Oe()*-1,rr(!1,!1))),void 0!==pe&&(mt(()=>{Re=void 0,ut=void 0,Pe=void 0},{oneTimeCallback:!0}),le||Di()),Tt)}}},3509:(Jt,lt,O)=>{"use strict";O.d(lt,{G:()=>Ee});class F{constructor(de,Me,fe,re,Q){this.id=Me,this.name=fe,this.disableScroll=Q,this.priority=1e6*re+Me,this.ctrl=de}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const de=this.ctrl.capture(this.name,this.id,this.priority);return de&&this.disableScroll&&this.ctrl.disableScroll(this.id),de}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class G{constructor(de,Me,fe,re){this.id=Me,this.disable=fe,this.disableScroll=re,this.ctrl=de}block(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.disableGesture(de,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.enableGesture(de,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ae="backdrop-no-scroll",Ee=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(de){return new F(this,this.newID(),de.name,de.priority||0,!!de.disableScroll)}createBlocker(de={}){return new G(this,this.newID(),de.disable,!!de.disableScroll)}start(de,Me,fe){return this.canStart(de)?(this.requestedStart.set(Me,fe),!0):(this.requestedStart.delete(Me),!1)}capture(de,Me,fe){if(!this.start(de,Me,fe))return!1;const re=this.requestedStart;let Q=-1e4;if(re.forEach(oe=>{Q=Math.max(Q,oe)}),Q===fe){this.capturedId=Me,re.clear();const oe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:de}});return document.dispatchEvent(oe),!0}return re.delete(Me),!1}release(de){this.requestedStart.delete(de),this.capturedId===de&&(this.capturedId=void 0)}disableGesture(de,Me){let fe=this.disabledGestures.get(de);void 0===fe&&(fe=new Set,this.disabledGestures.set(de,fe)),fe.add(Me)}enableGesture(de,Me){const fe=this.disabledGestures.get(de);void 0!==fe&&fe.delete(Me)}disableScroll(de){this.disabledScroll.add(de),1===this.disabledScroll.size&&document.body.classList.add(Ae)}enableScroll(de){this.disabledScroll.delete(de),0===this.disabledScroll.size&&document.body.classList.remove(Ae)}canStart(de){return!(void 0!==this.capturedId||this.isDisabled(de))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(de){const Me=this.disabledGestures.get(de);return!!(Me&&Me.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Jt,lt,O)=>{"use strict";O.r(lt),O.d(lt,{MENU_BACK_BUTTON_PRIORITY:()=>Ee,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ae,blockHardwareBackButton:()=>F,startHardwareBackButton:()=>G});var c=O(5861);const F=()=>{document.addEventListener("backbutton",()=>{})},G=()=>{const Y=document;let de=!1;Y.addEventListener("backbutton",()=>{if(de)return;let Me=0,fe=[];const re=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Z,Te){fe.push({priority:Z,handler:Te,id:Me++})}}});Y.dispatchEvent(re);const Q=function(){var Z=(0,c.Z)(function*(Te){try{if(Te?.handler){const et=Te.handler(oe);null!=et&&(yield et)}}catch(et){console.error(et)}});return function(et){return Z.apply(this,arguments)}}(),oe=()=>{if(fe.length>0){let Z={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};fe.forEach(Te=>{Te.priority>=Z.priority&&(Z=Te)}),de=!0,fe=fe.filter(Te=>Te.id!==Z.id),Q(Z).then(()=>de=!1)}};oe()})},Ae=100,Ee=99},3756:(Jt,lt,O)=>{"use strict";O.d(lt,{a:()=>de,b:()=>Me,c:()=>G,d:()=>Te,e:()=>et,f:()=>Z,g:()=>fe,h:()=>nt,i:()=>Y,j:()=>Ae,k:()=>oe,l:()=>he,m:()=>Q,n:()=>ye,o:()=>J,p:()=>Ze,q:()=>$e,r:()=>re,s:()=>st,t:()=>c,u:()=>je});const c=(Xe,ct=0)=>new Promise(It=>{F(Xe,ct,It)}),F=(Xe,ct=0,It)=>{let le,Ce;const se={passive:!0},W=()=>{le&&le()},ce=Ne=>{(void 0===Ne||Xe===Ne.target)&&(W(),It(Ne))};return Xe&&(Xe.addEventListener("webkitTransitionEnd",ce,se),Xe.addEventListener("transitionend",ce,se),Ce=setTimeout(ce,ct+500),le=()=>{Ce&&(clearTimeout(Ce),Ce=void 0),Xe.removeEventListener("webkitTransitionEnd",ce,se),Xe.removeEventListener("transitionend",ce,se)}),W},G=(Xe,ct)=>{Xe.componentOnReady?Xe.componentOnReady().then(It=>ct(It)):re(()=>ct(Xe))},Ae=(Xe,ct=[])=>{const It={};return ct.forEach(le=>{Xe.hasAttribute(le)&&(null!==Xe.getAttribute(le)&&(It[le]=Xe.getAttribute(le)),Xe.removeAttribute(le))}),It},Ee=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Y=Xe=>Ae(Xe,Ee),de=(Xe,ct,It,le)=>{var Ce;if(typeof window<"u"){const me=null===(Ce=window?.Ionic)||void 0===Ce?void 0:Ce.config;if(me){const W=me.get("_ael");if(W)return W(Xe,ct,It,le);if(me._ael)return me._ael(Xe,ct,It,le)}}return Xe.addEventListener(ct,It,le)},Me=(Xe,ct,It,le)=>{var Ce;if(typeof window<"u"){const me=null===(Ce=window?.Ionic)||void 0===Ce?void 0:Ce.config;if(me){const W=me.get("_rel");if(W)return W(Xe,ct,It,le);if(me._rel)return me._rel(Xe,ct,It,le)}}return Xe.removeEventListener(ct,It,le)},fe=(Xe,ct=Xe)=>Xe.shadowRoot||ct,re=Xe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Xe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Xe):setTimeout(Xe),Q=Xe=>!!Xe.shadowRoot&&!!Xe.attachShadow,oe=Xe=>{const ct=Xe.closest("ion-item");return ct?ct.querySelector("ion-label"):null},Z=Xe=>{if(Xe.focus(),Xe.classList.contains("ion-focusable")){const ct=Xe.closest("ion-app");ct&&ct.setFocus([Xe])}},Te=(Xe,ct)=>{let It;const le=Xe.getAttribute("aria-labelledby"),Ce=Xe.id;let se=null!==le&&""!==le.trim()?le:ct+"-lbl",me=null!==le&&""!==le.trim()?document.getElementById(le):oe(Xe);return me?(null===le&&(me.id=se),It=me.textContent,me.setAttribute("aria-hidden","true")):""!==Ce.trim()&&(me=document.querySelector(`label[for="${Ce}"]`),me&&(""!==me.id?se=me.id:me.id=se=`${Ce}-lbl`,It=me.textContent)),{label:me,labelId:se,labelText:It}},et=(Xe,ct,It,le,Ce)=>{if(Xe||Q(ct)){let se=ct.querySelector("input.aux-input");se||(se=ct.ownerDocument.createElement("input"),se.type="hidden",se.classList.add("aux-input"),ct.appendChild(se)),se.disabled=Ce,se.name=It,se.value=le||""}},he=(Xe,ct,It)=>Math.max(Xe,Math.min(ct,It)),ye=(Xe,ct)=>{if(!Xe){const It="ASSERT: "+ct;throw console.error(It),new Error(It)}},je=Xe=>Xe.timeStamp||Date.now(),Ze=Xe=>{if(Xe){const ct=Xe.changedTouches;if(ct&&ct.length>0){const It=ct[0];return{x:It.clientX,y:It.clientY}}if(void 0!==Xe.pageX)return{x:Xe.pageX,y:Xe.pageY}}return{x:0,y:0}},J=Xe=>{const ct="rtl"===document.dir;switch(Xe){case"start":return ct;case"end":return!ct;default:throw new Error(`"${Xe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},nt=(Xe,ct)=>{const It=Xe._original||Xe;return{_original:Xe,emit:$e(It.emit.bind(It),ct)}},$e=(Xe,ct=0)=>{let It;return(...le)=>{clearTimeout(It),It=setTimeout(Xe,ct,...le)}},st=(Xe,ct)=>{if(Xe??(Xe={}),ct??(ct={}),Xe===ct)return!0;const It=Object.keys(Xe);if(It.length!==Object.keys(ct).length)return!1;for(const le of It)if(!(le in ct)||Xe[le]!==ct[le])return!1;return!0}},3139:(Jt,lt,O)=>{"use strict";O.r(lt),O.d(lt,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>fe});var c=O(3509);const F=(Z,Te,et,he)=>{const ye=G(Z)?{capture:!!he.capture,passive:!!he.passive}:!!he.capture;let je,Ze;return Z.__zone_symbol__addEventListener?(je="__zone_symbol__addEventListener",Ze="__zone_symbol__removeEventListener"):(je="addEventListener",Ze="removeEventListener"),Z[je](Te,et,ye),()=>{Z[Ze](Te,et,ye)}},G=Z=>{if(void 0===Ae)try{const Te=Object.defineProperty({},"passive",{get:()=>{Ae=!0}});Z.addEventListener("optsTest",()=>{},Te)}catch{Ae=!1}return!!Ae};let Ae;const de=Z=>Z instanceof Document?Z:Z.ownerDocument,fe=Z=>{let Te=!1,et=!1,he=!0,ye=!1;const je=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Z),Ze=je.canStart,J=je.onWillStart,nt=je.onStart,$e=je.onEnd,st=je.notCaptured,Xe=je.onMove,ct=je.threshold,It=je.passive,le=je.blurOnStart,Ce={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},se=((Z,Te,et)=>{const he=et*(Math.PI/180),ye="x"===Z,je=Math.cos(he),Ze=Te*Te;let J=0,nt=0,$e=!1,st=0;return{start(Xe,ct){J=Xe,nt=ct,st=0,$e=!0},detect(Xe,ct){if(!$e)return!1;const It=Xe-J,le=ct-nt,Ce=It*It+le*le;if(Ce<Ze)return!1;const se=Math.sqrt(Ce),me=(ye?It:le)/se;return st=me>je?1:me<-je?-1:0,$e=!1,!0},isGesture:()=>0!==st,getDirection:()=>st}})(je.direction,je.threshold,je.maxAngle),me=c.G.createGesture({name:Z.gestureName,priority:Z.gesturePriority,disableScroll:Z.disableScroll}),Ne=()=>{!Te||(ye=!1,Xe&&Xe(Ce))},dt=()=>!(me&&!me.capture()||(Te=!0,he=!1,Ce.startX=Ce.currentX,Ce.startY=Ce.currentY,Ce.startTime=Ce.currentTime,J?J(Ce).then(ut):ut(),0)),ut=()=>{le&&(()=>{if(typeof document<"u"){const ze=document.activeElement;ze?.blur&&ze.blur()}})(),nt&&nt(Ce),he=!0},Re=()=>{Te=!1,et=!1,ye=!1,he=!0,me.release()},Pe=ze=>{const Et=Te,Tt=he;if(Re(),Tt){if(re(Ce,ze),Et)return void($e&&$e(Ce));st&&st(Ce)}},ke=((Z,Te,et,he,ye)=>{let je,Ze,J,nt,$e,st,Xe,ct=0;const It=Ue=>{ct=Date.now()+2e3,Te(Ue)&&(!Ze&&et&&(Ze=F(Z,"touchmove",et,ye)),J||(J=F(Ue.target,"touchend",Ce,ye)),nt||(nt=F(Ue.target,"touchcancel",Ce,ye)))},le=Ue=>{ct>Date.now()||!Te(Ue)||(!st&&et&&(st=F(de(Z),"mousemove",et,ye)),Xe||(Xe=F(de(Z),"mouseup",se,ye)))},Ce=Ue=>{me(),he&&he(Ue)},se=Ue=>{W(),he&&he(Ue)},me=()=>{Ze&&Ze(),J&&J(),nt&&nt(),Ze=J=nt=void 0},W=()=>{st&&st(),Xe&&Xe(),st=Xe=void 0},ce=()=>{me(),W()},Ne=(Ue=!0)=>{Ue?(je||(je=F(Z,"touchstart",It,ye)),$e||($e=F(Z,"mousedown",le,ye))):(je&&je(),$e&&$e(),je=$e=void 0,ce())};return{enable:Ne,stop:ce,destroy:()=>{Ne(!1),he=et=Te=void 0}}})(je.el,ze=>{const Et=oe(ze);return!(et||!he||(Q(ze,Ce),Ce.startX=Ce.currentX,Ce.startY=Ce.currentY,Ce.startTime=Ce.currentTime=Et,Ce.velocityX=Ce.velocityY=Ce.deltaX=Ce.deltaY=0,Ce.event=ze,Ze&&!1===Ze(Ce))||(me.release(),!me.start()))&&(et=!0,0===ct?dt():(se.start(Ce.startX,Ce.startY),!0))},ze=>{Te?!ye&&he&&(ye=!0,re(Ce,ze),requestAnimationFrame(Ne)):(re(Ce,ze),se.detect(Ce.currentX,Ce.currentY)&&(!se.isGesture()||!dt())&&He())},Pe,{capture:!1,passive:It}),He=()=>{Re(),ke.stop(),st&&st(Ce)};return{enable(ze=!0){ze||(Te&&Pe(void 0),Re()),ke.enable(ze)},destroy(){me.destroy(),ke.destroy()}}},re=(Z,Te)=>{if(!Te)return;const et=Z.currentX,he=Z.currentY,ye=Z.currentTime;Q(Te,Z);const je=Z.currentX,Ze=Z.currentY,nt=(Z.currentTime=oe(Te))-ye;if(nt>0&&nt<100){const st=(Ze-he)/nt;Z.velocityX=(je-et)/nt*.7+.3*Z.velocityX,Z.velocityY=.7*st+.3*Z.velocityY}Z.deltaX=je-Z.startX,Z.deltaY=Ze-Z.startY,Z.event=Te},Q=(Z,Te)=>{let et=0,he=0;if(Z){const ye=Z.changedTouches;if(ye&&ye.length>0){const je=ye[0];et=je.clientX,he=je.clientY}else void 0!==Z.pageX&&(et=Z.pageX,he=Z.pageY)}Te.currentX=et,Te.currentY=he},oe=Z=>Z.timeStamp||Date.now()},9753:(Jt,lt,O)=>{"use strict";O.d(lt,{L:()=>Ae,a:()=>Ee,b:()=>Y,c:()=>de,d:()=>Me,e:()=>ct,g:()=>Ce,l:()=>st,s:()=>It,t:()=>Q});var c=O(5861),F=O(7205),G=O(3756);const Ae="ionViewWillEnter",Ee="ionViewDidEnter",Y="ionViewWillLeave",de="ionViewDidLeave",Me="ionViewWillUnload",Q=se=>new Promise((me,W)=>{(0,F.c)(()=>{oe(se),Z(se).then(ce=>{ce.animation&&ce.animation.destroy(),Te(se),me(ce)},ce=>{Te(se),W(ce)})})}),oe=se=>{const me=se.enteringEl,W=se.leavingEl;le(me,W,se.direction),se.showGoBack?me.classList.add("can-go-back"):me.classList.remove("can-go-back"),It(me,!1),me.style.setProperty("pointer-events","none"),W&&(It(W,!1),W.style.setProperty("pointer-events","none"))},Z=function(){var se=(0,c.Z)(function*(me){const W=yield et(me);return W&&F.B.isBrowser?he(W,me):ye(me)});return function(W){return se.apply(this,arguments)}}(),Te=se=>{const me=se.enteringEl,W=se.leavingEl;me.classList.remove("ion-page-invisible"),me.style.removeProperty("pointer-events"),void 0!==W&&(W.classList.remove("ion-page-invisible"),W.style.removeProperty("pointer-events"))},et=function(){var se=(0,c.Z)(function*(me){return me.leavingEl&&me.animated&&0!==me.duration?me.animationBuilder?me.animationBuilder:"ios"===me.mode?(yield Promise.resolve().then(O.bind(O,4181))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,5980))).mdTransitionAnimation:void 0});return function(W){return se.apply(this,arguments)}}(),he=function(){var se=(0,c.Z)(function*(me,W){yield je(W,!0);const ce=me(W.baseEl,W);nt(W.enteringEl,W.leavingEl);const Ne=yield J(ce,W);return W.progressCallback&&W.progressCallback(void 0),Ne&&$e(W.enteringEl,W.leavingEl),{hasCompleted:Ne,animation:ce}});return function(W,ce){return se.apply(this,arguments)}}(),ye=function(){var se=(0,c.Z)(function*(me){const W=me.enteringEl,ce=me.leavingEl;return yield je(me,!1),nt(W,ce),$e(W,ce),{hasCompleted:!0}});return function(W){return se.apply(this,arguments)}}(),je=function(){var se=(0,c.Z)(function*(me,W){const Ne=(void 0!==me.deepWait?me.deepWait:W)?[ct(me.enteringEl),ct(me.leavingEl)]:[Xe(me.enteringEl),Xe(me.leavingEl)];yield Promise.all(Ne),yield Ze(me.viewIsReady,me.enteringEl)});return function(W,ce){return se.apply(this,arguments)}}(),Ze=function(){var se=(0,c.Z)(function*(me,W){me&&(yield me(W))});return function(W,ce){return se.apply(this,arguments)}}(),J=(se,me)=>{const W=me.progressCallback,ce=new Promise(Ne=>{se.onFinish(dt=>Ne(1===dt))});return W?(se.progressStart(!0),W(se)):se.play(),ce},nt=(se,me)=>{st(me,Y),st(se,Ae)},$e=(se,me)=>{st(se,Ee),st(me,de)},st=(se,me)=>{if(se){const W=new CustomEvent(me,{bubbles:!1,cancelable:!1});se.dispatchEvent(W)}},Xe=se=>se?new Promise(me=>(0,G.c)(se,me)):Promise.resolve(),ct=function(){var se=(0,c.Z)(function*(me){const W=me;if(W){if(null!=W.componentOnReady){if(null!=(yield W.componentOnReady()))return}else if(null!=W.__registerHost)return void(yield new Promise(Ne=>(0,G.r)(Ne)));yield Promise.all(Array.from(W.children).map(ct))}});return function(W){return se.apply(this,arguments)}}(),It=(se,me)=>{me?(se.setAttribute("aria-hidden","true"),se.classList.add("ion-page-hidden")):(se.hidden=!1,se.removeAttribute("aria-hidden"),se.classList.remove("ion-page-hidden"))},le=(se,me,W)=>{void 0!==se&&(se.style.zIndex="back"===W?"99":"101"),void 0!==me&&(me.style.zIndex="100")},Ce=se=>se.classList.contains("ion-page")?se:se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||se},7205:(Jt,lt,O)=>{"use strict";O.d(lt,{B:()=>Di,H:()=>Ln,a:()=>He,b:()=>gt,c:()=>Cr,e:()=>wn,f:()=>Dr,g:()=>ze,h:()=>Gn,i:()=>En,j:()=>Or,k:()=>ot,p:()=>he,r:()=>dn,s:()=>Te});var c=O(5861);let G,Ae,Ee,Y=!1,de=!1,Me=!1,fe=!1,re=!1;const Q=typeof window<"u"?window:{},oe=Q.document||{head:{}},Z={$flags$:0,$resourcesUrl$:"",jmp:X=>X(),raf:X=>requestAnimationFrame(X),ael:(X,ge,tt,ft)=>X.addEventListener(ge,tt,ft),rel:(X,ge,tt,ft)=>X.removeEventListener(ge,tt,ft),ce:(X,ge)=>new CustomEvent(X,ge)},Te=X=>{Object.assign(Z,X)},he=X=>Promise.resolve(X),ye=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),je=(X,ge,tt,ft)=>{tt&&tt.map(([pe,Se,ht])=>{const At=J(X,pe),Mt=Ze(ge,ht),Bt=nt(pe);Z.ael(At,Se,Mt,Bt),(ge.$rmListeners$=ge.$rmListeners$||[]).push(()=>Z.rel(At,Se,Mt,Bt))})},Ze=(X,ge)=>tt=>{try{256&X.$flags$?X.$lazyInstance$[ge](tt):(X.$queuedListeners$=X.$queuedListeners$||[]).push([ge,tt])}catch(ft){vn(ft)}},J=(X,ge)=>4&ge?oe:8&ge?Q:16&ge?oe.body:X,nt=X=>0!=(2&X),It="s-id",le="sty-id",me="http://www.w3.org/1999/xlink",Ne=new WeakMap,dt=(X,ge,tt)=>{let ft=Wr.get(X);ye&&tt?(ft=ft||new CSSStyleSheet,ft.replace(ge)):ft=ge,Wr.set(X,ft)},Ue=(X,ge,tt,ft)=>{let pe=Re(ge,tt);const Se=Wr.get(pe);if(X=11===X.nodeType?X:oe,Se)if("string"==typeof Se){let At,ht=Ne.get(X=X.head||X);ht||Ne.set(X,ht=new Set),ht.has(pe)||(X.host&&(At=X.querySelector(`[${le}="${pe}"]`))?At.innerHTML=Se:(At=oe.createElement("style"),At.innerHTML=Se,X.insertBefore(At,X.querySelector("link"))),ht&&ht.add(pe))}else X.adoptedStyleSheets.includes(Se)||(X.adoptedStyleSheets=[...X.adoptedStyleSheets,Se]);return pe},Re=(X,ge)=>"sc-"+(ge&&32&X.$flags$?X.$tagName$+"-"+ge:X.$tagName$),Pe=X=>X.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),He=X=>ai.push(X),ze=X=>cn(X).$modeName$,Et={},qt=X=>"object"==(X=typeof X)||"function"===X,Gn=(X,ge,...tt)=>{let ft=null,pe=null,Se=null,ht=!1,At=!1;const Mt=[],Bt=On=>{for(let kn=0;kn<On.length;kn++)ft=On[kn],Array.isArray(ft)?Bt(ft):null!=ft&&"boolean"!=typeof ft&&((ht="function"!=typeof X&&!qt(ft))&&(ft=String(ft)),ht&&At?Mt[Mt.length-1].$text$+=ft:Mt.push(ht?Sn(null,ft):ft),At=ht)};if(Bt(tt),ge){ge.key&&(pe=ge.key),ge.name&&(Se=ge.name);{const On=ge.className||ge.class;On&&(ge.class="object"!=typeof On?On:Object.keys(On).filter(kn=>On[kn]).join(" "))}}if("function"==typeof X)return X(null===ge?{}:ge,Mt,Rn);const Yt=Sn(X,null);return Yt.$attrs$=ge,Mt.length>0&&(Yt.$children$=Mt),Yt.$key$=pe,Yt.$name$=Se,Yt},Sn=(X,ge)=>({$flags$:0,$tag$:X,$text$:ge,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ln={},Rn={forEach:(X,ge)=>X.map(mr).forEach(ge),map:(X,ge)=>X.map(mr).map(ge).map(Rt)},mr=X=>({vattrs:X.$attrs$,vchildren:X.$children$,vkey:X.$key$,vname:X.$name$,vtag:X.$tag$,vtext:X.$text$}),Rt=X=>{if("function"==typeof X.vtag){const tt=Object.assign({},X.vattrs);return X.vkey&&(tt.key=X.vkey),X.vname&&(tt.name=X.vname),Gn(X.vtag,tt,...X.vchildren||[])}const ge=Sn(X.vtag,X.vtext);return ge.$attrs$=X.vattrs,ge.$children$=X.vchildren,ge.$key$=X.vkey,ge.$name$=X.vname,ge},tr=(X,ge,tt,ft,pe,Se)=>{if(tt!==ft){let ht=Jn(X,ge),At=ge.toLowerCase();if("class"===ge){const Mt=X.classList,Bt=Ir(tt),Yt=Ir(ft);Mt.remove(...Bt.filter(On=>On&&!Yt.includes(On))),Mt.add(...Yt.filter(On=>On&&!Bt.includes(On)))}else if("style"===ge){for(const Mt in tt)(!ft||null==ft[Mt])&&(Mt.includes("-")?X.style.removeProperty(Mt):X.style[Mt]="");for(const Mt in ft)(!tt||ft[Mt]!==tt[Mt])&&(Mt.includes("-")?X.style.setProperty(Mt,ft[Mt]):X.style[Mt]=ft[Mt])}else if("key"!==ge)if("ref"===ge)ft&&ft(X);else if(ht||"o"!==ge[0]||"n"!==ge[1]){const Mt=qt(ft);if((ht||Mt&&null!==ft)&&!pe)try{if(X.tagName.includes("-"))X[ge]=ft;else{const Yt=ft??"";"list"===ge?ht=!1:(null==tt||X[ge]!=Yt)&&(X[ge]=Yt)}}catch{}let Bt=!1;At!==(At=At.replace(/^xlink\:?/,""))&&(ge=At,Bt=!0),null==ft||!1===ft?(!1!==ft||""===X.getAttribute(ge))&&(Bt?X.removeAttributeNS(me,ge):X.removeAttribute(ge)):(!ht||4&Se||pe)&&!Mt&&(ft=!0===ft?"":ft,Bt?X.setAttributeNS(me,ge,ft):X.setAttribute(ge,ft))}else ge="-"===ge[2]?ge.slice(3):Jn(Q,At)?At.slice(2):At[2]+ge.slice(3),tt&&Z.rel(X,ge,tt,!1),ft&&Z.ael(X,ge,ft,!1)}},Wn=/\s/,Ir=X=>X?X.split(Wn):[],sr=(X,ge,tt,ft)=>{const pe=11===ge.$elm$.nodeType&&ge.$elm$.host?ge.$elm$.host:ge.$elm$,Se=X&&X.$attrs$||Et,ht=ge.$attrs$||Et;for(ft in Se)ft in ht||tr(pe,ft,Se[ft],void 0,tt,ge.$flags$);for(ft in ht)tr(pe,ft,Se[ft],ht[ft],tt,ge.$flags$)},un=(X,ge,tt,ft)=>{const pe=ge.$children$[tt];let ht,At,Mt,Se=0;if(Y||(Me=!0,"slot"===pe.$tag$&&(G&&ft.classList.add(G+"-s"),pe.$flags$|=pe.$children$?2:1)),null!==pe.$text$)ht=pe.$elm$=oe.createTextNode(pe.$text$);else if(1&pe.$flags$)ht=pe.$elm$=oe.createTextNode("");else{if(fe||(fe="svg"===pe.$tag$),ht=pe.$elm$=oe.createElementNS(fe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&pe.$flags$?"slot-fb":pe.$tag$),fe&&"foreignObject"===pe.$tag$&&(fe=!1),sr(null,pe,fe),(X=>null!=X)(G)&&ht["s-si"]!==G&&ht.classList.add(ht["s-si"]=G),pe.$children$)for(Se=0;Se<pe.$children$.length;++Se)At=un(X,pe,Se,ht),At&&ht.appendChild(At);"svg"===pe.$tag$?fe=!1:"foreignObject"===ht.tagName&&(fe=!0)}return ht["s-hn"]=Ee,3&pe.$flags$&&(ht["s-sr"]=!0,ht["s-cr"]=Ae,ht["s-sn"]=pe.$name$||"",Mt=X&&X.$children$&&X.$children$[tt],Mt&&Mt.$tag$===pe.$tag$&&X.$elm$&&or(X.$elm$,!1)),ht},or=(X,ge)=>{Z.$flags$|=1;const tt=X.childNodes;for(let ft=tt.length-1;ft>=0;ft--){const pe=tt[ft];pe["s-hn"]!==Ee&&pe["s-ol"]&&(jt(pe).insertBefore(pe,mt(pe)),pe["s-ol"].remove(),pe["s-ol"]=void 0,Me=!0),ge&&or(pe,ge)}Z.$flags$&=-2},Nt=(X,ge,tt,ft,pe,Se)=>{let At,ht=X["s-cr"]&&X["s-cr"].parentNode||X;for(ht.shadowRoot&&ht.tagName===Ee&&(ht=ht.shadowRoot);pe<=Se;++pe)ft[pe]&&(At=un(null,tt,pe,X),At&&(ft[pe].$elm$=At,ht.insertBefore(At,mt(ge))))},Fe=(X,ge,tt,ft,pe)=>{for(;ge<=tt;++ge)(ft=X[ge])&&(pe=ft.$elm$,$r(ft),de=!0,pe["s-ol"]?pe["s-ol"].remove():or(pe,!0),pe.remove())},Pt=(X,ge)=>X.$tag$===ge.$tag$&&("slot"===X.$tag$?X.$name$===ge.$name$:X.$key$===ge.$key$),mt=X=>X&&X["s-ol"]||X,jt=X=>(X["s-ol"]?X["s-ol"]:X).parentNode,qn=(X,ge)=>{const tt=ge.$elm$=X.$elm$,ft=X.$children$,pe=ge.$children$,Se=ge.$tag$,ht=ge.$text$;let At;null===ht?(fe="svg"===Se||"foreignObject"!==Se&&fe,"slot"===Se||sr(X,ge,fe),null!==ft&&null!==pe?((X,ge,tt,ft)=>{let Sr,Vr,pe=0,Se=0,ht=0,At=0,Mt=ge.length-1,Bt=ge[0],Yt=ge[Mt],On=ft.length-1,kn=ft[0],hr=ft[On];for(;pe<=Mt&&Se<=On;)if(null==Bt)Bt=ge[++pe];else if(null==Yt)Yt=ge[--Mt];else if(null==kn)kn=ft[++Se];else if(null==hr)hr=ft[--On];else if(Pt(Bt,kn))qn(Bt,kn),Bt=ge[++pe],kn=ft[++Se];else if(Pt(Yt,hr))qn(Yt,hr),Yt=ge[--Mt],hr=ft[--On];else if(Pt(Bt,hr))("slot"===Bt.$tag$||"slot"===hr.$tag$)&&or(Bt.$elm$.parentNode,!1),qn(Bt,hr),X.insertBefore(Bt.$elm$,Yt.$elm$.nextSibling),Bt=ge[++pe],hr=ft[--On];else if(Pt(Yt,kn))("slot"===Bt.$tag$||"slot"===hr.$tag$)&&or(Yt.$elm$.parentNode,!1),qn(Yt,kn),X.insertBefore(Yt.$elm$,Bt.$elm$),Yt=ge[--Mt],kn=ft[++Se];else{for(ht=-1,At=pe;At<=Mt;++At)if(ge[At]&&null!==ge[At].$key$&&ge[At].$key$===kn.$key$){ht=At;break}ht>=0?(Vr=ge[ht],Vr.$tag$!==kn.$tag$?Sr=un(ge&&ge[Se],tt,ht,X):(qn(Vr,kn),ge[ht]=void 0,Sr=Vr.$elm$),kn=ft[++Se]):(Sr=un(ge&&ge[Se],tt,Se,X),kn=ft[++Se]),Sr&&jt(Bt.$elm$).insertBefore(Sr,mt(Bt.$elm$))}pe>Mt?Nt(X,null==ft[On+1]?null:ft[On+1].$elm$,tt,ft,Se,On):Se>On&&Fe(ge,pe,Mt)})(tt,ft,ge,pe):null!==pe?(null!==X.$text$&&(tt.textContent=""),Nt(tt,null,ge,pe,0,pe.length-1)):null!==ft&&Fe(ft,0,ft.length-1),fe&&"svg"===Se&&(fe=!1)):(At=tt["s-cr"])?At.parentNode.textContent=ht:X.$text$!==ht&&(tt.data=ht)},fr=X=>{const ge=X.childNodes;let tt,ft,pe,Se,ht,At;for(ft=0,pe=ge.length;ft<pe;ft++)if(tt=ge[ft],1===tt.nodeType){if(tt["s-sr"])for(ht=tt["s-sn"],tt.hidden=!1,Se=0;Se<pe;Se++)if(At=ge[Se].nodeType,ge[Se]["s-hn"]!==tt["s-hn"]||""!==ht){if(1===At&&ht===ge[Se].getAttribute("slot")){tt.hidden=!0;break}}else if(1===At||3===At&&""!==ge[Se].textContent.trim()){tt.hidden=!0;break}fr(tt)}},Qt=[],Mn=X=>{let ge,tt,ft,pe,Se,ht,At=0;const Mt=X.childNodes,Bt=Mt.length;for(;At<Bt;At++){if(ge=Mt[At],ge["s-sr"]&&(tt=ge["s-cr"])&&tt.parentNode)for(ft=tt.parentNode.childNodes,pe=ge["s-sn"],ht=ft.length-1;ht>=0;ht--)tt=ft[ht],!tt["s-cn"]&&!tt["s-nr"]&&tt["s-hn"]!==ge["s-hn"]&&(yr(tt,pe)?(Se=Qt.find(Yt=>Yt.$nodeToRelocate$===tt),de=!0,tt["s-sn"]=tt["s-sn"]||pe,Se?Se.$slotRefNode$=ge:Qt.push({$slotRefNode$:ge,$nodeToRelocate$:tt}),tt["s-sr"]&&Qt.map(Yt=>{yr(Yt.$nodeToRelocate$,tt["s-sn"])&&(Se=Qt.find(On=>On.$nodeToRelocate$===tt),Se&&!Yt.$slotRefNode$&&(Yt.$slotRefNode$=Se.$slotRefNode$))})):Qt.some(Yt=>Yt.$nodeToRelocate$===tt)||Qt.push({$nodeToRelocate$:tt}));1===ge.nodeType&&Mn(ge)}},yr=(X,ge)=>1===X.nodeType?null===X.getAttribute("slot")&&""===ge||X.getAttribute("slot")===ge:X["s-sn"]===ge||""===ge,$r=X=>{X.$attrs$&&X.$attrs$.ref&&X.$attrs$.ref(null),X.$children$&&X.$children$.map($r)},En=X=>cn(X).$hostElement$,wn=(X,ge,tt)=>{const ft=En(X);return{emit:pe=>jr(ft,ge,{bubbles:!!(4&tt),composed:!!(2&tt),cancelable:!!(1&tt),detail:pe})}},jr=(X,ge,tt)=>{const ft=Z.ce(ge,tt);return X.dispatchEvent(ft),ft},bn=(X,ge)=>{ge&&!X.$onRenderResolve$&&ge["s-p"]&&ge["s-p"].push(new Promise(tt=>X.$onRenderResolve$=tt))},nr=(X,ge)=>{if(X.$flags$|=16,!(4&X.$flags$))return bn(X,X.$ancestorComponent$),Cr(()=>Yn(X,ge));X.$flags$|=512},Yn=(X,ge)=>{const ft=X.$lazyInstance$;let pe;return ge&&(X.$flags$|=256,X.$queuedListeners$&&(X.$queuedListeners$.map(([Se,ht])=>be(ft,Se,ht)),X.$queuedListeners$=null),pe=be(ft,"componentWillLoad")),pe=qe(pe,()=>be(ft,"componentWillRender")),qe(pe,()=>Br(X,ft,ge))},Br=function(){var X=(0,c.Z)(function*(ge,tt,ft){const pe=ge.$hostElement$,ht=pe["s-rc"];ft&&(X=>{const ge=X.$cmpMeta$,tt=X.$hostElement$,ft=ge.$flags$,Se=Ue(tt.shadowRoot?tt.shadowRoot:tt.getRootNode(),ge,X.$modeName$);10&ft&&(tt["s-sc"]=Se,tt.classList.add(Se+"-h"),2&ft&&tt.classList.add(Se+"-s"))})(ge);lr(ge,tt),ht&&(ht.map(Mt=>Mt()),pe["s-rc"]=void 0);{const Mt=pe["s-p"],Bt=()=>br(ge);0===Mt.length?Bt():(Promise.all(Mt).then(Bt),ge.$flags$|=4,Mt.length=0)}});return function(tt,ft,pe){return X.apply(this,arguments)}}(),lr=(X,ge,tt)=>{try{ge=ge.render&&ge.render(),X.$flags$&=-17,X.$flags$|=2,((X,ge)=>{const tt=X.$hostElement$,ft=X.$cmpMeta$,pe=X.$vnode$||Sn(null,null),Se=(X=>X&&X.$tag$===Ln)(ge)?ge:Gn(null,null,ge);if(Ee=tt.tagName,ft.$attrsToReflect$&&(Se.$attrs$=Se.$attrs$||{},ft.$attrsToReflect$.map(([ht,At])=>Se.$attrs$[At]=tt[ht])),Se.$tag$=null,Se.$flags$|=4,X.$vnode$=Se,Se.$elm$=pe.$elm$=tt.shadowRoot||tt,G=tt["s-sc"],Ae=tt["s-cr"],Y=0!=(1&ft.$flags$),de=!1,qn(pe,Se),Z.$flags$|=1,Me){Mn(Se.$elm$);let ht,At,Mt,Bt,Yt,On,kn=0;for(;kn<Qt.length;kn++)ht=Qt[kn],At=ht.$nodeToRelocate$,At["s-ol"]||(Mt=oe.createTextNode(""),Mt["s-nr"]=At,At.parentNode.insertBefore(At["s-ol"]=Mt,At));for(kn=0;kn<Qt.length;kn++)if(ht=Qt[kn],At=ht.$nodeToRelocate$,ht.$slotRefNode$){for(Bt=ht.$slotRefNode$.parentNode,Yt=ht.$slotRefNode$.nextSibling,Mt=At["s-ol"];Mt=Mt.previousSibling;)if(On=Mt["s-nr"],On&&On["s-sn"]===At["s-sn"]&&Bt===On.parentNode&&(On=On.nextSibling,!On||!On["s-nr"])){Yt=On;break}(!Yt&&Bt!==At.parentNode||At.nextSibling!==Yt)&&At!==Yt&&(!At["s-hn"]&&At["s-ol"]&&(At["s-hn"]=At["s-ol"].parentNode.nodeName),Bt.insertBefore(At,Yt))}else 1===At.nodeType&&(At.hidden=!0)}de&&fr(Se.$elm$),Z.$flags$&=-2,Qt.length=0})(X,ge)}catch(ft){vn(ft,X.$hostElement$)}return null},br=X=>{const tt=X.$hostElement$,pe=X.$lazyInstance$,Se=X.$ancestorComponent$;be(pe,"componentDidRender"),64&X.$flags$?be(pe,"componentDidUpdate"):(X.$flags$|=64,kt(tt),be(pe,"componentDidLoad"),X.$onReadyResolve$(tt),Se||Oe()),X.$onInstanceResolve$(tt),X.$onRenderResolve$&&(X.$onRenderResolve$(),X.$onRenderResolve$=void 0),512&X.$flags$&&Vi(()=>nr(X,!1)),X.$flags$&=-517},Or=X=>{{const ge=cn(X),tt=ge.$hostElement$.isConnected;return tt&&2==(18&ge.$flags$)&&nr(ge,!1),tt}},Oe=X=>{kt(oe.documentElement),Vi(()=>jr(Q,"appload",{detail:{namespace:"ionic"}}))},be=(X,ge,tt)=>{if(X&&X[ge])try{return X[ge](tt)}catch(ft){vn(ft)}},qe=(X,ge)=>X&&X.then?X.then(ge):ge(),kt=X=>X.classList.add("hydrated"),fn=(X,ge,tt,ft,pe,Se,ht)=>{let At,Mt,Bt,Yt;if(1===Se.nodeType){for(At=Se.getAttribute("c-id"),At&&(Mt=At.split("."),(Mt[0]===ht||"0"===Mt[0])&&(Bt={$flags$:0,$hostId$:Mt[0],$nodeId$:Mt[1],$depth$:Mt[2],$index$:Mt[3],$tag$:Se.tagName.toLowerCase(),$elm$:Se,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ge.push(Bt),Se.removeAttribute("c-id"),X.$children$||(X.$children$=[]),X.$children$[Bt.$index$]=Bt,X=Bt,ft&&"0"===Bt.$depth$&&(ft[Bt.$index$]=Bt.$elm$))),Yt=Se.childNodes.length-1;Yt>=0;Yt--)fn(X,ge,tt,ft,pe,Se.childNodes[Yt],ht);if(Se.shadowRoot)for(Yt=Se.shadowRoot.childNodes.length-1;Yt>=0;Yt--)fn(X,ge,tt,ft,pe,Se.shadowRoot.childNodes[Yt],ht)}else if(8===Se.nodeType)Mt=Se.nodeValue.split("."),(Mt[1]===ht||"0"===Mt[1])&&(At=Mt[0],Bt={$flags$:0,$hostId$:Mt[1],$nodeId$:Mt[2],$depth$:Mt[3],$index$:Mt[4],$elm$:Se,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===At?(Bt.$elm$=Se.nextSibling,Bt.$elm$&&3===Bt.$elm$.nodeType&&(Bt.$text$=Bt.$elm$.textContent,ge.push(Bt),Se.remove(),X.$children$||(X.$children$=[]),X.$children$[Bt.$index$]=Bt,ft&&"0"===Bt.$depth$&&(ft[Bt.$index$]=Bt.$elm$))):Bt.$hostId$===ht&&("s"===At?(Bt.$tag$="slot",Se["s-sn"]=Mt[5]?Bt.$name$=Mt[5]:"",Se["s-sr"]=!0,ft&&(Bt.$elm$=oe.createElement(Bt.$tag$),Bt.$name$&&Bt.$elm$.setAttribute("name",Bt.$name$),Se.parentNode.insertBefore(Bt.$elm$,Se),Se.remove(),"0"===Bt.$depth$&&(ft[Bt.$index$]=Bt.$elm$)),tt.push(Bt),X.$children$||(X.$children$=[]),X.$children$[Bt.$index$]=Bt):"r"===At&&(ft?Se.remove():(pe["s-cr"]=Se,Se["s-cn"]=!0))));else if(X&&"style"===X.$tag$){const On=Sn(null,Se.textContent);On.$elm$=Se,On.$index$="0",X.$children$=[On]}},Hn=(X,ge)=>{if(1===X.nodeType){let tt=0;for(;tt<X.childNodes.length;tt++)Hn(X.childNodes[tt],ge);if(X.shadowRoot)for(tt=0;tt<X.shadowRoot.childNodes.length;tt++)Hn(X.shadowRoot.childNodes[tt],ge)}else if(8===X.nodeType){const tt=X.nodeValue.split(".");"o"===tt[0]&&(ge.set(tt[1]+"."+tt[2],X),X.nodeValue="",X["s-en"]=tt[3])}},Ye=(X,ge,tt)=>{if(ge.$members$){X.watchers&&(ge.$watchers$=X.watchers);const ft=Object.entries(ge.$members$),pe=X.prototype;if(ft.map(([Se,[ht]])=>{31&ht||2&tt&&32&ht?Object.defineProperty(pe,Se,{get(){return((X,ge)=>cn(this).$instanceValues$.get(ge))(0,Se)},set(At){((X,ge,tt,ft)=>{const pe=cn(X),Se=pe.$hostElement$,ht=pe.$instanceValues$.get(ge),At=pe.$flags$,Mt=pe.$lazyInstance$;tt=((X,ge)=>null==X||qt(X)?X:4&ge?"false"!==X&&(""===X||!!X):2&ge?parseFloat(X):1&ge?String(X):X)(tt,ft.$members$[ge][0]);const Bt=Number.isNaN(ht)&&Number.isNaN(tt);if((!(8&At)||void 0===ht)&&tt!==ht&&!Bt&&(pe.$instanceValues$.set(ge,tt),Mt)){if(ft.$watchers$&&128&At){const On=ft.$watchers$[ge];On&&On.map(kn=>{try{Mt[kn](tt,ht,ge)}catch(hr){vn(hr,Se)}})}2==(18&At)&&nr(pe,!1)}})(this,Se,At,ge)},configurable:!0,enumerable:!0}):1&tt&&64&ht&&Object.defineProperty(pe,Se,{value(...At){const Mt=cn(this);return Mt.$onInstancePromise$.then(()=>Mt.$lazyInstance$[Se](...At))}})}),1&tt){const Se=new Map;pe.attributeChangedCallback=function(ht,At,Mt){Z.jmp(()=>{const Bt=Se.get(ht);if(this.hasOwnProperty(Bt))Mt=this[Bt],delete this[Bt];else if(pe.hasOwnProperty(Bt)&&"number"==typeof this[Bt]&&this[Bt]==Mt)return;this[Bt]=(null!==Mt||"boolean"!=typeof this[Bt])&&Mt})},X.observedAttributes=ft.filter(([ht,At])=>15&At[0]).map(([ht,At])=>{const Mt=At[1]||ht;return Se.set(Mt,ht),512&At[0]&&ge.$attrsToReflect$.push([ht,Mt]),Mt})}}return X},we=function(){var X=(0,c.Z)(function*(ge,tt,ft,pe,Se){if(0==(32&tt.$flags$)){{if(tt.$flags$|=32,(Se=Qr(ft)).then){const Bt=()=>{};Se=yield Se,Bt()}Se.isProxied||(ft.$watchers$=Se.watchers,Ye(Se,ft,2),Se.isProxied=!0);const Mt=()=>{};tt.$flags$|=8;try{new Se(tt)}catch(Bt){vn(Bt)}tt.$flags$&=-9,tt.$flags$|=128,Mt(),ve(tt.$lazyInstance$)}if(Se.style){let Mt=Se.style;"string"!=typeof Mt&&(Mt=Mt[tt.$modeName$=(X=>ai.map(ge=>ge(X)).find(ge=>!!ge))(ge)]);const Bt=Re(ft,tt.$modeName$);if(!Wr.has(Bt)){const Yt=()=>{};dt(Bt,Mt,!!(1&ft.$flags$)),Yt()}}}const ht=tt.$ancestorComponent$,At=()=>nr(tt,!0);ht&&ht["s-rc"]?ht["s-rc"].push(At):At()});return function(tt,ft,pe,Se,ht){return X.apply(this,arguments)}}(),ve=X=>{be(X,"connectedCallback")},bt=X=>{const ge=X["s-cr"]=oe.createComment("");ge["s-cn"]=!0,X.insertBefore(ge,X.firstChild)},gt=(X,ge={})=>{const ft=[],pe=ge.exclude||[],Se=Q.customElements,ht=oe.head,At=ht.querySelector("meta[charset]"),Mt=oe.createElement("style"),Bt=[],Yt=oe.querySelectorAll(`[${le}]`);let On,kn=!0,hr=0;for(Object.assign(Z,ge),Z.$resourcesUrl$=new URL(ge.resourcesUrl||"./",oe.baseURI).href,Z.$flags$|=2;hr<Yt.length;hr++)dt(Yt[hr].getAttribute(le),Pe(Yt[hr].innerHTML),!0);X.map(Sr=>{Sr[1].map(Vr=>{const gi={$flags$:Vr[0],$tagName$:Vr[1],$members$:Vr[2],$listeners$:Vr[3]};gi.$members$=Vr[2],gi.$listeners$=Vr[3],gi.$attrsToReflect$=[],gi.$watchers$={};const fs=gi.$tagName$,rt=class extends HTMLElement{constructor(Ke){super(Ke),Xt(Ke=this,gi),1&gi.$flags$&&Ke.attachShadow({mode:"open",delegatesFocus:!!(16&gi.$flags$)})}connectedCallback(){On&&(clearTimeout(On),On=null),kn?Bt.push(this):Z.jmp(()=>(X=>{if(0==(1&Z.$flags$)){const ge=cn(X),tt=ge.$cmpMeta$,ft=()=>{};if(1&ge.$flags$)je(X,ge,tt.$listeners$),ve(ge.$lazyInstance$);else{let pe;if(ge.$flags$|=1,pe=X.getAttribute(It),pe){if(1&tt.$flags$){const Se=Ue(X.shadowRoot,tt,X.getAttribute("s-mode"));X.classList.remove(Se+"-h",Se+"-s")}((X,ge,tt,ft)=>{const Se=X.shadowRoot,ht=[],Mt=Se?[]:null,Bt=ft.$vnode$=Sn(ge,null);Z.$orgLocNodes$||Hn(oe.body,Z.$orgLocNodes$=new Map),X[It]=tt,X.removeAttribute(It),fn(Bt,ht,[],Mt,X,X,tt),ht.map(Yt=>{const On=Yt.$hostId$+"."+Yt.$nodeId$,kn=Z.$orgLocNodes$.get(On),hr=Yt.$elm$;kn&&""===kn["s-en"]&&kn.parentNode.insertBefore(hr,kn.nextSibling),Se||(hr["s-hn"]=ge,kn&&(hr["s-ol"]=kn,hr["s-ol"]["s-nr"]=hr)),Z.$orgLocNodes$.delete(On)}),Se&&Mt.map(Yt=>{Yt&&Se.appendChild(Yt)})})(X,tt.$tagName$,pe,ge)}pe||12&tt.$flags$&&bt(X);{let Se=X;for(;Se=Se.parentNode||Se.host;)if(1===Se.nodeType&&Se.hasAttribute("s-id")&&Se["s-p"]||Se["s-p"]){bn(ge,ge.$ancestorComponent$=Se);break}}tt.$members$&&Object.entries(tt.$members$).map(([Se,[ht]])=>{if(31&ht&&X.hasOwnProperty(Se)){const At=X[Se];delete X[Se],X[Se]=At}}),Vi(()=>we(X,ge,tt))}ft()}})(this))}disconnectedCallback(){Z.jmp(()=>(X=>{if(0==(1&Z.$flags$)){const ge=cn(this),tt=ge.$lazyInstance$;ge.$rmListeners$&&(ge.$rmListeners$.map(ft=>ft()),ge.$rmListeners$=void 0),be(tt,"disconnectedCallback")}})())}componentOnReady(){return cn(this).$onReadyPromise$}};gi.$lazyBundleId$=Sr[0],!pe.includes(fs)&&!Se.get(fs)&&(ft.push(fs),Se.define(fs,Ye(rt,gi,1)))})}),Mt.innerHTML=ft+"{visibility:hidden}.hydrated{visibility:inherit}",Mt.setAttribute("data-styles",""),ht.insertBefore(Mt,At?At.nextSibling:ht.firstChild),kn=!1,Bt.length?Bt.map(Sr=>Sr.connectedCallback()):Z.jmp(()=>On=setTimeout(Oe,30))},ot=X=>{const ge=new URL(X,Z.$resourcesUrl$);return ge.origin!==Q.location.origin?ge.href:ge.pathname},xt=new WeakMap,cn=X=>xt.get(X),dn=(X,ge)=>xt.set(ge.$lazyInstance$=X,ge),Xt=(X,ge)=>{const tt={$flags$:0,$hostElement$:X,$cmpMeta$:ge,$instanceValues$:new Map};return tt.$onInstancePromise$=new Promise(ft=>tt.$onInstanceResolve$=ft),tt.$onReadyPromise$=new Promise(ft=>tt.$onReadyResolve$=ft),X["s-p"]=[],X["s-rc"]=[],je(X,tt,ge.$listeners$),xt.set(X,tt)},Jn=(X,ge)=>ge in X,vn=(X,ge)=>(0,console.error)(X,ge),rr=new Map,Qr=(X,ge,tt)=>{const ft=X.$tagName$.replace(/-/g,"_"),pe=X.$lazyBundleId$,Se=rr.get(pe);return Se?Se[ft]:O(863)(`./${pe}.entry.js`).then(ht=>(rr.set(pe,ht),ht[ft]),vn)},Wr=new Map,ai=[],zr=[],Ei=[],bi=(X,ge)=>tt=>{X.push(tt),re||(re=!0,ge&&4&Z.$flags$?Vi(ti):Z.raf(ti))},pr=X=>{for(let ge=0;ge<X.length;ge++)try{X[ge](performance.now())}catch(tt){vn(tt)}X.length=0},ti=()=>{pr(zr),pr(Ei),(re=zr.length>0)&&Z.raf(ti)},Vi=X=>he().then(X),Dr=bi(zr,!1),Cr=bi(Ei,!0),Di={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},97:(Jt,lt,O)=>{"use strict";O.d(lt,{m:()=>Q});var c=O(5861),F=O(7593),G=O(3756),Ae=O(5729),Ee=O(9442);const Y=oe=>(0,Ee.c)().duration(oe?400:300),de=oe=>{let Z,Te;const et=oe.width+8,he=(0,Ee.c)(),ye=(0,Ee.c)();oe.isEndSide?(Z=et+"px",Te="0px"):(Z=-et+"px",Te="0px"),he.addElement(oe.menuInnerEl).fromTo("transform",`translateX(${Z})`,`translateX(${Te})`);const Ze="ios"===(0,Ae.b)(oe),J=Ze?.2:.25;return ye.addElement(oe.backdropEl).fromTo("opacity",.01,J),Y(Ze).addAnimation([he,ye])},Me=oe=>{let Z,Te;const et=(0,Ae.b)(oe),he=oe.width;oe.isEndSide?(Z=-he+"px",Te=he+"px"):(Z=he+"px",Te=-he+"px");const ye=(0,Ee.c)().addElement(oe.menuInnerEl).fromTo("transform",`translateX(${Te})`,"translateX(0px)"),je=(0,Ee.c)().addElement(oe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Z})`),Ze=(0,Ee.c)().addElement(oe.backdropEl).fromTo("opacity",.01,.32);return Y("ios"===et).addAnimation([ye,je,Ze])},fe=oe=>{const Z=(0,Ae.b)(oe),Te=oe.width*(oe.isEndSide?-1:1)+"px",et=(0,Ee.c)().addElement(oe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Te})`);return Y("ios"===Z).addAnimation(et)},Q=(()=>{const oe=new Map,Z=[],Te=function(){var ut=(0,c.Z)(function*(Re){const Pe=yield nt(Re);return!!Pe&&Pe.open()});return function(Pe){return ut.apply(this,arguments)}}(),et=function(){var ut=(0,c.Z)(function*(Re){const Pe=yield void 0!==Re?nt(Re):$e();return void 0!==Pe&&Pe.close()});return function(Pe){return ut.apply(this,arguments)}}(),he=function(){var ut=(0,c.Z)(function*(Re){const Pe=yield nt(Re);return!!Pe&&Pe.toggle()});return function(Pe){return ut.apply(this,arguments)}}(),ye=function(){var ut=(0,c.Z)(function*(Re,Pe){const ke=yield nt(Pe);return ke&&(ke.disabled=!Re),ke});return function(Pe,ke){return ut.apply(this,arguments)}}(),je=function(){var ut=(0,c.Z)(function*(Re,Pe){const ke=yield nt(Pe);return ke&&(ke.swipeGesture=Re),ke});return function(Pe,ke){return ut.apply(this,arguments)}}(),Ze=function(){var ut=(0,c.Z)(function*(Re){if(null!=Re){const Pe=yield nt(Re);return void 0!==Pe&&Pe.isOpen()}return void 0!==(yield $e())});return function(Pe){return ut.apply(this,arguments)}}(),J=function(){var ut=(0,c.Z)(function*(Re){const Pe=yield nt(Re);return!!Pe&&!Pe.disabled});return function(Pe){return ut.apply(this,arguments)}}(),nt=function(){var ut=(0,c.Z)(function*(Re){return yield Ue(),"start"===Re||"end"===Re?dt(He=>He.side===Re&&!He.disabled)||dt(He=>He.side===Re):null!=Re?dt(ke=>ke.menuId===Re):dt(ke=>!ke.disabled)||(Z.length>0?Z[0].el:void 0)});return function(Pe){return ut.apply(this,arguments)}}(),$e=function(){var ut=(0,c.Z)(function*(){return yield Ue(),W()});return function(){return ut.apply(this,arguments)}}(),st=function(){var ut=(0,c.Z)(function*(){return yield Ue(),ce()});return function(){return ut.apply(this,arguments)}}(),Xe=function(){var ut=(0,c.Z)(function*(){return yield Ue(),Ne()});return function(){return ut.apply(this,arguments)}}(),ct=(ut,Re)=>{oe.set(ut,Re)},Ce=ut=>{const Re=ut.side;Z.filter(Pe=>Pe.side===Re&&Pe!==ut).forEach(Pe=>Pe.disabled=!0)},se=function(){var ut=(0,c.Z)(function*(Re,Pe,ke){if(Ne())return!1;if(Pe){const He=yield $e();He&&Re.el!==He&&(yield He.setOpen(!1,!1))}return Re._setOpen(Pe,ke)});return function(Pe,ke,He){return ut.apply(this,arguments)}}(),W=()=>dt(ut=>ut._isOpen),ce=()=>Z.map(ut=>ut.el),Ne=()=>Z.some(ut=>ut.isAnimating),dt=ut=>{const Re=Z.find(ut);if(void 0!==Re)return Re.el},Ue=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ut=>new Promise(Re=>(0,G.c)(ut,Re))));return ct("reveal",fe),ct("push",Me),ct("overlay",de),typeof document<"u"&&document.addEventListener("ionBackButton",ut=>{const Re=W();Re&&ut.detail.register(F.MENU_BACK_BUTTON_PRIORITY,()=>Re.close())}),{registerAnimation:ct,get:nt,getMenus:st,getOpen:$e,isEnabled:J,swipeGesture:je,isAnimating:Xe,isOpen:Ze,enable:ye,toggle:he,close:et,open:Te,_getOpenSync:W,_createAnimation:(ut,Re)=>{const Pe=oe.get(ut);if(!Pe)throw new Error("animation not registered");return Pe(Re)},_register:ut=>{Z.indexOf(ut)<0&&(ut.disabled||Ce(ut),Z.push(ut))},_unregister:ut=>{const Re=Z.indexOf(ut);Re>-1&&Z.splice(Re,1)},_setOpen:se,_setActiveMenu:Ce}})()},5729:(Jt,lt,O)=>{"use strict";O.d(lt,{a:()=>Q,b:()=>Ne,c:()=>G,g:()=>re,i:()=>dt});var c=O(7205);class F{constructor(){this.m=new Map}reset(ut){this.m=new Map(Object.entries(ut))}get(ut,Re){const Pe=this.m.get(ut);return void 0!==Pe?Pe:Re}getBoolean(ut,Re=!1){const Pe=this.m.get(ut);return void 0===Pe?Re:"string"==typeof Pe?"true"===Pe:!!Pe}getNumber(ut,Re){const Pe=parseFloat(this.m.get(ut));return isNaN(Pe)?void 0!==Re?Re:NaN:Pe}set(ut,Re){this.m.set(ut,Re)}}const G=new F,fe="ionic-persist-config",re=Ue=>oe(Ue),Q=(Ue,ut)=>("string"==typeof Ue&&(ut=Ue,Ue=void 0),re(Ue).includes(ut)),oe=(Ue=window)=>{if(typeof Ue>"u")return[];Ue.Ionic=Ue.Ionic||{};let ut=Ue.Ionic.platforms;return null==ut&&(ut=Ue.Ionic.platforms=Z(Ue),ut.forEach(Re=>Ue.document.documentElement.classList.add(`plt-${Re}`))),ut},Z=Ue=>{const ut=G.get("platform");return Object.keys(W).filter(Re=>{const Pe=ut?.[Re];return"function"==typeof Pe?Pe(Ue):W[Re](Ue)})},et=Ue=>!!(se(Ue,/iPad/i)||se(Ue,/Macintosh/i)&&$e(Ue)),je=Ue=>se(Ue,/android|sink/i),$e=Ue=>me(Ue,"(any-pointer:coarse)"),Xe=Ue=>ct(Ue)||It(Ue),ct=Ue=>!!(Ue.cordova||Ue.phonegap||Ue.PhoneGap),It=Ue=>!!Ue.Capacitor?.isNative,se=(Ue,ut)=>ut.test(Ue.navigator.userAgent),me=(Ue,ut)=>{var Re;return null===(Re=Ue.matchMedia)||void 0===Re?void 0:Re.call(Ue,ut).matches},W={ipad:et,iphone:Ue=>se(Ue,/iPhone/i),ios:Ue=>se(Ue,/iPhone|iPod/i)||et(Ue),android:je,phablet:Ue=>{const ut=Ue.innerWidth,Re=Ue.innerHeight,Pe=Math.min(ut,Re),ke=Math.max(ut,Re);return Pe>390&&Pe<520&&ke>620&&ke<800},tablet:Ue=>{const ut=Ue.innerWidth,Re=Ue.innerHeight,Pe=Math.min(ut,Re),ke=Math.max(ut,Re);return et(Ue)||(Ue=>je(Ue)&&!se(Ue,/mobile/i))(Ue)||Pe>460&&Pe<820&&ke>780&&ke<1400},cordova:ct,capacitor:It,electron:Ue=>se(Ue,/electron/i),pwa:Ue=>{var ut;return!(!(null===(ut=Ue.matchMedia)||void 0===ut?void 0:ut.call(Ue,"(display-mode: standalone)").matches)&&!Ue.navigator.standalone)},mobile:$e,mobileweb:Ue=>$e(Ue)&&!Xe(Ue),desktop:Ue=>!$e(Ue),hybrid:Xe};let ce;const Ne=Ue=>Ue&&(0,c.g)(Ue)||ce,dt=(Ue={})=>{if(typeof window>"u")return;const ut=window.document,Re=window,Pe=Re.Ionic=Re.Ionic||{},ke={};Ue._ael&&(ke.ael=Ue._ael),Ue._rel&&(ke.rel=Ue._rel),Ue._ce&&(ke.ce=Ue._ce),(0,c.s)(ke);const He=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ue=>{try{const ut=Ue.sessionStorage.getItem(fe);return null!==ut?JSON.parse(ut):{}}catch{return{}}})(Re)),{persistConfig:!1}),Pe.config),(Ue=>{const ut={};return Ue.location.search.slice(1).split("&").map(Re=>Re.split("=")).map(([Re,Pe])=>[decodeURIComponent(Re),decodeURIComponent(Pe)]).filter(([Re])=>((Ue,ut)=>Ue.substr(0,ut.length)===ut)(Re,"ionic:")).map(([Re,Pe])=>[Re.slice("ionic:".length),Pe]).forEach(([Re,Pe])=>{ut[Re]=Pe}),ut})(Re)),Ue);G.reset(He),G.getBoolean("persistConfig")&&((Ue,ut)=>{try{Ue.sessionStorage.setItem(fe,JSON.stringify(ut))}catch{return}})(Re,He),oe(Re),Pe.config=G,Pe.mode=ce=G.get("mode",ut.documentElement.getAttribute("mode")||(Q(Re,"ios")?"ios":"md")),G.set("mode",ce),ut.documentElement.setAttribute("mode",ce),ut.documentElement.classList.add(ce),G.getBoolean("_testing")&&G.set("animated",!1);const ze=Tt=>{var en;return null===(en=Tt.tagName)||void 0===en?void 0:en.startsWith("ION-")},Et=Tt=>["ios","md"].includes(Tt);(0,c.a)(Tt=>{for(;Tt;){const en=Tt.mode||Tt.getAttribute("mode");if(en){if(Et(en))return en;ze(Tt)&&console.warn('Invalid ionic mode: "'+en+'", expected: "ios" or "md"')}Tt=Tt.parentElement}return ce})}},4181:(Jt,lt,O)=>{"use strict";O.r(lt),O.d(lt,{iosTransitionAnimation:()=>oe,shadow:()=>Y});var c=O(9442),F=O(9753);O(7205);const Ee=Z=>document.querySelector(`${Z}.ion-cloned-element`),Y=Z=>Z.shadowRoot||Z,de=Z=>{const Te="ION-TABS"===Z.tagName?Z:Z.querySelector("ion-tabs"),et="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Te){const he=Te.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=he?he.querySelector(et):null}return Z.querySelector(et)},Me=(Z,Te)=>{const et="ION-TABS"===Z.tagName?Z:Z.querySelector("ion-tabs");let he=[];if(null!=et){const ye=et.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ye&&(he=ye.querySelectorAll("ion-buttons"))}else he=Z.querySelectorAll("ion-buttons");for(const ye of he){const je=ye.closest("ion-header"),Ze=je&&!je.classList.contains("header-collapse-condense-inactive"),J=ye.querySelector("ion-back-button"),nt=ye.classList.contains("buttons-collapse"),$e="start"===ye.slot||""===ye.slot;if(null!==J&&$e&&(nt&&Ze&&Te||!nt))return J}return null},re=(Z,Te,et,he,ye,je)=>{const Ze=Te?`calc(100% - ${je.right+4}px)`:je.left-4+"px",J=Te?"7px":"-7px",nt=Te?"-4px":"4px",$e=Te?"-4px":"4px",st=Te?"right":"left",Xe=Te?"left":"right",le=et?[{offset:0,opacity:1,transform:`translate3d(${nt}, ${je.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${ye.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${J}, ${ye.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${nt}, ${je.top-46}px, 0) scale(1)`}],me=et?[{offset:0,opacity:1,transform:`translate3d(${$e}, ${je.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${$e}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${$e}, ${je.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${$e}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${$e}, ${je.top-46}px, 0) scale(1)`}],W=(0,c.c)(),ce=(0,c.c)(),Ne=Ee("ion-back-button"),dt=Y(Ne).querySelector(".button-text"),Ue=Y(Ne).querySelector("ion-icon");Ne.text=he.text,Ne.mode=he.mode,Ne.icon=he.icon,Ne.color=he.color,Ne.disabled=he.disabled,Ne.style.setProperty("display","block"),Ne.style.setProperty("position","fixed"),ce.addElement(Ue),W.addElement(dt),W.beforeStyles({"transform-origin":`${st} center`}).beforeAddWrite(()=>{he.style.setProperty("display","none"),Ne.style.setProperty(st,Ze)}).afterAddWrite(()=>{he.style.setProperty("display",""),Ne.style.setProperty("display","none"),Ne.style.removeProperty(st)}).keyframes(le),ce.beforeStyles({"transform-origin":`${Xe} center`}).keyframes(me),Z.addAnimation([W,ce])},Q=(Z,Te,et,he,ye,je)=>{const Ze=Te?`calc(100% - ${ye.right}px)`:`${ye.left}px`,J=Te?"-18px":"18px",nt=Te?"right":"left",Xe=et?[{offset:0,opacity:0,transform:`translate3d(${J}, ${je.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${je.top-4}px, 0) scale(0.5)`}],ct=Ee("ion-title"),It=(0,c.c)();ct.innerText=he.innerText,ct.size=he.size,ct.color=he.color,It.addElement(ct),It.beforeStyles({"transform-origin":`${nt} center`,height:"46px",display:"",position:"relative",[nt]:Ze}).beforeAddWrite(()=>{he.style.setProperty("display","none")}).afterAddWrite(()=>{he.style.setProperty("display",""),ct.style.setProperty("display","none")}).keyframes(Xe),Z.addAnimation(It)},oe=(Z,Te)=>{try{const et="cubic-bezier(0.32,0.72,0,1)",he="opacity",ye="transform",je="0%",J="rtl"===Z.ownerDocument.dir,nt=J?"-99.5%":"99.5%",$e=J?"33%":"-33%",st=Te.enteringEl,Xe=Te.leavingEl,ct="back"===Te.direction,It=st.querySelector(":scope > ion-content"),le=st.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ce=st.querySelectorAll(":scope > ion-header > ion-toolbar"),se=(0,c.c)(),me=(0,c.c)();if(se.addElement(st).duration(Te.duration||540).easing(Te.easing||et).fill("both").beforeRemoveClass("ion-page-invisible"),Xe&&Z){const dt=(0,c.c)();dt.addElement(Z),se.addAnimation(dt)}if(It||0!==Ce.length||0!==le.length?(me.addElement(It),me.addElement(le)):me.addElement(st.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),se.addAnimation(me),ct?me.beforeClearStyles([he]).fromTo("transform",`translateX(${$e})`,`translateX(${je})`).fromTo(he,.8,1):me.beforeClearStyles([he]).fromTo("transform",`translateX(${nt})`,`translateX(${je})`),It){const dt=Y(It).querySelector(".transition-effect");if(dt){const Ue=dt.querySelector(".transition-cover"),ut=dt.querySelector(".transition-shadow"),Re=(0,c.c)(),Pe=(0,c.c)(),ke=(0,c.c)();Re.addElement(dt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pe.addElement(Ue).beforeClearStyles([he]).fromTo(he,0,.1),ke.addElement(ut).beforeClearStyles([he]).fromTo(he,.03,.7),Re.addAnimation([Pe,ke]),me.addAnimation([Re])}}const W=st.querySelector("ion-header.header-collapse-condense"),{forward:ce,backward:Ne}=((Z,Te,et,he,ye)=>{const je=Me(he,et),Ze=de(ye),J=de(he),nt=Me(ye,et),$e=null!==je&&null!==Ze&&!et,st=null!==J&&null!==nt&&et;if($e){const Xe=Ze.getBoundingClientRect(),ct=je.getBoundingClientRect();Q(Z,Te,et,Ze,Xe,ct),re(Z,Te,et,je,Xe,ct)}else if(st){const Xe=J.getBoundingClientRect(),ct=nt.getBoundingClientRect();Q(Z,Te,et,J,Xe,ct),re(Z,Te,et,nt,Xe,ct)}return{forward:$e,backward:st}})(se,J,ct,st,Xe);if(Ce.forEach(dt=>{const Ue=(0,c.c)();Ue.addElement(dt),se.addAnimation(Ue);const ut=(0,c.c)();ut.addElement(dt.querySelector("ion-title"));const Re=(0,c.c)(),Pe=Array.from(dt.querySelectorAll("ion-buttons,[menuToggle]")),ke=dt.closest("ion-header"),He=ke?.classList.contains("header-collapse-condense-inactive");let ze;ze=Pe.filter(ct?qt=>{const Gn=qt.classList.contains("buttons-collapse");return Gn&&!He||!Gn}:qt=>!qt.classList.contains("buttons-collapse")),Re.addElement(ze);const Et=(0,c.c)();Et.addElement(dt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Tt=(0,c.c)();Tt.addElement(Y(dt).querySelector(".toolbar-background"));const en=(0,c.c)(),hn=dt.querySelector("ion-back-button");if(hn&&en.addElement(hn),Ue.addAnimation([ut,Re,Et,Tt,en]),Re.fromTo(he,.01,1),Et.fromTo(he,.01,1),ct)He||ut.fromTo("transform",`translateX(${$e})`,`translateX(${je})`).fromTo(he,.01,1),Et.fromTo("transform",`translateX(${$e})`,`translateX(${je})`),en.fromTo(he,.01,1);else if(W||ut.fromTo("transform",`translateX(${nt})`,`translateX(${je})`).fromTo(he,.01,1),Et.fromTo("transform",`translateX(${nt})`,`translateX(${je})`),Tt.beforeClearStyles([he,"transform"]),ke?.translucent?Tt.fromTo("transform",J?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Tt.fromTo(he,.01,"var(--opacity)"),ce||en.fromTo(he,.01,1),hn&&!ce){const Gn=(0,c.c)();Gn.addElement(Y(hn).querySelector(".button-text")).fromTo("transform",J?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ue.addAnimation(Gn)}}),Xe){const dt=(0,c.c)(),Ue=Xe.querySelector(":scope > ion-content"),ut=Xe.querySelectorAll(":scope > ion-header > ion-toolbar"),Re=Xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ue||0!==ut.length||0!==Re.length?(dt.addElement(Ue),dt.addElement(Re)):dt.addElement(Xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),se.addAnimation(dt),ct){dt.beforeClearStyles([he]).fromTo("transform",`translateX(${je})`,J?"translateX(-100%)":"translateX(100%)");const Pe=(0,F.g)(Xe);se.afterAddWrite(()=>{"normal"===se.getDirection()&&Pe.style.setProperty("display","none")})}else dt.fromTo("transform",`translateX(${je})`,`translateX(${$e})`).fromTo(he,1,.8);if(Ue){const Pe=Y(Ue).querySelector(".transition-effect");if(Pe){const ke=Pe.querySelector(".transition-cover"),He=Pe.querySelector(".transition-shadow"),ze=(0,c.c)(),Et=(0,c.c)(),Tt=(0,c.c)();ze.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Et.addElement(ke).beforeClearStyles([he]).fromTo(he,.1,0),Tt.addElement(He).beforeClearStyles([he]).fromTo(he,.7,.03),ze.addAnimation([Et,Tt]),dt.addAnimation([ze])}}ut.forEach(Pe=>{const ke=(0,c.c)();ke.addElement(Pe);const He=(0,c.c)();He.addElement(Pe.querySelector("ion-title"));const ze=(0,c.c)(),Et=Pe.querySelectorAll("ion-buttons,[menuToggle]"),Tt=Pe.closest("ion-header"),en=Tt?.classList.contains("header-collapse-condense-inactive"),hn=Array.from(Et).filter(Rn=>{const mr=Rn.classList.contains("buttons-collapse");return mr&&!en||!mr});ze.addElement(hn);const qt=(0,c.c)(),Gn=Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Gn.length>0&&qt.addElement(Gn);const Sn=(0,c.c)();Sn.addElement(Y(Pe).querySelector(".toolbar-background"));const Ln=(0,c.c)(),Lr=Pe.querySelector("ion-back-button");if(Lr&&Ln.addElement(Lr),ke.addAnimation([He,ze,qt,Ln,Sn]),se.addAnimation(ke),Ln.fromTo(he,.99,0),ze.fromTo(he,.99,0),qt.fromTo(he,.99,0),ct){if(en||He.fromTo("transform",`translateX(${je})`,J?"translateX(-100%)":"translateX(100%)").fromTo(he,.99,0),qt.fromTo("transform",`translateX(${je})`,J?"translateX(-100%)":"translateX(100%)"),Sn.beforeClearStyles([he,"transform"]),Tt?.translucent?Sn.fromTo("transform","translateX(0px)",J?"translateX(-100%)":"translateX(100%)"):Sn.fromTo(he,"var(--opacity)",0),Lr&&!Ne){const mr=(0,c.c)();mr.addElement(Y(Lr).querySelector(".button-text")).fromTo("transform",`translateX(${je})`,`translateX(${(J?-124:124)+"px"})`),ke.addAnimation(mr)}}else en||He.fromTo("transform",`translateX(${je})`,`translateX(${$e})`).fromTo(he,.99,0).afterClearStyles([ye,he]),qt.fromTo("transform",`translateX(${je})`,`translateX(${$e})`).afterClearStyles([ye,he]),Ln.afterClearStyles([he]),He.afterClearStyles([he]),ze.afterClearStyles([he])})}return se}catch(et){throw et}}},5980:(Jt,lt,O)=>{"use strict";O.r(lt),O.d(lt,{mdTransitionAnimation:()=>Ae});var c=O(9442),F=O(9753);O(7205);const Ae=(Ee,Y)=>{const fe="back"===Y.direction,Q=Y.leavingEl,oe=(0,F.g)(Y.enteringEl),Z=oe.querySelector("ion-toolbar"),Te=(0,c.c)();if(Te.addElement(oe).fill("both").beforeRemoveClass("ion-page-invisible"),fe?Te.duration(Y.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Te.duration(Y.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Z){const et=(0,c.c)();et.addElement(Z),Te.addAnimation(et)}if(Q&&fe){Te.duration(Y.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const et=(0,c.c)();et.addElement((0,F.g)(Q)).onFinish(he=>{1===he&&et.elements.length>0&&et.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Te.addAnimation(et)}return Te}},3280:(Jt,lt,O)=>{"use strict";O.d(lt,{B:()=>Re,a:()=>Me,b:()=>fe,c:()=>Z,d:()=>le,e:()=>et,f:()=>se,g:()=>ce,h:()=>Y,i:()=>dt,j:()=>je,k:()=>ct,l:()=>re,m:()=>Q,s:()=>ut});var c=O(5861),F=O(5729),G=O(7593),Ae=O(3756);let Ee=0;const Y=new WeakMap,de=Pe=>({create:ke=>he(Pe,ke),dismiss:(ke,He,ze)=>st(document,ke,He,Pe,ze),getTop:()=>(0,c.Z)(function*(){return ct(document,Pe)})()}),Me=de("ion-alert"),fe=de("ion-action-sheet"),re=de("ion-loading"),Q=de("ion-modal"),Z=de("ion-popover"),et=Pe=>{typeof document<"u"&&$e(document);const ke=Ee++;Pe.overlayIndex=ke,Pe.hasAttribute("id")||(Pe.id=`ion-overlay-${ke}`)},he=(Pe,ke)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Pe).then(()=>{const He=document.createElement(Pe);return He.classList.add("overlay-hidden"),Object.assign(He,Object.assign(Object.assign({},ke),{hasController:!0})),me(document).appendChild(He),new Promise(ze=>(0,Ae.c)(He,ze))}):Promise.resolve(),ye='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',je=(Pe,ke)=>{let He=Pe.querySelector(ye);const ze=He?.shadowRoot;ze&&(He=ze.querySelector(ye)||He),He?(0,Ae.f)(He):ke.focus()},J=(Pe,ke)=>{const He=Array.from(Pe.querySelectorAll(ye));let ze=He.length>0?He[He.length-1]:null;const Et=ze?.shadowRoot;Et&&(ze=Et.querySelector(ye)||ze),ze?ze.focus():ke.focus()},$e=Pe=>{0===Ee&&(Ee=1,Pe.addEventListener("focus",ke=>{((Pe,ke)=>{const He=ct(ke,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ze=Pe.target;He&&ze&&!He.classList.contains("ion-disable-focus-trap")&&(He.shadowRoot?(()=>{if(He.contains(ze))He.lastFocus=ze;else{const en=He.lastFocus;je(He,He),en===ke.activeElement&&J(He,He),He.lastFocus=ke.activeElement}})():(()=>{if(He===ze)He.lastFocus=void 0;else{const en=(0,Ae.g)(He);if(!en.contains(ze))return;const hn=en.querySelector(".ion-overlay-wrapper");if(!hn)return;if(hn.contains(ze))He.lastFocus=ze;else{const qt=He.lastFocus;je(hn,He),qt===ke.activeElement&&J(hn,He),He.lastFocus=ke.activeElement}}})())})(ke,Pe)},!0),Pe.addEventListener("ionBackButton",ke=>{const He=ct(Pe);He?.backdropDismiss&&ke.detail.register(G.OVERLAY_BACK_BUTTON_PRIORITY,()=>He.dismiss(void 0,Re))}),Pe.addEventListener("keyup",ke=>{if("Escape"===ke.key){const He=ct(Pe);He?.backdropDismiss&&He.dismiss(void 0,Re)}}))},st=(Pe,ke,He,ze,Et)=>{const Tt=ct(Pe,ze,Et);return Tt?Tt.dismiss(ke,He):Promise.reject("overlay does not exist")},ct=(Pe,ke,He)=>{const ze=((Pe,ke)=>(void 0===ke&&(ke="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Pe.querySelectorAll(ke)).filter(He=>He.overlayIndex>0)))(Pe,ke).filter(Et=>!(Pe=>Pe.classList.contains("overlay-hidden"))(Et));return void 0===He?ze[ze.length-1]:ze.find(Et=>Et.id===He)},It=(Pe=!1)=>{const He=me(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!He||(Pe?He.setAttribute("aria-hidden","true"):He.removeAttribute("aria-hidden"))},le=function(){var Pe=(0,c.Z)(function*(ke,He,ze,Et,Tt){var en,hn;if(ke.presented)return;It(!0),ke.presented=!0,ke.willPresent.emit(),null===(en=ke.willPresentShorthand)||void 0===en||en.emit();const qt=(0,F.b)(ke),Gn=ke.enterAnimation?ke.enterAnimation:F.c.get(He,"ios"===qt?ze:Et);(yield W(ke,Gn,ke.el,Tt))&&(ke.didPresent.emit(),null===(hn=ke.didPresentShorthand)||void 0===hn||hn.emit()),"ION-TOAST"!==ke.el.tagName&&Ce(ke.el),ke.keyboardClose&&(null===document.activeElement||!ke.el.contains(document.activeElement))&&ke.el.focus()});return function(He,ze,Et,Tt,en){return Pe.apply(this,arguments)}}(),Ce=function(){var Pe=(0,c.Z)(function*(ke){let He=document.activeElement;if(!He)return;const ze=He?.shadowRoot;ze&&(He=ze.querySelector(ye)||He),yield ke.onDidDismiss(),He.focus()});return function(He){return Pe.apply(this,arguments)}}(),se=function(){var Pe=(0,c.Z)(function*(ke,He,ze,Et,Tt,en,hn){var qt,Gn;if(!ke.presented)return!1;It(!1),ke.presented=!1;try{ke.el.style.setProperty("pointer-events","none"),ke.willDismiss.emit({data:He,role:ze}),null===(qt=ke.willDismissShorthand)||void 0===qt||qt.emit({data:He,role:ze});const Sn=(0,F.b)(ke),Ln=ke.leaveAnimation?ke.leaveAnimation:F.c.get(Et,"ios"===Sn?Tt:en);"gesture"!==ze&&(yield W(ke,Ln,ke.el,hn)),ke.didDismiss.emit({data:He,role:ze}),null===(Gn=ke.didDismissShorthand)||void 0===Gn||Gn.emit({data:He,role:ze}),Y.delete(ke),ke.el.classList.add("overlay-hidden"),ke.el.style.removeProperty("pointer-events")}catch(Sn){console.error(Sn)}return ke.el.remove(),!0});return function(He,ze,Et,Tt,en,hn,qt){return Pe.apply(this,arguments)}}(),me=Pe=>Pe.querySelector("ion-app")||Pe.body,W=function(){var Pe=(0,c.Z)(function*(ke,He,ze,Et){ze.classList.remove("overlay-hidden");const en=He(ke.el,Et);(!ke.animated||!F.c.getBoolean("animated",!0))&&en.duration(0),ke.keyboardClose&&en.beforeAddWrite(()=>{const qt=ze.ownerDocument.activeElement;qt?.matches("input,ion-input, ion-textarea")&&qt.blur()});const hn=Y.get(ke)||[];return Y.set(ke,[...hn,en]),yield en.play(),!0});return function(He,ze,Et,Tt){return Pe.apply(this,arguments)}}(),ce=(Pe,ke)=>{let He;const ze=new Promise(Et=>He=Et);return Ne(Pe,ke,Et=>{He(Et.detail)}),ze},Ne=(Pe,ke,He)=>{const ze=Et=>{(0,Ae.b)(Pe,ke,ze),He(Et)};(0,Ae.a)(Pe,ke,ze)},dt=Pe=>"cancel"===Pe||Pe===Re,Ue=Pe=>Pe(),ut=(Pe,ke)=>{if("function"==typeof Pe)return F.c.get("_zoneGate",Ue)(()=>{try{return Pe(ke)}catch(ze){throw ze}})},Re="backdrop"},6651:(Jt,lt,O)=>{"use strict";O.d(lt,{c:()=>c});var c=(()=>{return(F=c||(c={})).GHZ="Ghz",F.MHZ="Mhz",F.HZ="hz",c;var F})()},7347:(Jt,lt,O)=>{"use strict";O.d(lt,{PA:()=>Ae,$v:()=>G,Cn:()=>c,cz:()=>Ee.c});const c={lat:0,lng:0},G={P1:c,P2:c,antennaOneHeight:0,antennaTwoHeight:0,atmosphericPressure:0,temperature:0,waterDensity:0,antennaSelected:{frecuency:0,name:"Antena por defecto",txPower:0,txAntennaGain:0,txLoss:0,freeSpaceLoss:0,miscLoss:0,rxAntennaGain:0,rxLoss:0},linkName:"Mi primer enlace"},Ae=[{name:"UBIQUITI AIRMAX U-OMT-DISH-5",txAntennaGain:27,frecuency:5,maxDistanceKm:"5 Km",imgPath:"../../../assets/images/antennas/UBIQUITI AIRMAX U-OMT-DISH-5.png",checked:!1},{name:"Ubiquiti airFiber 60 LR",txAntennaGain:38,frecuency:60,maxDistanceKm:"15 Km",imgPath:"../../../assets/images/antennas/Ubiquiti airFiber 60 LR.png",checked:!1},{name:"Ubiquiti airFiber 60 XR",txAntennaGain:26,frecuency:60,maxDistanceKm:"15 Km",imgPath:"../../../assets/images/antennas/Ubiquiti airFiber 60 XR.png",checked:!1},{name:"Ubiquiti airFiber 60 XG",txAntennaGain:43,frecuency:60,maxDistanceKm:"4 Km",imgPath:"../../../assets/images/antennas/Ubiquiti airFiber 60 XG.png",checked:!1},{name:"Ubiquiti airFiber 60 HD",txAntennaGain:35,frecuency:60,maxDistanceKm:"2 Km",imgPath:"../../../assets/images/antennas/Ubiquiti airFiber 60 HD.png",checked:!1},{name:"Ubiquiti GigaBeam",txAntennaGain:38,frecuency:60,maxDistanceKm:"2 Km",imgPath:"../../../assets/images/antennas/Ubiquiti GigaBeam.png",checked:!1},{name:"Ubiquiti AirFiber 24",txAntennaGain:33,frecuency:24.1,maxDistanceKm:"13 Km",imgPath:"../../../assets/images/antennas/Ubiquiti AirFiber 24 - 1.png",checked:!1},{name:"Ubiquiti AirFiber 24 HD",txAntennaGain:33,frecuency:24.05,maxDistanceKm:"20 Km",imgPath:"../../../assets/images/antennas/Ubiquiti AirFiber 24 HD - 1.png",checked:!1},{name:"Ubiquiti Powerbeam PBE 5AC-620",txAntennaGain:29,frecuency:5,maxDistanceKm:"30 Km",imgPath:"../../../assets/images/antennas/Ubiquiti Powerbeam PBE 5AC-620.png",checked:!1},{name:"Ubiquiti PowerBeam AC PBE-5AC-300",txAntennaGain:22,frecuency:5,maxDistanceKm:"30 Km",imgPath:"../../../assets/images/antennas/Ubiquiti PowerBeam AC PBE-5AC-300.png",checked:!1},{name:"Ubiquiti PowerBeam AC PBE-5AC-400",txAntennaGain:25,frecuency:5,maxDistanceKm:"30 Km",imgPath:"../../../assets/images/antennas/Ubiquiti PowerBeam AC PBE-5AC-400.png",checked:!1}];var Ee=O(6651)},4795:(Jt,lt,O)=>{"use strict";O.d(lt,{g:()=>Me});var c=O(8929),F=O(2986),G=O(1709),Ae=O(7347),Ee=O(5062),Y=O(3850),de=O(4941);let Me=(()=>{class fe{constructor(Q,oe,Z){this.afs=Q,this.afAuth=oe,this.db=Z,this.linkSettings=Ae.$v,this.setLinkSettings=new c.xQ,this.setLinkSettings$=this.setLinkSettings.asObservable(),this.updateGeoPoints=new c.xQ,this.updateGeoPoints$=this.updateGeoPoints.asObservable(),this.linkDistance=0,this.atmosphericPressure=0,this.temperature=0,this.waterDensity=0,this.locationName="",this.showTabs=!0}SetUserLinkSettingsData(Q,oe){const Z=this.afs.doc(`LinkSettings/${Q}`);return Z.get().pipe((0,F.q)(1),(0,G.zg)(Te=>Te.exists?Z.update({linkSettings:oe}):Z.set({linkSettings:oe},{merge:!0})))}getUserLinks(Q){return new Promise((oe,Z)=>{this.db.collection("LinkSettings").doc(Q).get().subscribe(Te=>{oe(Te.data())},Te=>{Z(Te)})})}getUserById(Q){return new Promise((oe,Z)=>{this.db.collection("users").doc(Q).get().subscribe(Te=>{oe(Te.data())},Te=>{Z(Te)})})}}return fe.\u0275fac=function(Q){return new(Q||fe)(Ee.LFG(Y.ST),Ee.LFG(de.zQ),Ee.LFG(Y.ST))},fe.\u0275prov=Ee.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},2340:(Jt,lt,O)=>{"use strict";O.d(lt,{N:()=>c});const c={production:!0,weatherAPIKey:"30431f444539c2aad50673a1a9714f6c",mapbox:{accessToken:"pk.eyJ1IjoiYWJpbmFzc2FyIiwiYSI6ImNsajFhdzh1MDEzZTczdnIxMXkwbWJ1MXcifQ.oBeaIBTr8dY1sfzOxJBPjA"},firebaseConfig:{apiKey:"AIzaSyCI1ZME119vdIvNhQU8vDv6ILDveMH26sc",authDomain:"sistema-vrfo.firebaseapp.com",databaseURL:"https://sistema-vrfo-default-rtdb.firebaseio.com",projectId:"sistema-vrfo",storageBucket:"sistema-vrfo.appspot.com",messagingSenderId:"290409294358",appId:"1:290409294358:web:130b6d274dd8724a8e2337"}}},9271:(Jt,lt,O)=>{"use strict";var c=O(1481),F=O(5062),G=O(529),Ae=O(4719),Ee=O(4781),Y=O(9928);const de=[{path:"sign-in",loadChildren:()=>Promise.all([O.e(1477),O.e(4820)]).then(O.bind(O,4820)).then(nt=>nt.SignInPageModule)},{path:"register-user",loadChildren:()=>Promise.all([O.e(1477),O.e(8212)]).then(O.bind(O,8212)).then(nt=>nt.RegisterUserPageModule)},{path:"forgot-password",loadChildren:()=>O.e(9563).then(O.bind(O,9563)).then(nt=>nt.ForgotPasswordPageModule)},{path:"verify-email-address",loadChildren:()=>O.e(9525).then(O.bind(O,9525)).then(nt=>nt.VerifyEmailAddressPageModule)},{path:"home",loadChildren:()=>Promise.all([O.e(8592),O.e(2080)]).then(O.bind(O,2080)).then(nt=>nt.HomePageModule)},{path:"dashboard",loadChildren:()=>O.e(8592).then(O.bind(O,4778)).then(nt=>nt.DashboardPageModule)},{path:"",redirectTo:"/home/dashboard",pathMatch:"full"}];let Me=(()=>{class nt{}return nt.\u0275fac=function(st){return new(st||nt)},nt.\u0275mod=F.oAB({type:nt}),nt.\u0275inj=F.cJS({imports:[Ee.Bz.forRoot(de,{preloadingStrategy:Ee.wm}),Ee.Bz]}),nt})();var fe=O(4795);let re=(()=>{class nt{constructor(st,Xe,ct){this.formBuilder=st,this.settingsService=Xe,this.menu=ct}ngOnInit(){this.settingsForm=this.formBuilder.group({anthenaOneHigh:this.formBuilder.control(15),anthenaTwoHigh:this.formBuilder.control(30)})}saveSettings(){}closeConfiguration(){this.menu.close("first")}}return nt.\u0275fac=function(st){return new(st||nt)(F.Y36(Ae.qu),F.Y36(fe.g),F.Y36(Y._q))},nt.\u0275cmp=F.Xpm({type:nt,selectors:[["app-root"]],decls:26,vars:1,consts:[["side","end","type","push","menuId","first","contentId","main",3,"formGroup"],["color","primary"],["type","number","formControlName","anthenaOneHigh"],["type","number","formControlName","anthenaTwoHigh"],["color","success",3,"click"],["id","main"]],template:function(st,Xe){1&st&&(F.TgZ(0,"ion-app")(1,"ion-menu",0)(2,"ion-header")(3,"ion-toolbar",1)(4,"ion-title"),F._uU(5,"Menu"),F.qZA()()(),F.TgZ(6,"ion-content")(7,"ion-item")(8,"strong"),F._uU(9," Altura de las antenas (metros) "),F.qZA()(),F.TgZ(10,"ion-item")(11,"ion-label"),F._uU(12," Antena 1: "),F.qZA(),F._UZ(13,"ion-input",2),F.qZA(),F.TgZ(14,"ion-item")(15,"ion-label"),F._uU(16," Antena 2: "),F.qZA(),F._UZ(17,"ion-input",3),F.qZA(),F.TgZ(18,"ion-list")(19,"ion-item"),F._uU(20,"Punteros"),F.qZA(),F.TgZ(21,"ion-item"),F._uU(22,"Informacion de potencia"),F.qZA()(),F.TgZ(23,"ion-button",4),F.NdJ("click",function(){return Xe.saveSettings()}),F._uU(24,"Save"),F.qZA()()(),F._UZ(25,"ion-router-outlet",5),F.qZA()),2&st&&(F.xp6(1),F.Q6J("formGroup",Xe.settingsForm))},dependencies:[Y.dr,Y.YG,Y.W2,Y.Gu,Y.pK,Y.Ie,Y.Q$,Y.q_,Y.z0,Y.sr,Y.wd,Y.as,Y.jP,Ae.JJ,Ae.JL,Ae.sg,Ae.u]}),nt})();var Q=O(7666),oe=O(7618),Z=O(655),Te=O(5419),et=function(nt){function $e(){return null!==nt&&nt.apply(this,arguments)||this}return(0,Z.ZT)($e,nt),$e.prototype.reverseGeocode=function(st,Xe,ct){return(0,Te.DM)(this,"reverseGeocode",{callbackOrder:"reverse"},arguments)},$e.prototype.forwardGeocode=function(st,Xe){return(0,Te.DM)(this,"forwardGeocode",{callbackOrder:"reverse"},arguments)},$e.pluginName="NativeGeocoder",$e.plugin="cordova-plugin-nativegeocoder",$e.pluginRef="nativegeocoder",$e.repo="https://github.com/sebastianbaar/cordova-plugin-nativegeocoder",$e.platforms=["iOS","Android"],$e.\u0275fac=function(){var st;return function(ct){return(st||(st=F.n5z($e)))(ct||$e)}}(),$e.\u0275prov=F.Yz7({token:$e,factory:function(st){return $e.\u0275fac(st)}}),$e}(Te.KY),he=O(2011),ye=O(4941),je=O(3850),Ze=O(2340);let J=(()=>{class nt{}return nt.\u0275fac=function(st){return new(st||nt)},nt.\u0275mod=F.oAB({type:nt,bootstrap:[re]}),nt.\u0275inj=F.cJS({providers:[{provide:Ee.wN,useClass:Y.r4},Q.h,oe.b,et],imports:[c.b2,Y.Pc.forRoot(),Me,G.JF,Ae.UX,he.hO.initializeApp(Ze.N.firebaseConfig),ye.ww,je.yb]}),nt})();Ze.N.production&&(0,F.G48)(),c.q6().bootstrapModule(J).catch(nt=>console.log(nt))},591:(Jt,lt,O)=>{"use strict";O.d(lt,{X:()=>G});var c=O(8929),F=O(5279);class G extends c.xQ{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const Y=super._subscribe(Ee);return Y&&!Y.closed&&Ee.next(this._value),Y}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F.N;return this._value}next(Ee){super.next(this._value=Ee)}}},2916:(Jt,lt,O)=>{"use strict";O.d(lt,{y:()=>Q});var c=O(3489),G=O(7668),Ae=O(3292),Y=O(3821),de=O(5379);var re=O(2830);let Q=(()=>{class Z{constructor(et){this._isScalar=!1,et&&(this._subscribe=et)}lift(et){const he=new Z;return he.source=this,he.operator=et,he}subscribe(et,he,ye){const{operator:je}=this,Ze=function Ee(Z,Te,et){if(Z){if(Z instanceof c.L)return Z;if(Z[G.b])return Z[G.b]()}return Z||Te||et?new c.L(Z,Te,et):new c.L(Ae.c)}(et,he,ye);if(Ze.add(je?je.call(Ze,this.source):this.source||re.v.useDeprecatedSynchronousErrorHandling&&!Ze.syncErrorThrowable?this._subscribe(Ze):this._trySubscribe(Ze)),re.v.useDeprecatedSynchronousErrorHandling&&Ze.syncErrorThrowable&&(Ze.syncErrorThrowable=!1,Ze.syncErrorThrown))throw Ze.syncErrorValue;return Ze}_trySubscribe(et){try{return this._subscribe(et)}catch(he){re.v.useDeprecatedSynchronousErrorHandling&&(et.syncErrorThrown=!0,et.syncErrorValue=he),function F(Z){for(;Z;){const{closed:Te,destination:et,isStopped:he}=Z;if(Te||he)return!1;Z=et&&et instanceof c.L?et:null}return!0}(et)?et.error(he):console.warn(he)}}forEach(et,he){return new(he=oe(he))((ye,je)=>{let Ze;Ze=this.subscribe(J=>{try{et(J)}catch(nt){je(nt),Ze&&Ze.unsubscribe()}},je,ye)})}_subscribe(et){const{source:he}=this;return he&&he.subscribe(et)}[Y.L](){return this}pipe(...et){return 0===et.length?this:function fe(Z){return 0===Z.length?de.y:1===Z.length?Z[0]:function(et){return Z.reduce((he,ye)=>ye(he),et)}}(et)(this)}toPromise(et){return new(et=oe(et))((he,ye)=>{let je;this.subscribe(Ze=>je=Ze,Ze=>ye(Ze),()=>he(je))})}}return Z.create=Te=>new Z(Te),Z})();function oe(Z){if(Z||(Z=re.v.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}},3292:(Jt,lt,O)=>{"use strict";O.d(lt,{c:()=>G});var c=O(2830),F=O(2782);const G={closed:!0,next(Ae){},error(Ae){if(c.v.useDeprecatedSynchronousErrorHandling)throw Ae;(0,F.z)(Ae)},complete(){}}},8929:(Jt,lt,O)=>{"use strict";O.d(lt,{Yc:()=>de,xQ:()=>Me});var c=O(2916),F=O(3489),G=O(2654),Ae=O(5279),Ee=O(5283),Y=O(7668);class de extends F.L{constructor(Q){super(Q),this.destination=Q}}let Me=(()=>{class re extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new de(this)}lift(oe){const Z=new fe(this,this);return Z.operator=oe,Z}next(oe){if(this.closed)throw new Ae.N;if(!this.isStopped){const{observers:Z}=this,Te=Z.length,et=Z.slice();for(let he=0;he<Te;he++)et[he].next(oe)}}error(oe){if(this.closed)throw new Ae.N;this.hasError=!0,this.thrownError=oe,this.isStopped=!0;const{observers:Z}=this,Te=Z.length,et=Z.slice();for(let he=0;he<Te;he++)et[he].error(oe);this.observers.length=0}complete(){if(this.closed)throw new Ae.N;this.isStopped=!0;const{observers:oe}=this,Z=oe.length,Te=oe.slice();for(let et=0;et<Z;et++)Te[et].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(oe){if(this.closed)throw new Ae.N;return super._trySubscribe(oe)}_subscribe(oe){if(this.closed)throw new Ae.N;return this.hasError?(oe.error(this.thrownError),G.w.EMPTY):this.isStopped?(oe.complete(),G.w.EMPTY):(this.observers.push(oe),new Ee.W(this,oe))}asObservable(){const oe=new c.y;return oe.source=this,oe}}return re.create=(Q,oe)=>new fe(Q,oe),re})();class fe extends Me{constructor(Q,oe){super(),this.destination=Q,this.source=oe}next(Q){const{destination:oe}=this;oe&&oe.next&&oe.next(Q)}error(Q){const{destination:oe}=this;oe&&oe.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:oe}=this;return oe?this.source.subscribe(Q):G.w.EMPTY}}},5283:(Jt,lt,O)=>{"use strict";O.d(lt,{W:()=>F});var c=O(2654);class F extends c.w{constructor(Ae,Ee){super(),this.subject=Ae,this.subscriber=Ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ae=this.subject,Ee=Ae.observers;if(this.subject=null,!Ee||0===Ee.length||Ae.isStopped||Ae.closed)return;const Y=Ee.indexOf(this.subscriber);-1!==Y&&Ee.splice(Y,1)}}},3489:(Jt,lt,O)=>{"use strict";O.d(lt,{L:()=>de});var c=O(7043),F=O(3292),G=O(2654),Ae=O(7668),Ee=O(2830),Y=O(2782);class de extends G.w{constructor(re,Q,oe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=F.c;break;case 1:if(!re){this.destination=F.c;break}if("object"==typeof re){re instanceof de?(this.syncErrorThrowable=re.syncErrorThrowable,this.destination=re,re.add(this)):(this.syncErrorThrowable=!0,this.destination=new Me(this,re));break}default:this.syncErrorThrowable=!0,this.destination=new Me(this,re,Q,oe)}}[Ae.b](){return this}static create(re,Q,oe){const Z=new de(re,Q,oe);return Z.syncErrorThrowable=!1,Z}next(re){this.isStopped||this._next(re)}error(re){this.isStopped||(this.isStopped=!0,this._error(re))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(re){this.destination.next(re)}_error(re){this.destination.error(re),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:re}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=re,this}}class Me extends de{constructor(re,Q,oe,Z){super(),this._parentSubscriber=re;let Te,et=this;(0,c.m)(Q)?Te=Q:Q&&(Te=Q.next,oe=Q.error,Z=Q.complete,Q!==F.c&&(et=Object.create(Q),(0,c.m)(et.unsubscribe)&&this.add(et.unsubscribe.bind(et)),et.unsubscribe=this.unsubscribe.bind(this))),this._context=et,this._next=Te,this._error=oe,this._complete=Z}next(re){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,re)&&this.unsubscribe():this.__tryOrUnsub(this._next,re)}}error(re){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:oe}=Ee.v;if(this._error)oe&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,re),this.unsubscribe()):(this.__tryOrUnsub(this._error,re),this.unsubscribe());else if(Q.syncErrorThrowable)oe?(Q.syncErrorValue=re,Q.syncErrorThrown=!0):(0,Y.z)(re),this.unsubscribe();else{if(this.unsubscribe(),oe)throw re;(0,Y.z)(re)}}}complete(){if(!this.isStopped){const{_parentSubscriber:re}=this;if(this._complete){const Q=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?(this.__tryOrSetError(re,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(re,Q){try{re.call(this._context,Q)}catch(oe){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,Y.z)(oe)}}__tryOrSetError(re,Q,oe){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,oe)}catch(Z){return Ee.v.useDeprecatedSynchronousErrorHandling?(re.syncErrorValue=Z,re.syncErrorThrown=!0,!0):((0,Y.z)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:re}=this;this._context=null,this._parentSubscriber=null,re.unsubscribe()}}},2654:(Jt,lt,O)=>{"use strict";O.d(lt,{w:()=>Y});var c=O(6688),F=O(7830),G=O(7043);const Ee=(()=>{function Me(fe){return Error.call(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((re,Q)=>`${Q+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe,this}return Me.prototype=Object.create(Error.prototype),Me})();class Y{constructor(fe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,fe&&(this._ctorUnsubscribe=!0,this._unsubscribe=fe)}unsubscribe(){let fe;if(this.closed)return;let{_parentOrParents:re,_ctorUnsubscribe:Q,_unsubscribe:oe,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,re instanceof Y)re.remove(this);else if(null!==re)for(let Te=0;Te<re.length;++Te)re[Te].remove(this);if((0,G.m)(oe)){Q&&(this._unsubscribe=void 0);try{oe.call(this)}catch(Te){fe=Te instanceof Ee?de(Te.errors):[Te]}}if((0,c.k)(Z)){let Te=-1,et=Z.length;for(;++Te<et;){const he=Z[Te];if((0,F.K)(he))try{he.unsubscribe()}catch(ye){fe=fe||[],ye instanceof Ee?fe=fe.concat(de(ye.errors)):fe.push(ye)}}}if(fe)throw new Ee(fe)}add(fe){let re=fe;if(!fe)return Y.EMPTY;switch(typeof fe){case"function":re=new Y(fe);case"object":if(re===this||re.closed||"function"!=typeof re.unsubscribe)return re;if(this.closed)return re.unsubscribe(),re;if(!(re instanceof Y)){const Z=re;re=new Y,re._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+fe+" added to Subscription.")}let{_parentOrParents:Q}=re;if(null===Q)re._parentOrParents=this;else if(Q instanceof Y){if(Q===this)return re;re._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return re;Q.push(this)}const oe=this._subscriptions;return null===oe?this._subscriptions=[re]:oe.push(re),re}remove(fe){const re=this._subscriptions;if(re){const Q=re.indexOf(fe);-1!==Q&&re.splice(Q,1)}}}var Me;function de(Me){return Me.reduce((fe,re)=>fe.concat(re instanceof Ee?re.errors:re),[])}Y.EMPTY=((Me=new Y).closed=!0,Me)},2830:(Jt,lt,O)=>{"use strict";O.d(lt,{v:()=>F});let c=!1;const F={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const Ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ae.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=G},get useDeprecatedSynchronousErrorHandling(){return c}}},1177:(Jt,lt,O)=>{"use strict";O.d(lt,{Ds:()=>Y,IY:()=>Ae,ft:()=>Me});var c=O(3489),F=O(2916),G=O(9249);class Ae extends c.L{constructor(re){super(),this.parent=re}_next(re){this.parent.notifyNext(re)}_error(re){this.parent.notifyError(re),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends c.L{notifyNext(re){this.destination.next(re)}notifyError(re){this.destination.error(re)}notifyComplete(){this.destination.complete()}}function Me(fe,re){if(re.closed)return;if(fe instanceof F.y)return fe.subscribe(re);let Q;try{Q=(0,G.s)(fe)(re)}catch(oe){re.error(oe)}return Q}},1762:(Jt,lt,O)=>{"use strict";O.d(lt,{N:()=>Y,c:()=>Ee});var c=O(8929),F=O(2916),G=O(2654),Ae=O(4327);class Ee extends F.y{constructor(Q,oe){super(),this.source=Q,this.subjectFactory=oe,this._refCount=0,this._isComplete=!1}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Q=this._connection;return Q||(this._isComplete=!1,Q=this._connection=new G.w,Q.add(this.source.subscribe(new de(this.getSubject(),this))),Q.closed&&(this._connection=null,Q=G.w.EMPTY)),Q}refCount(){return(0,Ae.x)()(this)}}const Y=(()=>{const re=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}}})();class de extends c.Yc{constructor(Q,oe){super(Q),this.connectable=oe}_error(Q){this._unsubscribe(),super._error(Q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Q=this.connectable;if(Q){this.connectable=null;const oe=Q._connection;Q._refCount=0,Q._subject=null,Q._connection=null,oe&&oe.unsubscribe()}}}},1221:(Jt,lt,O)=>{"use strict";O.d(lt,{z:()=>Ae});var c=O(1086),F=O(9146);function Ae(...Ee){return function G(){return(0,F.J)(1)}()((0,c.of)(...Ee))}},8896:(Jt,lt,O)=>{"use strict";O.d(lt,{E:()=>F,c:()=>G});var c=O(2916);const F=new c.y(Ee=>Ee.complete());function G(Ee){return Ee?function Ae(Ee){return new c.y(Y=>Ee.schedule(()=>Y.complete()))}(Ee):F}},5254:(Jt,lt,O)=>{"use strict";O.d(lt,{D:()=>et});var c=O(2916),F=O(9249),G=O(2654),Ae=O(3821),de=O(6454),Me=O(5430),Q=O(8955),oe=O(8515);function et(he,ye){return ye?function Te(he,ye){if(null!=he){if(function re(he){return he&&"function"==typeof he[Ae.L]}(he))return function Ee(he,ye){return new c.y(je=>{const Ze=new G.w;return Ze.add(ye.schedule(()=>{const J=he[Ae.L]();Ze.add(J.subscribe({next(nt){Ze.add(ye.schedule(()=>je.next(nt)))},error(nt){Ze.add(ye.schedule(()=>je.error(nt)))},complete(){Ze.add(ye.schedule(()=>je.complete()))}}))})),Ze})}(he,ye);if((0,Q.t)(he))return function Y(he,ye){return new c.y(je=>{const Ze=new G.w;return Ze.add(ye.schedule(()=>he.then(J=>{Ze.add(ye.schedule(()=>{je.next(J),Ze.add(ye.schedule(()=>je.complete()))}))},J=>{Ze.add(ye.schedule(()=>je.error(J)))}))),Ze})}(he,ye);if((0,oe.z)(he))return(0,de.r)(he,ye);if(function Z(he){return he&&"function"==typeof he[Me.hZ]}(he)||"string"==typeof he)return function fe(he,ye){if(!he)throw new Error("Iterable cannot be null");return new c.y(je=>{const Ze=new G.w;let J;return Ze.add(()=>{J&&"function"==typeof J.return&&J.return()}),Ze.add(ye.schedule(()=>{J=he[Me.hZ](),Ze.add(ye.schedule(function(){if(je.closed)return;let nt,$e;try{const st=J.next();nt=st.value,$e=st.done}catch(st){return void je.error(st)}$e?je.complete():(je.next(nt),this.schedule())}))})),Ze})}(he,ye)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,ye):he instanceof c.y?he:new c.y((0,F.s)(he))}},3009:(Jt,lt,O)=>{"use strict";O.d(lt,{n:()=>Ae});var c=O(2916),F=O(3650),G=O(6454);function Ae(Ee,Y){return Y?(0,G.r)(Ee,Y):new c.y((0,F.V)(Ee))}},3753:(Jt,lt,O)=>{"use strict";O.d(lt,{R:()=>Y});var c=O(2916),F=O(6688),G=O(7043),Ae=O(4850);function Y(Q,oe,Z,Te){return(0,G.m)(Z)&&(Te=Z,Z=void 0),Te?Y(Q,oe,Z).pipe((0,Ae.U)(et=>(0,F.k)(et)?Te(...et):Te(et))):new c.y(et=>{de(Q,oe,function he(ye){et.next(arguments.length>1?Array.prototype.slice.call(arguments):ye)},et,Z)})}function de(Q,oe,Z,Te,et){let he;if(function re(Q){return Q&&"function"==typeof Q.addEventListener&&"function"==typeof Q.removeEventListener}(Q)){const ye=Q;Q.addEventListener(oe,Z,et),he=()=>ye.removeEventListener(oe,Z,et)}else if(function fe(Q){return Q&&"function"==typeof Q.on&&"function"==typeof Q.off}(Q)){const ye=Q;Q.on(oe,Z),he=()=>ye.off(oe,Z)}else if(function Me(Q){return Q&&"function"==typeof Q.addListener&&"function"==typeof Q.removeListener}(Q)){const ye=Q;Q.addListener(oe,Z),he=()=>ye.removeListener(oe,Z)}else{if(!Q||!Q.length)throw new TypeError("Invalid event target");for(let ye=0,je=Q.length;ye<je;ye++)de(Q[ye],oe,Z,Te,et)}Te.add(he)}},6787:(Jt,lt,O)=>{"use strict";O.d(lt,{T:()=>Ee});var c=O(2916),F=O(2866),G=O(9146),Ae=O(3009);function Ee(...Y){let de=Number.POSITIVE_INFINITY,Me=null,fe=Y[Y.length-1];return(0,F.K)(fe)?(Me=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(de=Y.pop())):"number"==typeof fe&&(de=Y.pop()),null===Me&&1===Y.length&&Y[0]instanceof c.y?Y[0]:(0,G.J)(de)((0,Ae.n)(Y,Me))}},1086:(Jt,lt,O)=>{"use strict";O.d(lt,{of:()=>Ae});var c=O(2866),F=O(3009),G=O(6454);function Ae(...Ee){let Y=Ee[Ee.length-1];return(0,c.K)(Y)?(Ee.pop(),(0,G.r)(Ee,Y)):(0,F.n)(Ee)}},1737:(Jt,lt,O)=>{"use strict";O.d(lt,{_:()=>F});var c=O(2916);function F(Ae,Ee){return new c.y(Ee?Y=>Ee.schedule(G,0,{error:Ae,subscriber:Y}):Y=>Y.error(Ae))}function G({error:Ae,subscriber:Ee}){Ee.error(Ae)}},1406:(Jt,lt,O)=>{"use strict";O.d(lt,{b:()=>F});var c=O(1709);function F(G,Ae){return(0,c.zg)(G,Ae,1)}},7314:(Jt,lt,O)=>{"use strict";O.d(lt,{d:()=>F});var c=O(3489);function F(Ee=null){return Y=>Y.lift(new G(Ee))}class G{constructor(Y){this.defaultValue=Y}call(Y,de){return de.subscribe(new Ae(Y,this.defaultValue))}}class Ae extends c.L{constructor(Y,de){super(Y),this.defaultValue=de,this.isEmpty=!0}_next(Y){this.isEmpty=!1,this.destination.next(Y)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Jt,lt,O)=>{"use strict";O.d(lt,{x:()=>F});var c=O(3489);function F(Ee,Y){return de=>de.lift(new G(Ee,Y))}class G{constructor(Y,de){this.compare=Y,this.keySelector=de}call(Y,de){return de.subscribe(new Ae(Y,this.compare,this.keySelector))}}class Ae extends c.L{constructor(Y,de,Me){super(Y),this.keySelector=Me,this.hasKey=!1,"function"==typeof de&&(this.compare=de)}compare(Y,de){return Y===de}_next(Y){let de;try{const{keySelector:fe}=this;de=fe?fe(Y):Y}catch(fe){return this.destination.error(fe)}let Me=!1;if(this.hasKey)try{const{compare:fe}=this;Me=fe(this.key,de)}catch(fe){return this.destination.error(fe)}else this.hasKey=!0;Me||(this.key=de,this.destination.next(Y))}}},2198:(Jt,lt,O)=>{"use strict";O.d(lt,{h:()=>F});var c=O(3489);function F(Ee,Y){return function(Me){return Me.lift(new G(Ee,Y))}}class G{constructor(Y,de){this.predicate=Y,this.thisArg=de}call(Y,de){return de.subscribe(new Ae(Y,this.predicate,this.thisArg))}}class Ae extends c.L{constructor(Y,de,Me){super(Y),this.predicate=de,this.thisArg=Me,this.count=0}_next(Y){let de;try{de=this.predicate.call(this.thisArg,Y,this.count++)}catch(Me){return void this.destination.error(Me)}de&&this.destination.next(Y)}}},7224:(Jt,lt,O)=>{"use strict";O.d(lt,{P:()=>de});var c=O(4450),F=O(2198),G=O(2986),Ae=O(7314),Ee=O(4907),Y=O(5379);function de(Me,fe){const re=arguments.length>=2;return Q=>Q.pipe(Me?(0,F.h)((oe,Z)=>Me(oe,Z,Q)):Y.y,(0,G.q)(1),re?(0,Ae.d)(fe):(0,Ee.T)(()=>new c.K))}},4850:(Jt,lt,O)=>{"use strict";O.d(lt,{U:()=>F});var c=O(3489);function F(Ee,Y){return function(Me){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Me.lift(new G(Ee,Y))}}class G{constructor(Y,de){this.project=Y,this.thisArg=de}call(Y,de){return de.subscribe(new Ae(Y,this.project,this.thisArg))}}class Ae extends c.L{constructor(Y,de,Me){super(Y),this.project=de,this.count=0,this.thisArg=Me||this}_next(Y){let de;try{de=this.project.call(this.thisArg,Y,this.count++)}catch(Me){return void this.destination.error(Me)}this.destination.next(de)}}},9146:(Jt,lt,O)=>{"use strict";O.d(lt,{J:()=>G});var c=O(1709),F=O(5379);function G(Ae=Number.POSITIVE_INFINITY){return(0,c.zg)(F.y,Ae)}},1709:(Jt,lt,O)=>{"use strict";O.d(lt,{zg:()=>Ae});var c=O(4850),F=O(5254),G=O(1177);function Ae(Me,fe,re=Number.POSITIVE_INFINITY){return"function"==typeof fe?Q=>Q.pipe(Ae((oe,Z)=>(0,F.D)(Me(oe,Z)).pipe((0,c.U)((Te,et)=>fe(oe,Te,Z,et))),re)):("number"==typeof fe&&(re=fe),Q=>Q.lift(new Ee(Me,re)))}class Ee{constructor(fe,re=Number.POSITIVE_INFINITY){this.project=fe,this.concurrent=re}call(fe,re){return re.subscribe(new Y(fe,this.project,this.concurrent))}}class Y extends G.Ds{constructor(fe,re,Q=Number.POSITIVE_INFINITY){super(fe),this.project=re,this.concurrent=Q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(fe){this.active<this.concurrent?this._tryNext(fe):this.buffer.push(fe)}_tryNext(fe){let re;const Q=this.index++;try{re=this.project(fe,Q)}catch(oe){return void this.destination.error(oe)}this.active++,this._innerSub(re)}_innerSub(fe){const re=new G.IY(this),Q=this.destination;Q.add(re);const oe=(0,G.ft)(fe,re);oe!==re&&Q.add(oe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(fe){this.destination.next(fe)}notifyComplete(){const fe=this.buffer;this.active--,fe.length>0?this._next(fe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Jt,lt,O)=>{"use strict";O.d(lt,{ht:()=>fe,QV:()=>de});var c=O(3489),F=O(8896),G=O(1086),Ae=O(1737);class Y{constructor(oe,Z,Te){this.kind=oe,this.value=Z,this.error=Te,this.hasValue="N"===oe}observe(oe){switch(this.kind){case"N":return oe.next&&oe.next(this.value);case"E":return oe.error&&oe.error(this.error);case"C":return oe.complete&&oe.complete()}}do(oe,Z,Te){switch(this.kind){case"N":return oe&&oe(this.value);case"E":return Z&&Z(this.error);case"C":return Te&&Te()}}accept(oe,Z,Te){return oe&&"function"==typeof oe.next?this.observe(oe):this.do(oe,Z,Te)}toObservable(){switch(this.kind){case"N":return(0,G.of)(this.value);case"E":return(0,Ae._)(this.error);case"C":return(0,F.c)()}throw new Error("unexpected notification kind value")}static createNext(oe){return typeof oe<"u"?new Y("N",oe):Y.undefinedValueNotification}static createError(oe){return new Y("E",void 0,oe)}static createComplete(){return Y.completeNotification}}function de(Q,oe=0){return function(Te){return Te.lift(new Me(Q,oe))}}Y.completeNotification=new Y("C"),Y.undefinedValueNotification=new Y("N",void 0);class Me{constructor(oe,Z=0){this.scheduler=oe,this.delay=Z}call(oe,Z){return Z.subscribe(new fe(oe,this.scheduler,this.delay))}}class fe extends c.L{constructor(oe,Z,Te=0){super(oe),this.scheduler=Z,this.delay=Te}static dispatch(oe){const{notification:Z,destination:Te}=oe;Z.observe(Te),this.unsubscribe()}scheduleMessage(oe){this.destination.add(this.scheduler.schedule(fe.dispatch,this.delay,new re(oe,this.destination)))}_next(oe){this.scheduleMessage(Y.createNext(oe))}_error(oe){this.scheduleMessage(Y.createError(oe)),this.unsubscribe()}_complete(){this.scheduleMessage(Y.createComplete()),this.unsubscribe()}}class re{constructor(oe,Z){this.notification=oe,this.destination=Z}}},4327:(Jt,lt,O)=>{"use strict";O.d(lt,{x:()=>F});var c=O(3489);function F(){return function(Y){return Y.lift(new G(Y))}}class G{constructor(Y){this.connectable=Y}call(Y,de){const{connectable:Me}=this;Me._refCount++;const fe=new Ae(Y,Me),re=de.subscribe(fe);return fe.closed||(fe.connection=Me.connect()),re}}class Ae extends c.L{constructor(Y,de){super(Y),this.connectable=de}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const de=Y._refCount;if(de<=0)return void(this.connection=null);if(Y._refCount=de-1,de>1)return void(this.connection=null);const{connection:Me}=this,fe=Y._connection;this.connection=null,fe&&(!Me||fe===Me)&&fe.unsubscribe()}}},2014:(Jt,lt,O)=>{"use strict";O.d(lt,{R:()=>F});var c=O(3489);function F(Ee,Y){let de=!1;return arguments.length>=2&&(de=!0),function(fe){return fe.lift(new G(Ee,Y,de))}}class G{constructor(Y,de,Me=!1){this.accumulator=Y,this.seed=de,this.hasSeed=Me}call(Y,de){return de.subscribe(new Ae(Y,this.accumulator,this.seed,this.hasSeed))}}class Ae extends c.L{constructor(Y,de,Me,fe){super(Y),this.accumulator=de,this._seed=Me,this.hasSeed=fe,this.index=0}get seed(){return this._seed}set seed(Y){this.hasSeed=!0,this._seed=Y}_next(Y){if(this.hasSeed)return this._tryNext(Y);this.seed=Y,this.destination.next(Y)}_tryNext(Y){const de=this.index++;let Me;try{Me=this.accumulator(this.seed,Y,de)}catch(fe){this.destination.error(fe)}this.seed=Me,this.destination.next(Me)}}},1059:(Jt,lt,O)=>{"use strict";O.d(lt,{O:()=>G});var c=O(1221),F=O(2866);function G(...Ae){const Ee=Ae[Ae.length-1];return(0,F.K)(Ee)?(Ae.pop(),Y=>(0,c.z)(Ae,Y,Ee)):Y=>(0,c.z)(Ae,Y)}},8915:(Jt,lt,O)=>{"use strict";O.d(lt,{R:()=>ye});var c=O(2916);let F=1;const G=Promise.resolve(),Ae={};function Ee(Ze){return Ze in Ae&&(delete Ae[Ze],!0)}const Y={setImmediate(Ze){const J=F++;return Ae[J]=!0,G.then(()=>Ee(J)&&Ze()),J},clearImmediate(Ze){Ee(Ze)}};var Me=O(6686),re=O(2268);const Z=new class Q extends re.v{flush(J){this.active=!0,this.scheduled=void 0;const{actions:nt}=this;let $e,st=-1,Xe=nt.length;J=J||nt.shift();do{if($e=J.execute(J.state,J.delay))break}while(++st<Xe&&(J=nt.shift()));if(this.active=!1,$e){for(;++st<Xe&&(J=nt.shift());)J.unsubscribe();throw $e}}}(class fe extends Me.o{constructor(J,nt){super(J,nt),this.scheduler=J,this.work=nt}requestAsyncId(J,nt,$e=0){return null!==$e&&$e>0?super.requestAsyncId(J,nt,$e):(J.actions.push(this),J.scheduled||(J.scheduled=Y.setImmediate(J.flush.bind(J,null))))}recycleAsyncId(J,nt,$e=0){if(null!==$e&&$e>0||null===$e&&this.delay>0)return super.recycleAsyncId(J,nt,$e);0===J.actions.length&&(Y.clearImmediate(nt),J.scheduled=void 0)}});var Te=O(6688);class he extends c.y{constructor(J,nt=0,$e=Z){super(),this.source=J,this.delayTime=nt,this.scheduler=$e,(!function et(Ze){return!(0,Te.k)(Ze)&&Ze-parseFloat(Ze)+1>=0}(nt)||nt<0)&&(this.delayTime=0),(!$e||"function"!=typeof $e.schedule)&&(this.scheduler=Z)}static create(J,nt=0,$e=Z){return new he(J,nt,$e)}static dispatch(J){const{source:nt,subscriber:$e}=J;return this.add(nt.subscribe($e))}_subscribe(J){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:J})}}function ye(Ze,J=0){return function($e){return $e.lift(new je(Ze,J))}}class je{constructor(J,nt){this.scheduler=J,this.delay=nt}call(J,nt){return new he(nt,this.delay,this.scheduler).subscribe(J)}}},7545:(Jt,lt,O)=>{"use strict";O.d(lt,{w:()=>Ae});var c=O(4850),F=O(5254),G=O(1177);function Ae(de,Me){return"function"==typeof Me?fe=>fe.pipe(Ae((re,Q)=>(0,F.D)(de(re,Q)).pipe((0,c.U)((oe,Z)=>Me(re,oe,Q,Z))))):fe=>fe.lift(new Ee(de))}class Ee{constructor(Me){this.project=Me}call(Me,fe){return fe.subscribe(new Y(Me,this.project))}}class Y extends G.Ds{constructor(Me,fe){super(Me),this.project=fe,this.index=0}_next(Me){let fe;const re=this.index++;try{fe=this.project(Me,re)}catch(Q){return void this.destination.error(Q)}this._innerSub(fe)}_innerSub(Me){const fe=this.innerSubscription;fe&&fe.unsubscribe();const re=new G.IY(this),Q=this.destination;Q.add(re),this.innerSubscription=(0,G.ft)(Me,re),this.innerSubscription!==re&&Q.add(this.innerSubscription)}_complete(){const{innerSubscription:Me}=this;(!Me||Me.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Me){this.destination.next(Me)}}},2986:(Jt,lt,O)=>{"use strict";O.d(lt,{q:()=>Ae});var c=O(3489),F=O(4231),G=O(8896);function Ae(de){return Me=>0===de?(0,G.c)():Me.lift(new Ee(de))}class Ee{constructor(Me){if(this.total=Me,this.total<0)throw new F.W}call(Me,fe){return fe.subscribe(new Y(Me,this.total))}}class Y extends c.L{constructor(Me,fe){super(Me),this.total=fe,this.count=0}_next(Me){const fe=this.total,re=++this.count;re<=fe&&(this.destination.next(Me),re===fe&&(this.destination.complete(),this.unsubscribe()))}}},2868:(Jt,lt,O)=>{"use strict";O.d(lt,{b:()=>Ae});var c=O(3489);function F(){}var G=O(7043);function Ae(de,Me,fe){return function(Q){return Q.lift(new Ee(de,Me,fe))}}class Ee{constructor(Me,fe,re){this.nextOrObserver=Me,this.error=fe,this.complete=re}call(Me,fe){return fe.subscribe(new Y(Me,this.nextOrObserver,this.error,this.complete))}}class Y extends c.L{constructor(Me,fe,re,Q){super(Me),this._tapNext=F,this._tapError=F,this._tapComplete=F,this._tapError=re||F,this._tapComplete=Q||F,(0,G.m)(fe)?(this._context=this,this._tapNext=fe):fe&&(this._context=fe,this._tapNext=fe.next||F,this._tapError=fe.error||F,this._tapComplete=fe.complete||F)}_next(Me){try{this._tapNext.call(this._context,Me)}catch(fe){return void this.destination.error(fe)}this.destination.next(Me)}_error(Me){try{this._tapError.call(this._context,Me)}catch(fe){return void this.destination.error(fe)}this.destination.error(Me)}_complete(){try{this._tapComplete.call(this._context)}catch(Me){return void this.destination.error(Me)}return this.destination.complete()}}},4907:(Jt,lt,O)=>{"use strict";O.d(lt,{T:()=>G});var c=O(4450),F=O(3489);function G(de=Y){return Me=>Me.lift(new Ae(de))}class Ae{constructor(Me){this.errorFactory=Me}call(Me,fe){return fe.subscribe(new Ee(Me,this.errorFactory))}}class Ee extends F.L{constructor(Me,fe){super(Me),this.errorFactory=fe,this.hasValue=!1}_next(Me){this.hasValue=!0,this.destination.next(Me)}_complete(){if(this.hasValue)return this.destination.complete();{let Me;try{Me=this.errorFactory()}catch(fe){Me=fe}this.destination.error(Me)}}}function Y(){return new c.K}},6454:(Jt,lt,O)=>{"use strict";O.d(lt,{r:()=>G});var c=O(2916),F=O(2654);function G(Ae,Ee){return new c.y(Y=>{const de=new F.w;let Me=0;return de.add(Ee.schedule(function(){Me!==Ae.length?(Y.next(Ae[Me++]),Y.closed||de.add(this.schedule())):Y.complete()})),de})}},6686:(Jt,lt,O)=>{"use strict";O.d(lt,{o:()=>G});var c=O(2654);class F extends c.w{constructor(Ee,Y){super()}schedule(Ee,Y=0){return this}}class G extends F{constructor(Ee,Y){super(Ee,Y),this.scheduler=Ee,this.work=Y,this.pending=!1}schedule(Ee,Y=0){if(this.closed)return this;this.state=Ee;const de=this.id,Me=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(Me,de,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(Me,this.id,Y),this}requestAsyncId(Ee,Y,de=0){return setInterval(Ee.flush.bind(Ee,this),de)}recycleAsyncId(Ee,Y,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return Y;clearInterval(Y)}execute(Ee,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(Ee,Y);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Y){let Me,de=!1;try{this.work(Ee)}catch(fe){de=!0,Me=!!fe&&fe||new Error(fe)}if(de)return this.unsubscribe(),Me}_unsubscribe(){const Ee=this.id,Y=this.scheduler,de=Y.actions,Me=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Me&&de.splice(Me,1),null!=Ee&&(this.id=this.recycleAsyncId(Y,Ee,null)),this.delay=null}}},2268:(Jt,lt,O)=>{"use strict";O.d(lt,{v:()=>F});let c=(()=>{class G{constructor(Ee,Y=G.now){this.SchedulerAction=Ee,this.now=Y}schedule(Ee,Y=0,de){return new this.SchedulerAction(this,Ee).schedule(de,Y)}}return G.now=()=>Date.now(),G})();class F extends c{constructor(Ae,Ee=c.now){super(Ae,()=>F.delegate&&F.delegate!==this?F.delegate.now():Ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ae,Ee=0,Y){return F.delegate&&F.delegate!==this?F.delegate.schedule(Ae,Ee,Y):super.schedule(Ae,Ee,Y)}flush(Ae){const{actions:Ee}=this;if(this.active)return void Ee.push(Ae);let Y;this.active=!0;do{if(Y=Ae.execute(Ae.state,Ae.delay))break}while(Ae=Ee.shift());if(this.active=!1,Y){for(;Ae=Ee.shift();)Ae.unsubscribe();throw Y}}}},353:(Jt,lt,O)=>{"use strict";O.d(lt,{z:()=>G});var c=O(6686);const G=new(O(2268).v)(c.o)},341:(Jt,lt,O)=>{"use strict";O.d(lt,{c:()=>Y,N:()=>Ee});var c=O(6686),G=O(2268);const Ee=new class Ae extends G.v{}(class F extends c.o{constructor(Me,fe){super(Me,fe),this.scheduler=Me,this.work=fe}schedule(Me,fe=0){return fe>0?super.schedule(Me,fe):(this.delay=fe,this.state=Me,this.scheduler.flush(this),this)}execute(Me,fe){return fe>0||this.closed?super.execute(Me,fe):this._execute(Me,fe)}requestAsyncId(Me,fe,re=0){return null!==re&&re>0||null===re&&this.delay>0?super.requestAsyncId(Me,fe,re):Me.flush(this)}}),Y=Ee},5430:(Jt,lt,O)=>{"use strict";O.d(lt,{hZ:()=>F});const F=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Jt,lt,O)=>{"use strict";O.d(lt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Jt,lt,O)=>{"use strict";O.d(lt,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Jt,lt,O)=>{"use strict";O.d(lt,{W:()=>F});const F=(()=>{function G(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return G.prototype=Object.create(Error.prototype),G})()},4450:(Jt,lt,O)=>{"use strict";O.d(lt,{K:()=>F});const F=(()=>{function G(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return G.prototype=Object.create(Error.prototype),G})()},5279:(Jt,lt,O)=>{"use strict";O.d(lt,{N:()=>F});const F=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},2782:(Jt,lt,O)=>{"use strict";function c(F){setTimeout(()=>{throw F},0)}O.d(lt,{z:()=>c})},5379:(Jt,lt,O)=>{"use strict";function c(F){return F}O.d(lt,{y:()=>c})},6688:(Jt,lt,O)=>{"use strict";O.d(lt,{k:()=>c});const c=Array.isArray||(F=>F&&"number"==typeof F.length)},8515:(Jt,lt,O)=>{"use strict";O.d(lt,{z:()=>c});const c=F=>F&&"number"==typeof F.length&&"function"!=typeof F},7043:(Jt,lt,O)=>{"use strict";function c(F){return"function"==typeof F}O.d(lt,{m:()=>c})},7830:(Jt,lt,O)=>{"use strict";function c(F){return null!==F&&"object"==typeof F}O.d(lt,{K:()=>c})},8955:(Jt,lt,O)=>{"use strict";function c(F){return!!F&&"function"!=typeof F.subscribe&&"function"==typeof F.then}O.d(lt,{t:()=>c})},2866:(Jt,lt,O)=>{"use strict";function c(F){return F&&"function"==typeof F.schedule}O.d(lt,{K:()=>c})},9249:(Jt,lt,O)=>{"use strict";O.d(lt,{s:()=>Q});var c=O(3650),F=O(2782),Ae=O(5430),Y=O(3821),Me=O(8515),fe=O(8955),re=O(7830);const Q=oe=>{if(oe&&"function"==typeof oe[Y.L])return(oe=>Z=>{const Te=oe[Y.L]();if("function"!=typeof Te.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Te.subscribe(Z)})(oe);if((0,Me.z)(oe))return(0,c.V)(oe);if((0,fe.t)(oe))return(oe=>Z=>(oe.then(Te=>{Z.closed||(Z.next(Te),Z.complete())},Te=>Z.error(Te)).then(null,F.z),Z))(oe);if(oe&&"function"==typeof oe[Ae.hZ])return(oe=>Z=>{const Te=oe[Ae.hZ]();for(;;){let et;try{et=Te.next()}catch(he){return Z.error(he),Z}if(et.done){Z.complete();break}if(Z.next(et.value),Z.closed)break}return"function"==typeof Te.return&&Z.add(()=>{Te.return&&Te.return()}),Z})(oe);{const Te=`You provided ${(0,re.K)(oe)?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Te)}}},3650:(Jt,lt,O)=>{"use strict";O.d(lt,{V:()=>c});const c=F=>G=>{for(let Ae=0,Ee=F.length;Ae<Ee&&!G.closed;Ae++)G.next(F[Ae]);G.complete()}},863:(Jt,lt,O)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function F(G){if(!O.o(c,G))return Promise.resolve().then(()=>{var Y=new Error("Cannot find module '"+G+"'");throw Y.code="MODULE_NOT_FOUND",Y});var Ae=c[G],Ee=Ae[0];return Promise.all(Ae.slice(1).map(O.e)).then(()=>O(Ee))}F.keys=()=>Object.keys(c),F.id=863,Jt.exports=F},655:(Jt,lt,O)=>{"use strict";O.d(lt,{ZT:()=>F,_T:()=>Ae,gn:()=>Ee,mG:()=>Me});var c=function(Ce,se){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,W){me.__proto__=W}||function(me,W){for(var ce in W)Object.prototype.hasOwnProperty.call(W,ce)&&(me[ce]=W[ce])})(Ce,se)};function F(Ce,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function me(){this.constructor=Ce}c(Ce,se),Ce.prototype=null===se?Object.create(se):(me.prototype=se.prototype,new me)}function Ae(Ce,se){var me={};for(var W in Ce)Object.prototype.hasOwnProperty.call(Ce,W)&&se.indexOf(W)<0&&(me[W]=Ce[W]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(W=Object.getOwnPropertySymbols(Ce);ce<W.length;ce++)se.indexOf(W[ce])<0&&Object.prototype.propertyIsEnumerable.call(Ce,W[ce])&&(me[W[ce]]=Ce[W[ce]])}return me}function Ee(Ce,se,me,W){var dt,ce=arguments.length,Ne=ce<3?se:null===W?W=Object.getOwnPropertyDescriptor(se,me):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(Ce,se,me,W);else for(var Ue=Ce.length-1;Ue>=0;Ue--)(dt=Ce[Ue])&&(Ne=(ce<3?dt(Ne):ce>3?dt(se,me,Ne):dt(se,me))||Ne);return ce>3&&Ne&&Object.defineProperty(se,me,Ne),Ne}function Me(Ce,se,me,W){return new(me||(me=Promise))(function(Ne,dt){function Ue(Pe){try{Re(W.next(Pe))}catch(ke){dt(ke)}}function ut(Pe){try{Re(W.throw(Pe))}catch(ke){dt(ke)}}function Re(Pe){Pe.done?Ne(Pe.value):function ce(Ne){return Ne instanceof me?Ne:new me(function(dt){dt(Ne)})}(Pe.value).then(Ue,ut)}Re((W=W.apply(Ce,se||[])).next())})}},6895:(Jt,lt,O)=>{"use strict";O.d(lt,{Do:()=>nt,EM:()=>di,HT:()=>Ee,JF:()=>Gs,K0:()=>de,Mx:()=>bi,O5:()=>tt,PC:()=>kn,PM:()=>ni,S$:()=>ye,V_:()=>re,Ye:()=>$e,b0:()=>J,bD:()=>Qs,ez:()=>bs,mk:()=>pr,q:()=>G,sg:()=>Di,tP:()=>hr,w_:()=>Y});var c=O(5062);let F=null;function G(){return F}function Ee(k){F||(F=k)}class Y{}const de=new c.OlP("DocumentToken");let Me=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=c.Yz7({token:k,factory:function(){return function fe(){return(0,c.LFG)(Q)}()},providedIn:"platform"}),k})();const re=new c.OlP("Location Initialized");let Q=(()=>{class k extends Me{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(B){const ae=G().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",B,!1),()=>ae.removeEventListener("popstate",B)}onHashChange(B){const ae=G().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",B,!1),()=>ae.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,ae,Ge){oe()?this._history.pushState(B,ae,Ge):this.location.hash=Ge}replaceState(B,ae,Ge){oe()?this._history.replaceState(B,ae,Ge):this.location.hash=Ge}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return k.\u0275fac=function(B){return new(B||k)(c.LFG(de))},k.\u0275prov=c.Yz7({token:k,factory:function(){return function Z(){return new Q((0,c.LFG)(de))}()},providedIn:"platform"}),k})();function oe(){return!!window.history.pushState}function Te(k,ne){if(0==k.length)return ne;if(0==ne.length)return k;let B=0;return k.endsWith("/")&&B++,ne.startsWith("/")&&B++,2==B?k+ne.substring(1):1==B?k+ne:k+"/"+ne}function et(k){const ne=k.match(/#|\?|$/),B=ne&&ne.index||k.length;return k.slice(0,B-("/"===k[B-1]?1:0))+k.slice(B)}function he(k){return k&&"?"!==k[0]?"?"+k:k}let ye=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=c.Yz7({token:k,factory:function(){return function je(){const k=(0,c.LFG)(de).location;return new J((0,c.LFG)(Me),k&&k.origin||"")}()},providedIn:"root"}),k})();const Ze=new c.OlP("appBaseHref");let J=(()=>{class k extends ye{constructor(B,ae){if(super(),this._platformLocation=B,this._removeListenerFns=[],null==ae&&(ae=this._platformLocation.getBaseHrefFromDOM()),null==ae)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ae}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Te(this._baseHref,B)}path(B=!1){const ae=this._platformLocation.pathname+he(this._platformLocation.search),Ge=this._platformLocation.hash;return Ge&&B?`${ae}${Ge}`:ae}pushState(B,ae,Ge,Ot){const $t=this.prepareExternalUrl(Ge+he(Ot));this._platformLocation.pushState(B,ae,$t)}replaceState(B,ae,Ge,Ot){const $t=this.prepareExternalUrl(Ge+he(Ot));this._platformLocation.replaceState(B,ae,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return k.\u0275fac=function(B){return new(B||k)(c.LFG(Me),c.LFG(Ze,8))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})(),nt=(()=>{class k extends ye{constructor(B,ae){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ae=this._platformLocation.hash;return null==ae&&(ae="#"),ae.length>0?ae.substring(1):ae}prepareExternalUrl(B){const ae=Te(this._baseHref,B);return ae.length>0?"#"+ae:ae}pushState(B,ae,Ge,Ot){let $t=this.prepareExternalUrl(Ge+he(Ot));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(B,ae,$t)}replaceState(B,ae,Ge,Ot){let $t=this.prepareExternalUrl(Ge+he(Ot));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(B,ae,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return k.\u0275fac=function(B){return new(B||k)(c.LFG(Me),c.LFG(Ze,8))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})(),$e=(()=>{class k{constructor(B){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ae=this._locationStrategy.getBaseHref();this._baseHref=et(ct(ae)),this._locationStrategy.onPopState(Ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ge.state,type:Ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ae=""){return this.path()==this.normalize(B+he(ae))}normalize(B){return k.stripTrailingSlash(function Xe(k,ne){return k&&ne.startsWith(k)?ne.substring(k.length):ne}(this._baseHref,ct(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ae="",Ge=null){this._locationStrategy.pushState(Ge,"",B,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+he(ae)),Ge)}replaceState(B,ae="",Ge=null){this._locationStrategy.replaceState(Ge,"",B,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+he(ae)),Ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)})),()=>{const ae=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(ae,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ae){this._urlChangeListeners.forEach(Ge=>Ge(B,ae))}subscribe(B,ae,Ge){return this._subject.subscribe({next:B,error:ae,complete:Ge})}}return k.normalizeQueryParams=he,k.joinWithSlash=Te,k.stripTrailingSlash=et,k.\u0275fac=function(B){return new(B||k)(c.LFG(ye))},k.\u0275prov=c.Yz7({token:k,factory:function(){return function st(){return new $e((0,c.LFG)(ye))}()},providedIn:"root"}),k})();function ct(k){return k.replace(/\/index.html$/,"")}function bi(k,ne){ne=encodeURIComponent(ne);for(const B of k.split(";")){const ae=B.indexOf("="),[Ge,Ot]=-1==ae?[B,""]:[B.slice(0,ae),B.slice(ae+1)];if(Ge.trim()===ne)return decodeURIComponent(Ot)}return null}let pr=(()=>{class k{constructor(B,ae,Ge,Ot){this._iterableDiffers=B,this._keyValueDiffers=ae,this._ngEl=Ge,this._renderer=Ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(ae=>this._toggleClass(ae.key,ae.currentValue)),B.forEachChangedItem(ae=>this._toggleClass(ae.key,ae.currentValue)),B.forEachRemovedItem(ae=>{ae.previousValue&&this._toggleClass(ae.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(ae=>{if("string"!=typeof ae.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(ae.item)}`);this._toggleClass(ae.item,!0)}),B.forEachRemovedItem(ae=>this._toggleClass(ae.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ae=>this._toggleClass(ae,!0)):Object.keys(B).forEach(ae=>this._toggleClass(ae,!!B[ae])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ae=>this._toggleClass(ae,!1)):Object.keys(B).forEach(ae=>this._toggleClass(ae,!1)))}_toggleClass(B,ae){(B=B.trim())&&B.split(/\s+/g).forEach(Ge=>{ae?this._renderer.addClass(this._ngEl.nativeElement,Ge):this._renderer.removeClass(this._ngEl.nativeElement,Ge)})}}return k.\u0275fac=function(B){return new(B||k)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},k.\u0275dir=c.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),k})();class Cr{constructor(ne,B,ae,Ge){this.$implicit=ne,this.ngForOf=B,this.index=ae,this.count=Ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Di=(()=>{class k{constructor(B,ae,Ge){this._viewContainer=B,this._template=ae,this._differs=Ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ae=this._viewContainer;B.forEachOperation((Ge,Ot,$t)=>{if(null==Ge.previousIndex)ae.createEmbeddedView(this._template,new Cr(Ge.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)ae.remove(null===Ot?void 0:Ot);else if(null!==Ot){const Tn=ae.get(Ot);ae.move(Tn,$t),X(Tn,Ge)}});for(let Ge=0,Ot=ae.length;Ge<Ot;Ge++){const Tn=ae.get(Ge).context;Tn.index=Ge,Tn.count=Ot,Tn.ngForOf=this._ngForOf}B.forEachIdentityChange(Ge=>{X(ae.get(Ge.currentIndex),Ge)})}static ngTemplateContextGuard(B,ae){return!0}}return k.\u0275fac=function(B){return new(B||k)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},k.\u0275dir=c.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),k})();function X(k,ne){k.context.$implicit=ne.item}let tt=(()=>{class k{constructor(B,ae){this._viewContainer=B,this._context=new ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){pe("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){pe("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ae){return!0}}return k.\u0275fac=function(B){return new(B||k)(c.Y36(c.s_b),c.Y36(c.Rgc))},k.\u0275dir=c.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),k})();class ft{constructor(){this.$implicit=null,this.ngIf=null}}function pe(k,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,c.AaK)(ne)}'.`)}let kn=(()=>{class k{constructor(B,ae,Ge){this._ngEl=B,this._differs=ae,this._renderer=Ge,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,ae){const[Ge,Ot]=B.split("."),$t=-1===Ge.indexOf("-")?void 0:c.JOm.DashCase;null!=ae?this._renderer.setStyle(this._ngEl.nativeElement,Ge,Ot?`${ae}${Ot}`:ae,$t):this._renderer.removeStyle(this._ngEl.nativeElement,Ge,$t)}_applyChanges(B){B.forEachRemovedItem(ae=>this._setStyle(ae.key,null)),B.forEachAddedItem(ae=>this._setStyle(ae.key,ae.currentValue)),B.forEachChangedItem(ae=>this._setStyle(ae.key,ae.currentValue))}}return k.\u0275fac=function(B){return new(B||k)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},k.\u0275dir=c.lG2({type:k,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),k})(),hr=(()=>{class k{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const ae=this._viewContainerRef;if(this._viewRef&&ae.remove(ae.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ge,ngTemplateOutletContext:Ot,ngTemplateOutletInjector:$t}=this;this._viewRef=ae.createEmbeddedView(Ge,Ot,$t?{injector:$t}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(B){return new(B||k)(c.Y36(c.s_b))},k.\u0275dir=c.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[c.TTD]}),k})(),bs=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275mod=c.oAB({type:k}),k.\u0275inj=c.cJS({}),k})();const Qs="browser";function ni(k){return"server"===k}let di=(()=>{class k{}return k.\u0275prov=(0,c.Yz7)({token:k,providedIn:"root",factory:()=>new Ui((0,c.LFG)(de),window)}),k})();class Ui{constructor(ne,B){this.document=ne,this.window=B,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const B=function js(k,ne){const B=k.getElementById(ne)||k.getElementsByName(ne)[0];if(B)return B;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const ae=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let Ge=ae.currentNode;for(;Ge;){const Ot=Ge.shadowRoot;if(Ot){const $t=Ot.getElementById(ne)||Ot.querySelector(`[name="${ne}"]`);if($t)return $t}Ge=ae.nextNode()}}return null}(this.document,ne);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(ne){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=ne)}}scrollToElement(ne){const B=ne.getBoundingClientRect(),ae=B.left+this.window.pageXOffset,Ge=B.top+this.window.pageYOffset,Ot=this.offset();this.window.scrollTo(ae-Ot[0],Ge-Ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ne=Zr(this.window.history)||Zr(Object.getPrototypeOf(this.window.history));return!(!ne||!ne.writable&&!ne.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Zr(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class Gs{}},529:(Jt,lt,O)=>{"use strict";O.d(lt,{JF:()=>sr,WM:()=>re,eN:()=>ce});var c=O(6895),F=O(5062),G=O(1086),Ae=O(2916),Ee=O(1406),Y=O(2198),de=O(4850);class Me{}class fe{}class re{constructor(Fe){this.normalizedNames=new Map,this.lazyUpdate=null,Fe?this.lazyInit="string"==typeof Fe?()=>{this.headers=new Map,Fe.split("\n").forEach(We=>{const Pt=We.indexOf(":");if(Pt>0){const mt=We.slice(0,Pt),jt=mt.toLowerCase(),qn=We.slice(Pt+1).trim();this.maybeSetNormalizedName(mt,jt),this.headers.has(jt)?this.headers.get(jt).push(qn):this.headers.set(jt,[qn])}})}:()=>{this.headers=new Map,Object.keys(Fe).forEach(We=>{let Pt=Fe[We];const mt=We.toLowerCase();"string"==typeof Pt&&(Pt=[Pt]),Pt.length>0&&(this.headers.set(mt,Pt),this.maybeSetNormalizedName(We,mt))})}:this.headers=new Map}has(Fe){return this.init(),this.headers.has(Fe.toLowerCase())}get(Fe){this.init();const We=this.headers.get(Fe.toLowerCase());return We&&We.length>0?We[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Fe){return this.init(),this.headers.get(Fe.toLowerCase())||null}append(Fe,We){return this.clone({name:Fe,value:We,op:"a"})}set(Fe,We){return this.clone({name:Fe,value:We,op:"s"})}delete(Fe,We){return this.clone({name:Fe,value:We,op:"d"})}maybeSetNormalizedName(Fe,We){this.normalizedNames.has(We)||this.normalizedNames.set(We,Fe)}init(){this.lazyInit&&(this.lazyInit instanceof re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Fe=>this.applyUpdate(Fe)),this.lazyUpdate=null))}copyFrom(Fe){Fe.init(),Array.from(Fe.headers.keys()).forEach(We=>{this.headers.set(We,Fe.headers.get(We)),this.normalizedNames.set(We,Fe.normalizedNames.get(We))})}clone(Fe){const We=new re;return We.lazyInit=this.lazyInit&&this.lazyInit instanceof re?this.lazyInit:this,We.lazyUpdate=(this.lazyUpdate||[]).concat([Fe]),We}applyUpdate(Fe){const We=Fe.name.toLowerCase();switch(Fe.op){case"a":case"s":let Pt=Fe.value;if("string"==typeof Pt&&(Pt=[Pt]),0===Pt.length)return;this.maybeSetNormalizedName(Fe.name,We);const mt=("a"===Fe.op?this.headers.get(We):void 0)||[];mt.push(...Pt),this.headers.set(We,mt);break;case"d":const jt=Fe.value;if(jt){let qn=this.headers.get(We);if(!qn)return;qn=qn.filter(fr=>-1===jt.indexOf(fr)),0===qn.length?(this.headers.delete(We),this.normalizedNames.delete(We)):this.headers.set(We,qn)}else this.headers.delete(We),this.normalizedNames.delete(We)}}forEach(Fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(We=>Fe(this.normalizedNames.get(We),this.headers.get(We)))}}class Q{encodeKey(Fe){return et(Fe)}encodeValue(Fe){return et(Fe)}decodeKey(Fe){return decodeURIComponent(Fe)}decodeValue(Fe){return decodeURIComponent(Fe)}}const Z=/%(\d[a-f0-9])/gi,Te={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function et(Nt){return encodeURIComponent(Nt).replace(Z,(Fe,We)=>Te[We]??Fe)}function he(Nt){return`${Nt}`}class ye{constructor(Fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Fe.encoder||new Q,Fe.fromString){if(Fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oe(Nt,Fe){const We=new Map;return Nt.length>0&&Nt.replace(/^\?/,"").split("&").forEach(mt=>{const jt=mt.indexOf("="),[qn,fr]=-1==jt?[Fe.decodeKey(mt),""]:[Fe.decodeKey(mt.slice(0,jt)),Fe.decodeValue(mt.slice(jt+1))],Qt=We.get(qn)||[];Qt.push(fr),We.set(qn,Qt)}),We}(Fe.fromString,this.encoder)}else Fe.fromObject?(this.map=new Map,Object.keys(Fe.fromObject).forEach(We=>{const Pt=Fe.fromObject[We],mt=Array.isArray(Pt)?Pt.map(he):[he(Pt)];this.map.set(We,mt)})):this.map=null}has(Fe){return this.init(),this.map.has(Fe)}get(Fe){this.init();const We=this.map.get(Fe);return We?We[0]:null}getAll(Fe){return this.init(),this.map.get(Fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Fe,We){return this.clone({param:Fe,value:We,op:"a"})}appendAll(Fe){const We=[];return Object.keys(Fe).forEach(Pt=>{const mt=Fe[Pt];Array.isArray(mt)?mt.forEach(jt=>{We.push({param:Pt,value:jt,op:"a"})}):We.push({param:Pt,value:mt,op:"a"})}),this.clone(We)}set(Fe,We){return this.clone({param:Fe,value:We,op:"s"})}delete(Fe,We){return this.clone({param:Fe,value:We,op:"d"})}toString(){return this.init(),this.keys().map(Fe=>{const We=this.encoder.encodeKey(Fe);return this.map.get(Fe).map(Pt=>We+"="+this.encoder.encodeValue(Pt)).join("&")}).filter(Fe=>""!==Fe).join("&")}clone(Fe){const We=new ye({encoder:this.encoder});return We.cloneFrom=this.cloneFrom||this,We.updates=(this.updates||[]).concat(Fe),We}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Fe=>this.map.set(Fe,this.cloneFrom.map.get(Fe))),this.updates.forEach(Fe=>{switch(Fe.op){case"a":case"s":const We=("a"===Fe.op?this.map.get(Fe.param):void 0)||[];We.push(he(Fe.value)),this.map.set(Fe.param,We);break;case"d":if(void 0===Fe.value){this.map.delete(Fe.param);break}{let Pt=this.map.get(Fe.param)||[];const mt=Pt.indexOf(he(Fe.value));-1!==mt&&Pt.splice(mt,1),Pt.length>0?this.map.set(Fe.param,Pt):this.map.delete(Fe.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(Fe,We){return this.map.set(Fe,We),this}get(Fe){return this.map.has(Fe)||this.map.set(Fe,Fe.defaultValue()),this.map.get(Fe)}delete(Fe){return this.map.delete(Fe),this}has(Fe){return this.map.has(Fe)}keys(){return this.map.keys()}}function nt(Nt){return typeof ArrayBuffer<"u"&&Nt instanceof ArrayBuffer}function $e(Nt){return typeof Blob<"u"&&Nt instanceof Blob}function st(Nt){return typeof FormData<"u"&&Nt instanceof FormData}class ct{constructor(Fe,We,Pt,mt){let jt;if(this.url=We,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Fe.toUpperCase(),function J(Nt){switch(Nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||mt?(this.body=void 0!==Pt?Pt:null,jt=mt):jt=Pt,jt&&(this.reportProgress=!!jt.reportProgress,this.withCredentials=!!jt.withCredentials,jt.responseType&&(this.responseType=jt.responseType),jt.headers&&(this.headers=jt.headers),jt.context&&(this.context=jt.context),jt.params&&(this.params=jt.params)),this.headers||(this.headers=new re),this.context||(this.context=new Ze),this.params){const qn=this.params.toString();if(0===qn.length)this.urlWithParams=We;else{const fr=We.indexOf("?");this.urlWithParams=We+(-1===fr?"?":fr<We.length-1?"&":"")+qn}}else this.params=new ye,this.urlWithParams=We}serializeBody(){return null===this.body?null:nt(this.body)||$e(this.body)||st(this.body)||function Xe(Nt){return typeof URLSearchParams<"u"&&Nt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||st(this.body)?null:$e(this.body)?this.body.type||null:nt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Fe={}){const We=Fe.method||this.method,Pt=Fe.url||this.url,mt=Fe.responseType||this.responseType,jt=void 0!==Fe.body?Fe.body:this.body,qn=void 0!==Fe.withCredentials?Fe.withCredentials:this.withCredentials,fr=void 0!==Fe.reportProgress?Fe.reportProgress:this.reportProgress;let Qt=Fe.headers||this.headers,Mn=Fe.params||this.params;const yr=Fe.context??this.context;return void 0!==Fe.setHeaders&&(Qt=Object.keys(Fe.setHeaders).reduce(($r,Kn)=>$r.set(Kn,Fe.setHeaders[Kn]),Qt)),Fe.setParams&&(Mn=Object.keys(Fe.setParams).reduce(($r,Kn)=>$r.set(Kn,Fe.setParams[Kn]),Mn)),new ct(We,Pt,jt,{params:Mn,headers:Qt,context:yr,reportProgress:fr,responseType:mt,withCredentials:qn})}}var It=(()=>((It=It||{})[It.Sent=0]="Sent",It[It.UploadProgress=1]="UploadProgress",It[It.ResponseHeader=2]="ResponseHeader",It[It.DownloadProgress=3]="DownloadProgress",It[It.Response=4]="Response",It[It.User=5]="User",It))();class le{constructor(Fe,We=200,Pt="OK"){this.headers=Fe.headers||new re,this.status=void 0!==Fe.status?Fe.status:We,this.statusText=Fe.statusText||Pt,this.url=Fe.url||null,this.ok=this.status>=200&&this.status<300}}class Ce extends le{constructor(Fe={}){super(Fe),this.type=It.ResponseHeader}clone(Fe={}){return new Ce({headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class se extends le{constructor(Fe={}){super(Fe),this.type=It.Response,this.body=void 0!==Fe.body?Fe.body:null}clone(Fe={}){return new se({body:void 0!==Fe.body?Fe.body:this.body,headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class me extends le{constructor(Fe){super(Fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Fe.url||"(unknown url)"}`:`Http failure response for ${Fe.url||"(unknown url)"}: ${Fe.status} ${Fe.statusText}`,this.error=Fe.error||null}}function W(Nt,Fe){return{body:Fe,headers:Nt.headers,context:Nt.context,observe:Nt.observe,params:Nt.params,reportProgress:Nt.reportProgress,responseType:Nt.responseType,withCredentials:Nt.withCredentials}}let ce=(()=>{class Nt{constructor(We){this.handler=We}request(We,Pt,mt={}){let jt;if(We instanceof ct)jt=We;else{let Qt,Mn;Qt=mt.headers instanceof re?mt.headers:new re(mt.headers),mt.params&&(Mn=mt.params instanceof ye?mt.params:new ye({fromObject:mt.params})),jt=new ct(We,Pt,void 0!==mt.body?mt.body:null,{headers:Qt,context:mt.context,params:Mn,reportProgress:mt.reportProgress,responseType:mt.responseType||"json",withCredentials:mt.withCredentials})}const qn=(0,G.of)(jt).pipe((0,Ee.b)(Qt=>this.handler.handle(Qt)));if(We instanceof ct||"events"===mt.observe)return qn;const fr=qn.pipe((0,Y.h)(Qt=>Qt instanceof se));switch(mt.observe||"body"){case"body":switch(jt.responseType){case"arraybuffer":return fr.pipe((0,de.U)(Qt=>{if(null!==Qt.body&&!(Qt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Qt.body}));case"blob":return fr.pipe((0,de.U)(Qt=>{if(null!==Qt.body&&!(Qt.body instanceof Blob))throw new Error("Response is not a Blob.");return Qt.body}));case"text":return fr.pipe((0,de.U)(Qt=>{if(null!==Qt.body&&"string"!=typeof Qt.body)throw new Error("Response is not a string.");return Qt.body}));default:return fr.pipe((0,de.U)(Qt=>Qt.body))}case"response":return fr;default:throw new Error(`Unreachable: unhandled observe type ${mt.observe}}`)}}delete(We,Pt={}){return this.request("DELETE",We,Pt)}get(We,Pt={}){return this.request("GET",We,Pt)}head(We,Pt={}){return this.request("HEAD",We,Pt)}jsonp(We,Pt){return this.request("JSONP",We,{params:(new ye).append(Pt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(We,Pt={}){return this.request("OPTIONS",We,Pt)}patch(We,Pt,mt={}){return this.request("PATCH",We,W(mt,Pt))}post(We,Pt,mt={}){return this.request("POST",We,W(mt,Pt))}put(We,Pt,mt={}){return this.request("PUT",We,W(mt,Pt))}}return Nt.\u0275fac=function(We){return new(We||Nt)(F.LFG(Me))},Nt.\u0275prov=F.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();class Ne{constructor(Fe,We){this.next=Fe,this.interceptor=We}handle(Fe){return this.interceptor.intercept(Fe,this.next)}}const dt=new F.OlP("HTTP_INTERCEPTORS");let Ue=(()=>{class Nt{intercept(We,Pt){return Pt.handle(We)}}return Nt.\u0275fac=function(We){return new(We||Nt)},Nt.\u0275prov=F.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();const hn=/^\)\]\}',?\n/;let Gn=(()=>{class Nt{constructor(We){this.xhrFactory=We}handle(We){if("JSONP"===We.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ae.y(Pt=>{const mt=this.xhrFactory.build();if(mt.open(We.method,We.urlWithParams),We.withCredentials&&(mt.withCredentials=!0),We.headers.forEach((En,wn)=>mt.setRequestHeader(En,wn.join(","))),We.headers.has("Accept")||mt.setRequestHeader("Accept","application/json, text/plain, */*"),!We.headers.has("Content-Type")){const En=We.detectContentTypeHeader();null!==En&&mt.setRequestHeader("Content-Type",En)}if(We.responseType){const En=We.responseType.toLowerCase();mt.responseType="json"!==En?En:"text"}const jt=We.serializeBody();let qn=null;const fr=()=>{if(null!==qn)return qn;const En=mt.statusText||"OK",wn=new re(mt.getAllResponseHeaders()),jr=function qt(Nt){return"responseURL"in Nt&&Nt.responseURL?Nt.responseURL:/^X-Request-URL:/m.test(Nt.getAllResponseHeaders())?Nt.getResponseHeader("X-Request-URL"):null}(mt)||We.url;return qn=new Ce({headers:wn,status:mt.status,statusText:En,url:jr}),qn},Qt=()=>{let{headers:En,status:wn,statusText:jr,url:bn}=fr(),nr=null;204!==wn&&(nr=typeof mt.response>"u"?mt.responseText:mt.response),0===wn&&(wn=nr?200:0);let Yn=wn>=200&&wn<300;if("json"===We.responseType&&"string"==typeof nr){const Br=nr;nr=nr.replace(hn,"");try{nr=""!==nr?JSON.parse(nr):null}catch(lr){nr=Br,Yn&&(Yn=!1,nr={error:lr,text:nr})}}Yn?(Pt.next(new se({body:nr,headers:En,status:wn,statusText:jr,url:bn||void 0})),Pt.complete()):Pt.error(new me({error:nr,headers:En,status:wn,statusText:jr,url:bn||void 0}))},Mn=En=>{const{url:wn}=fr(),jr=new me({error:En,status:mt.status||0,statusText:mt.statusText||"Unknown Error",url:wn||void 0});Pt.error(jr)};let yr=!1;const $r=En=>{yr||(Pt.next(fr()),yr=!0);let wn={type:It.DownloadProgress,loaded:En.loaded};En.lengthComputable&&(wn.total=En.total),"text"===We.responseType&&!!mt.responseText&&(wn.partialText=mt.responseText),Pt.next(wn)},Kn=En=>{let wn={type:It.UploadProgress,loaded:En.loaded};En.lengthComputable&&(wn.total=En.total),Pt.next(wn)};return mt.addEventListener("load",Qt),mt.addEventListener("error",Mn),mt.addEventListener("timeout",Mn),mt.addEventListener("abort",Mn),We.reportProgress&&(mt.addEventListener("progress",$r),null!==jt&&mt.upload&&mt.upload.addEventListener("progress",Kn)),mt.send(jt),Pt.next({type:It.Sent}),()=>{mt.removeEventListener("error",Mn),mt.removeEventListener("abort",Mn),mt.removeEventListener("load",Qt),mt.removeEventListener("timeout",Mn),We.reportProgress&&(mt.removeEventListener("progress",$r),null!==jt&&mt.upload&&mt.upload.removeEventListener("progress",Kn)),mt.readyState!==mt.DONE&&mt.abort()}})}}return Nt.\u0275fac=function(We){return new(We||Nt)(F.LFG(c.JF))},Nt.\u0275prov=F.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();const Sn=new F.OlP("XSRF_COOKIE_NAME"),Ln=new F.OlP("XSRF_HEADER_NAME");class Lr{}let Rn=(()=>{class Nt{constructor(We,Pt,mt){this.doc=We,this.platform=Pt,this.cookieName=mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const We=this.doc.cookie||"";return We!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(We,this.cookieName),this.lastCookieString=We),this.lastToken}}return Nt.\u0275fac=function(We){return new(We||Nt)(F.LFG(c.K0),F.LFG(F.Lbi),F.LFG(Sn))},Nt.\u0275prov=F.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})(),mr=(()=>{class Nt{constructor(We,Pt){this.tokenService=We,this.headerName=Pt}intercept(We,Pt){const mt=We.url.toLowerCase();if("GET"===We.method||"HEAD"===We.method||mt.startsWith("http://")||mt.startsWith("https://"))return Pt.handle(We);const jt=this.tokenService.getToken();return null!==jt&&!We.headers.has(this.headerName)&&(We=We.clone({headers:We.headers.set(this.headerName,jt)})),Pt.handle(We)}}return Nt.\u0275fac=function(We){return new(We||Nt)(F.LFG(Lr),F.LFG(Ln))},Nt.\u0275prov=F.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})(),Rt=(()=>{class Nt{constructor(We,Pt){this.backend=We,this.injector=Pt,this.chain=null}handle(We){if(null===this.chain){const Pt=this.injector.get(dt,[]);this.chain=Pt.reduceRight((mt,jt)=>new Ne(mt,jt),this.backend)}return this.chain.handle(We)}}return Nt.\u0275fac=function(We){return new(We||Nt)(F.LFG(fe),F.LFG(F.zs3))},Nt.\u0275prov=F.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})(),Ir=(()=>{class Nt{static disable(){return{ngModule:Nt,providers:[{provide:mr,useClass:Ue}]}}static withOptions(We={}){return{ngModule:Nt,providers:[We.cookieName?{provide:Sn,useValue:We.cookieName}:[],We.headerName?{provide:Ln,useValue:We.headerName}:[]]}}}return Nt.\u0275fac=function(We){return new(We||Nt)},Nt.\u0275mod=F.oAB({type:Nt}),Nt.\u0275inj=F.cJS({providers:[mr,{provide:dt,useExisting:mr,multi:!0},{provide:Lr,useClass:Rn},{provide:Sn,useValue:"XSRF-TOKEN"},{provide:Ln,useValue:"X-XSRF-TOKEN"}]}),Nt})(),sr=(()=>{class Nt{}return Nt.\u0275fac=function(We){return new(We||Nt)},Nt.\u0275mod=F.oAB({type:Nt}),Nt.\u0275inj=F.cJS({providers:[ce,{provide:Me,useClass:Rt},Gn,{provide:fe,useExisting:Gn}],imports:[Ir.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Nt})()},5062:(Jt,lt,O)=>{"use strict";O.d(lt,{deG:()=>nu,tb:()=>xw,AFp:()=>Tw,ip1:()=>Cw,CZH:()=>Fv,hGG:()=>Yb,z2F:()=>Bv,sBO:()=>Ob,Sil:()=>hb,_Vd:()=>jd,EJc:()=>lb,Xts:()=>Zp,SBq:()=>a,lqb:()=>hl,qLn:()=>ka,vpe:()=>Bc,XFs:()=>un,OlP:()=>ei,zs3:()=>Ua,ZZ4:()=>X0,aQg:()=>Q0,soG:()=>Lv,YKP:()=>Mv,h0i:()=>Lc,PXZ:()=>Cb,R0b:()=>Wa,FiY:()=>Oo,Lbi:()=>ab,g9A:()=>Aw,Qsj:()=>L,FYo:()=>D,JOm:()=>Ts,tp0:()=>iu,Rgc:()=>Sm,dDg:()=>wb,eoX:()=>Fw,q4F:()=>Dt,GfV:()=>Le,s_b:()=>Ov,ifc:()=>Qt,MMx:()=>T0,hM9:()=>Rv,eFA:()=>Vw,G48:()=>Pb,Gpc:()=>he,f3M:()=>ac,X6Q:()=>Rb,_c5:()=>Kb,c2e:()=>ub,zSh:()=>eg,wAp:()=>cr,vHH:()=>J,lri:()=>kw,rWj:()=>Nw,D6c:()=>Zb,cg1:()=>Cp,kL8:()=>ym,dqk:()=>Mn,sIi:()=>Zo,CqO:()=>Dl,QGY:()=>Fh,QP$:()=>kp,F4k:()=>em,RDi:()=>_o,AaK:()=>Z,qOj:()=>Sh,TTD:()=>ds,_Bn:()=>Av,xp6:()=>Kp,uIk:()=>Yg,ekj:()=>hm,Suo:()=>tw,Xpm:()=>br,lG2:()=>Hn,Yz7:()=>qt,cJS:()=>Sn,oAB:()=>kt,Yjl:()=>Pn,Y36:()=>pd,_UZ:()=>kh,GkF:()=>Nd,BQk:()=>Nh,ynx:()=>kd,qZA:()=>Od,TgZ:()=>Oh,EpF:()=>Jg,n5z:()=>yn,LFG:()=>Ri,$8M:()=>tu,$Z:()=>oy,NdJ:()=>Lh,CRH:()=>nw,oxw:()=>nm,ALo:()=>WE,xi3:()=>qE,Hsn:()=>Fy,F$t:()=>Ny,Q6J:()=>Rh,s9C:()=>rm,DdM:()=>BE,VKq:()=>VE,WLB:()=>$E,iGM:()=>JE,MAs:()=>Mh,KtG:()=>er,CHM:()=>Cn,LSH:()=>Yl,kYT:()=>yt,Akn:()=>_a,YNc:()=>Ry,W1O:()=>ow,_uU:()=>Oc,Oqu:()=>Ld,hij:()=>kc,AsE:()=>_p,lnq:()=>Hh,Ywz:()=>Gh,Gf:()=>ew});var c=O(8929),F=O(2654),G=O(2916),Ae=O(6787),Ee=O(1762);class de{constructor(i,o){this.subjectFactory=i,this.selector=o}call(i,o){const{selector:u}=this,l=this.subjectFactory(),p=u(l).subscribe(i);return p.add(o.subscribe(l)),p}}var Me=O(4327);function fe(){return new c.xQ}function Q(n){for(let i in n)if(n[i]===Q)return i;throw Error("Could not find renamed property on target object.")}function oe(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Z(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Z).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Te(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const et=Q({__forward_ref__:Q});function he(n){return n.__forward_ref__=he,n.toString=function(){return Z(this())},n}function ye(n){return je(n)?n():n}function je(n){return"function"==typeof n&&n.hasOwnProperty(et)&&n.__forward_ref__===he}class J extends Error{constructor(i,o){super(function nt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function $e(n){return"string"==typeof n?n:null==n?"":String(n)}function le(n,i){throw new J(-201,!1)}function ze(n,i){null==n&&function Et(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function qt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ln(n){return Lr(n,tr)||Lr(n,Ir)}function Lr(n,i){return n.hasOwnProperty(i)?n[i]:null}function Rt(n){return n&&(n.hasOwnProperty(Wn)||n.hasOwnProperty(sr))?n[Wn]:null}const tr=Q({\u0275prov:Q}),Wn=Q({\u0275inj:Q}),Ir=Q({ngInjectableDef:Q}),sr=Q({ngInjectorDef:Q});var un=(()=>((un=un||{})[un.Default=0]="Default",un[un.Host=1]="Host",un[un.Self=2]="Self",un[un.SkipSelf=4]="SkipSelf",un[un.Optional=8]="Optional",un))();let or;function Fe(n){const i=or;return or=n,i}function We(n,i,o){const u=Ln(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&un.Optional?null:void 0!==i?i:void le(Z(n))}function mt(n){return{toString:n}.toString()}var jt=(()=>((jt=jt||{})[jt.OnPush=0]="OnPush",jt[jt.Default=1]="Default",jt))(),Qt=(()=>{return(n=Qt||(Qt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Qt;var n})();const Mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Kn={},En=[],wn=Q({\u0275cmp:Q}),jr=Q({\u0275dir:Q}),bn=Q({\u0275pipe:Q}),nr=Q({\u0275mod:Q}),Yn=Q({\u0275fac:Q}),Br=Q({__NG_ELEMENT_ID__:Q});let lr=0;function br(n){return mt(()=>{const o=!0===n.standalone,u={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===jt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||En,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Qt.Emulated,id:"c"+lr++,styles:n.styles||En,_:null,setInput:null,schemas:n.schemas||null,tView:null},p=n.dependencies,_=n.features;return l.inputs=fn(n.inputs,u),l.outputs=fn(n.outputs),_&&_.forEach(C=>C(l)),l.directiveDefs=p?()=>("function"==typeof p?p():p).map(Oe).filter(be):null,l.pipeDefs=p?()=>("function"==typeof p?p():p).map(Ye).filter(be):null,l})}function Oe(n){return Un(n)||ir(n)}function be(n){return null!==n}const qe={};function kt(n){return mt(()=>{const i={type:n.type,bootstrap:n.bootstrap||En,declarations:n.declarations||En,imports:n.imports||En,exports:n.exports||En,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(qe[n.id]=n.type),i})}function yt(n,i){return mt(()=>{const o=we(n,!0);o.declarations=i.declarations||En,o.imports=i.imports||En,o.exports=i.exports||En})}function fn(n,i){if(null==n)return Kn;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],p=l;Array.isArray(l)&&(p=l[1],l=l[0]),o[l]=u,i&&(i[l]=p)}return o}const Hn=br;function Pn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Un(n){return n[wn]||null}function ir(n){return n[jr]||null}function Ye(n){return n[bn]||null}function we(n,i){const o=n[nr]||null;if(!o&&!0===i)throw new Error(`Type ${Z(n)} does not have '\u0275mod' property.`);return o}function At(n){return Array.isArray(n)&&"object"==typeof n[1]}function Mt(n){return Array.isArray(n)&&!0===n[1]}function Bt(n){return 0!=(8&n.flags)}function Yt(n){return 2==(2&n.flags)}function On(n){return 1==(1&n.flags)}function kn(n){return null!==n.template}function hr(n){return 0!=(256&n[2])}function mi(n,i){return n.hasOwnProperty(Yn)?n[Yn]:null}class Xi{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ds(){return Ps}function Ps(n){return n.type.prototype.ngOnChanges&&(n.setInput=bs),Xs}function Xs(){const n=ms(this),i=n?.current;if(i){const o=n.previous;if(o===Kn)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function bs(n,i,o,u){const l=ms(n)||function Yr(n,i){return n[Qs]=i}(n,{previous:Kn,current:null}),p=l.current||(l.current={}),_=l.previous,C=this.declaredInputs[o],A=_[C];p[C]=new Xi(A&&A.currentValue,i,_===Kn),n[u]=i}ds.ngInherit=!0;const Qs="__ngSimpleChanges__";function ms(n){return n[Qs]||null}function Zr(n){for(;Array.isArray(n);)n=n[0];return n}function Gs(n,i){return Zr(i[n])}function k(n,i){return Zr(i[n.index])}function B(n,i){return n.data[i]}function ae(n,i){return n[i]}function Ge(n,i){const o=i[n];return At(o)?o:o[0]}function Ot(n){return 4==(4&n[2])}function $t(n){return 64==(64&n[2])}function gr(n,i){return null==i?null:n[i]}function Hr(n){n[18]=0}function ar(n,i){n[5]+=i;let o=n,u=n[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const mn={lFrame:To(null),bindingsEnabled:!0};function y(){return mn.bindingsEnabled}function xe(){return mn.lFrame.lView}function Ht(){return mn.lFrame.tView}function Cn(n){return mn.lFrame.contextLView=n,n[8]}function er(n){return mn.lFrame.contextLView=null,n}function Qn(){let n=N();for(;null!==n&&64===n.type;)n=n.parent;return n}function N(){return mn.lFrame.currentTNode}function S(n,i){const o=mn.lFrame;o.currentTNode=n,o.isParent=i}function q(){return mn.lFrame.isParent}function _t(){mn.lFrame.isParent=!1}function Jr(){const n=mn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function wi(){return mn.lFrame.bindingIndex}function ys(){return mn.lFrame.bindingIndex++}function ss(n){const i=mn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Ju(n,i){const o=mn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Jo(i)}function Jo(n){mn.lFrame.currentDirectiveIndex=n}function ea(){return mn.lFrame.currentQueryIndex}function po(n){mn.lFrame.currentQueryIndex=n}function Bo(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function go(n,i,o){if(o&un.SkipSelf){let l=i,p=n;for(;!(l=l.parent,null!==l||o&un.Host||(l=Bo(p),null===l||(p=p[15],10&l.type))););if(null===l)return!1;i=l,n=p}const u=mn.lFrame=to();return u.currentTNode=i,u.lView=n,!0}function qa(n){const i=to(),o=n[1];mn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function to(){const n=mn.lFrame,i=null===n?null:n.child;return null===i?To(n):i}function To(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Ka(){const n=mn.lFrame;return mn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ta=Ka;function no(){const n=Ka();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ji(){return mn.lFrame.selectedIndex}function Ws(n){mn.lFrame.selectedIndex=n}function ci(){const n=mn.lFrame;return B(n.tView,n.selectedIndex)}function mo(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:A,ngAfterViewChecked:j,ngOnDestroy:te}=p;_&&(n.contentHooks||(n.contentHooks=[])).push(-o,_),C&&((n.contentHooks||(n.contentHooks=[])).push(o,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,C)),A&&(n.viewHooks||(n.viewHooks=[])).push(-o,A),j&&((n.viewHooks||(n.viewHooks=[])).push(o,j),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,j)),null!=te&&(n.destroyHooks||(n.destroyHooks=[])).push(o,te)}}function So(n,i,o){Vo(n,i,3,o)}function es(n,i,o,u){(3&n[2])===o&&Vo(n,i,o,u)}function Ia(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function Vo(n,i,o,u){const p=u??-1,_=i.length-1;let C=0;for(let A=void 0!==u?65535&n[18]:0;A<_;A++)if("number"==typeof i[A+1]){if(C=i[A],null!=u&&C>=u)break}else i[A]<0&&(n[18]+=65536),(C<p||-1==p)&&($o(n,o,i,A),n[18]=(4294901760&n[18])+A+2),A++}function $o(n,i,o,u){const l=o[u]<0,p=o[u+1],C=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class Wi{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Ao(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const p=o[u++],_=o[u++],C=o[u++];n.setAttribute(i,_,C,p)}else{const p=l,_=o[++u];xo(p)?n.setProperty(i,p,_):n.setAttribute(i,p,_),u++}}return u}function tc(n){return 3===n||4===n||6===n}function xo(n){return 64===n.charCodeAt(0)}function Ds(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||Ni(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function Ni(n,i,o,u,l){let p=0,_=n.length;if(-1===i)_=-1;else for(;p<n.length;){const C=n[p++];if("number"==typeof C){if(C===i){_=-1;break}if(C>i){_=p-1;break}}}for(;p<n.length;){const C=n[p];if("number"==typeof C)break;if(C===o){if(null===u)return void(null!==l&&(n[p+1]=l));if(u===n[p+1])return void(n[p+2]=l)}p++,null!==u&&p++,null!==l&&p++}-1!==_&&(n.splice(_,0,i),p=_+1),n.splice(p++,0,o),null!==u&&n.splice(p++,0,u),null!==l&&n.splice(p++,0,l)}function Qa(n){return-1!==n}function io(n){return 32767&n}function ks(n,i){let o=function Cs(n){return n>>16}(n),u=i;for(;o>0;)u=u[15],o--;return u}let sa=!0;function Ks(n){const i=sa;return sa=n,i}let Vc=0;const fi={};function oa(n,i){const o=eu(n,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(n.injectorIndex=i.length,yi(u.data,n),yi(i,null),yi(u.blueprint,null));const l=Ca(n,i),p=n.injectorIndex;if(Qa(l)){const _=io(l),C=ks(l,i),A=C[1].data;for(let j=0;j<8;j++)i[p+j]=C[_+j]|A[_+j]}return i[p+8]=l,p}function yi(n,i){n.push(0,0,0,0,0,0,0,0,i)}function eu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ca(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Si(l),null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Ns(n,i,o){!function Ja(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Br)&&(u=o[Br]),null==u&&(u=o[Br]=Vc++);const l=255&u;i.data[n+(l>>5)]|=1<<l}(n,i,o)}function ts(n,i,o){if(o&un.Optional)return n;le()}function Fs(n,i,o,u){if(o&un.Optional&&void 0===u&&(u=null),0==(o&(un.Self|un.Host))){const l=n[9],p=Fe(void 0);try{return l?l.get(i,u,o&un.Optional):We(i,u,o&un.Optional)}finally{Fe(p)}}return ts(u,0,o)}function yo(n,i,o,u=un.Default,l){if(null!==n){if(1024&i[2]){const _=function Gt(n,i,o,u,l){let p=n,_=i;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const C=Ys(p,_,o,u|un.Self,fi);if(C!==fi)return C;let A=p.parent;if(!A){const j=_[21];if(j){const te=j.get(o,fi,u);if(te!==fi)return te}A=Si(_),_=_[15]}p=A}return l}(n,i,o,u,fi);if(_!==fi)return _}const p=Ys(n,i,o,u,fi);if(p!==fi)return p}return Fs(i,o,u,l)}function Ys(n,i,o,u,l){const p=function xs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Br)?n[Br]:void 0;return"number"==typeof i?i>=0?255&i:rc:i}(o);if("function"==typeof p){if(!go(i,n,u))return u&un.Host?ts(l,0,u):Fs(i,o,u,l);try{const _=p(u);if(null!=_||u&un.Optional)return _;le()}finally{ta()}}else if("number"==typeof p){let _=null,C=eu(n,i),A=-1,j=u&un.Host?i[16][6]:null;for((-1===C||u&un.SkipSelf)&&(A=-1===C?Ca(n,i):i[C+8],-1!==A&&An(u,!1)?(_=i[1],C=io(A),i=ks(A,i)):C=-1);-1!==C;){const te=i[1];if(vi(p,C,te.data)){const _e=nc(C,i,o,_,u,j);if(_e!==fi)return _e}A=i[C+8],-1!==A&&An(u,i[1].data[C+8]===j)&&vi(p,C,i)?(_=te,C=io(A),i=ks(A,i)):C=-1}}return l}function nc(n,i,o,u,l,p){const _=i[1],C=_.data[n+8],te=Zt(C,_,o,null==u?Yt(C)&&sa:u!=_&&0!=(3&C.type),l&un.Host&&p===C);return null!==te?ii(i,_,te,C):fi}function Zt(n,i,o,u,l){const p=n.providerIndexes,_=i.data,C=1048575&p,A=n.directiveStart,te=p>>20,it=l?C+te:n.directiveEnd;for(let Ct=u?C:C+te;Ct<it;Ct++){const zt=_[Ct];if(Ct<A&&o===zt||Ct>=A&&zt.type===o)return Ct}if(l){const Ct=_[A];if(Ct&&kn(Ct)&&Ct.type===o)return A}return null}function ii(n,i,o,u){let l=n[o];const p=i.data;if(function ba(n){return n instanceof Wi}(l)){const _=l;_.resolving&&function Xe(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new J(-200,`Circular dependency in DI detected for ${n}${o}`)}(function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():$e(n)}(p[o]));const C=Ks(_.canSeeViewProviders);_.resolving=!0;const A=_.injectImpl?Fe(_.injectImpl):null;go(n,u,un.Default);try{l=n[o]=_.factory(void 0,p,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Du(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:p}=i.type.prototype;if(u){const _=Ps(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,_)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],i)}finally{null!==A&&Fe(A),Ks(C),_.resolving=!1,ta()}}return l}function vi(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function An(n,i){return!(n&un.Self||n&un.Host&&i)}class Dn{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return yo(this._tNode,this._lView,i,u,o)}}function rc(){return new Dn(Qn(),xe())}function yn(n){return mt(()=>{const i=n.prototype.constructor,o=i[Yn]||St(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const p=l[Yn]||St(l);if(p&&p!==o)return p;l=Object.getPrototypeOf(l)}return p=>new p})}function St(n){return je(n)?()=>{const i=St(ye(n));return i&&i()}:mi(n)}function Si(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function tu(n){return function Uo(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const p=o[l];if(tc(p))break;if(0===p)l+=2;else if("number"==typeof p)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(p===i)return o[l+1];l+=2}}}return null}(Qn(),n)}const jo="__parameters__";function so(n,i,o){return mt(()=>{const u=function Sa(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...p){if(this instanceof l)return u.apply(this,p),this;const _=new l(...p);return C.annotation=_,C;function C(A,j,te){const _e=A.hasOwnProperty(jo)?A[jo]:Object.defineProperty(A,jo,{value:[]})[jo];for(;_e.length<=te;)_e.push(null);return(_e[te]=_e[te]||[]).push(_),A}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class ei{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=qt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const nu=new ei("AnalyzeForEntryComponents");function $(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(i===n&&(i=n.slice(0,o)),$(u,i)):i!==n&&i.push(u)}return i}function ee(n,i){n.forEach(o=>Array.isArray(o)?ee(o,i):i(o))}function Ie(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Qe(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Vt(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}function vt(n,i,o){let u=qi(n,i);return u>=0?n[1|u]=o:(u=~u,function jn(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function oo(n,i){const o=qi(n,i);if(o>=0)return n[1|o]}function qi(n,i){return function Ma(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const p=u+(l-u>>1),_=n[p<<o];if(i===_)return p<<o;_>i?l=p:u=p+1}return~(l<<o)}(n,i,1)}const Ho={},oc="__NG_DI_FLAG__",Ki="ngTempTokenPath",Vl=/\n/gm,Ru="__source";let Po;function Go(n){const i=Po;return Po=n,i}function jc(n,i=un.Default){if(void 0===Po)throw new J(-203,!1);return null===Po?We(n,void 0,i):Po.get(n,i&un.Optional?null:void 0,i)}function Ri(n,i=un.Default){return(function Nt(){return or}()||jc)(ye(n),i)}function ac(n,i=un.Default){return Ri(n,i)}function zo(n){const i=[];for(let o=0;o<n.length;o++){const u=ye(n[o]);if(Array.isArray(u)){if(0===u.length)throw new J(900,!1);let l,p=un.Default;for(let _=0;_<u.length;_++){const C=u[_],A=cf(C);"number"==typeof A?-1===A?l=C.token:p|=A:l=C}i.push(Ri(l,p))}else i.push(Ri(u))}return i}function uc(n,i){return n[oc]=i,n.prototype[oc]=i,n}function cf(n){return n[oc]}const Oo=uc(so("Optional"),8),iu=uc(so("SkipSelf"),4);let _i;function _o(n){_i=n}class ku{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Pa(n){return n instanceof ku?n.changingThisBreaksApplicationSecurity:n}const au=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Yi=(()=>((Yi=Yi||{})[Yi.NONE=0]="NONE",Yi[Yi.HTML=1]="HTML",Yi[Yi.STYLE=2]="STYLE",Yi[Yi.SCRIPT=3]="SCRIPT",Yi[Yi.URL=4]="URL",Yi[Yi.RESOURCE_URL=5]="RESOURCE_URL",Yi))();function Yl(n){const i=function as(){const n=xe();return n&&n[12]}();return i?i.sanitize(Yi.URL,n)||"":function hc(n,i){const o=function Wc(n){return n instanceof ku&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(n,"URL")?Pa(n):function Ko(n){return(n=String(n)).match(au)||n.match(hf)?n:"unsafe:"+n}($e(n))}function Bu(n){return n.ngOriginalError}class ka{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Bu(i);for(;o&&Bu(o);)o=Bu(o);return o||null}}const cu=new Map;let Zc=0;const yc="__ngContext__";function Rs(n,i){At(i)?(n[yc]=i[20],function ga(n){cu.set(n[20],n)}(i)):n[yc]=i}function lu(n){const i=n[yc];return"number"==typeof i?function th(n){return cu.get(n)||null}(i):i||null}function ed(n){const i=lu(n);return i?At(i)?i:i.lView:null}const wo=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Mn))();function ma(n){return n instanceof Function?n():n}var Ts=(()=>((Ts=Ts||{})[Ts.Important=1]="Important",Ts[Ts.DashCase=2]="DashCase",Ts))();function nl(n,i){return undefined(n,i)}function Ec(n){const i=n[3];return Mt(i)?i[3]:i}function m(n){return f(n[13])}function h(n){return f(n[4])}function f(n){for(;null!==n&&!Mt(n);)n=n[4];return n}function U(n,i,o,u,l){if(null!=u){let p,_=!1;Mt(u)?p=u:At(u)&&(_=!0,u=u[0]);const C=Zr(u);0===n&&null!==o?null==l?Tf(i,o,C):Ba(i,o,C,l||null,!0):1===n&&null!==o?Ba(i,o,C,l||null,!0):2===n?function Va(n,i,o){const u=Af(n,i);u&&function Sf(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,C,_):3===n&&i.destroyNode(C),null!=p&&function km(n,i,o,u,l){const p=o[7];p!==Zr(o)&&U(i,n,u,p,l);for(let C=10;C<o.length;C++){const A=o[C];sd(A[1],A,n,i,u,p)}}(i,n,p,o,l)}}function Wt(n,i,o){return n.createElement(i,o)}function nd(n,i){const o=n[9],u=o.indexOf(i),l=i[3];512&i[2]&&(i[2]&=-513,ar(l,-1)),o.splice(u,1)}function $u(n,i){if(n.length<=10)return;const o=10+i,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&nd(l,u),i>0&&(n[o-1][4]=u[4]);const p=Qe(n,10+i);!function gn(n,i){sd(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const _=p[19];null!==_&&_.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Uu(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&sd(n,i,o,3,null,null),function Hi(n){let i=n[13];if(!i)return fu(n[1],n);for(;i;){let o=null;if(At(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==n;)At(i)&&fu(i[1],i),i=i[3];null===i&&(i=n),At(i)&&fu(i[1],i),o=i&&i[4]}i=o}}(i)}}function fu(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function il(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Wi)){const p=o[u+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const C=l[p[_]],A=p[_+1];try{A.call(C)}finally{}}else try{p.call(l)}finally{}}}}(n,i),function ju(n,i){const o=n.cleanup,u=i[7];let l=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const _=o[p+1],C="function"==typeof _?_(i):Zr(i[_]),A=u[l=o[p+2]],j=o[p+3];"boolean"==typeof j?C.removeEventListener(o[p],A,j):j>=0?u[l=j]():u[l=-j].unsubscribe(),p+=2}else{const _=u[l=o[p+1]];o[p].call(_)}if(null!==u){for(let p=l+1;p<u.length;p++)u[p]();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Mt(i[3])){o!==i[3]&&nd(o,i);const u=i[19];null!==u&&u.detachView(n)}!function Xc(n){cu.delete(n[20])}(i)}}function rd(n,i,o){return function sl(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===Qt.None||l===Qt.Emulated)return null}return k(u,o)}(n,i.parent,o)}function Ba(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Tf(n,i,o){n.appendChild(i,o)}function ol(n,i,o,u,l){null!==u?Ba(n,i,o,u,l):Tf(n,i,o)}function Af(n,i){return n.parentNode(i)}function Pm(n,i,o){return al(n,i,o)}let al=function xf(n,i,o){return 40&n.type?k(n,o):null};function ns(n,i,o,u){const l=rd(n,u,i),p=i[11],C=Pm(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(o))for(let A=0;A<o.length;A++)ol(p,l,o[A],C,!1);else ol(p,l,o,C,!1)}function id(n,i){if(null!==i){const o=i.type;if(3&o)return k(i,n);if(4&o)return ul(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return id(n,u);{const l=n[i.index];return Mt(l)?ul(-1,l):Zr(l)}}if(32&o)return nl(i,n)()||Zr(n[i.index]);{const u=zp(n,i);return null!==u?Array.isArray(u)?u[0]:id(Ec(n[16]),u):id(n,i.next)}}return null}function zp(n,i){return null!==i?n[16][6].projection[i.projection]:null}function ul(n,i){const o=10+n+1;if(o<i.length){const u=i[o],l=u[1].firstChild;if(null!==l)return id(u,l)}return i[7]}function oh(n,i,o,u,l,p,_){for(;null!=o;){const C=u[o.index],A=o.type;if(_&&0===i&&(C&&Rs(Zr(C),u),o.flags|=4),64!=(64&o.flags))if(8&A)oh(n,i,o.child,u,l,p,!1),U(i,n,l,C,p);else if(32&A){const j=nl(o,u);let te;for(;te=j();)U(i,n,l,te,p);U(i,n,l,C,p)}else 16&A?Wp(n,i,u,o,l,p):U(i,n,l,C,p);o=_?o.projectionNext:o.next}}function sd(n,i,o,u,l,p){oh(o,u,n.firstChild,i,l,p,!1)}function Wp(n,i,o,u,l,p){const _=o[16],A=_[6].projection[u.projection];if(Array.isArray(A))for(let j=0;j<A.length;j++)U(i,n,l,A[j],p);else oh(n,i,A,_[3],l,p,!0)}function Fm(n,i,o){n.setAttribute(i,"style",o)}function qp(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function od(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const p=i.length;if(l+p===u||n.charCodeAt(l+p)<=32)return l}o=l+1}}const Bm="ng-template";function Vm(n,i,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==od(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function Rf(n){return 4===n.type&&n.value!==Bm}function $m(n,i,o){return i===(4!==n.type||o?n.value:Bm)}function Hv(n,i,o){let u=4;const l=n.attrs||[],p=function wc(n){for(let i=0;i<n.length;i++)if(tc(n[i]))return i;return n.length}(l);let _=!1;for(let C=0;C<i.length;C++){const A=i[C];if("number"!=typeof A){if(!_)if(4&u){if(u=2|1&u,""!==A&&!$m(n,A,o)||""===A&&1===i.length){if(ya(u))return!1;_=!0}}else{const j=8&u?A:i[++C];if(8&u&&null!==n.attrs){if(!Vm(n.attrs,j,o)){if(ya(u))return!1;_=!0}continue}const _e=Gv(8&u?"class":A,l,Rf(n),o);if(-1===_e){if(ya(u))return!1;_=!0;continue}if(""!==j){let it;it=_e>p?"":l[_e+1].toLowerCase();const Ct=8&u?it:null;if(Ct&&-1!==od(Ct,j,0)||2&u&&j!==it){if(ya(u))return!1;_=!0}}}}else{if(!_&&!ya(u)&&!ya(A))return!1;if(_&&ya(A))continue;_=!1,u=A|1&u}}return ya(u)||_}function ya(n){return 0==(1&n)}function Gv(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let p=!1;for(;l<i.length;){const _=i[l];if(_===n)return l;if(3===_||6===_)p=!0;else{if(1===_||2===_){let C=i[++l];for(;"string"==typeof C;)C=i[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=p?1:2}return-1}return function ad(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Um(n,i,o=!1){for(let u=0;u<i.length;u++)if(Hv(n,i[u],o))return!0;return!1}function jm(n,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(n.length===u.length){for(let l=0;l<n.length;l++)if(n[l]!==u[l])continue e;return!0}}return!1}function Hm(n,i){return n?":not("+i.trim()+")":i}function Gm(n){let i=n[0],o=1,u=2,l="",p=!1;for(;o<n.length;){let _=n[o];if("string"==typeof _)if(2&u){const C=n[++o];l+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?l+="."+_:4&u&&(l+=" "+_);else""!==l&&!ya(_)&&(i+=Hm(p,l),l=""),u=_,p=p||!ya(u);o++}return""!==l&&(i+=Hm(p,l)),i}const Nr={};function Kp(n){uh(Ht(),xe(),Ji()+n,!1)}function uh(n,i,o,u){if(!u)if(3==(3&i[2])){const p=n.preOrderCheckHooks;null!==p&&So(i,p,o)}else{const p=n.preOrderHooks;null!==p&&es(i,p,0,o)}Ws(o)}const Zp=new ei("ENVIRONMENT_INITIALIZER"),Xp=new ei("INJECTOR_DEF_TYPES");function Km(...n){return{\u0275providers:ch(0,n)}}function ch(n,...i){const o=[],u=new Set;let l;return ee(i,p=>{const _=p;Gu(_,o,[],u)&&(l||(l=[]),l.push(_))}),void 0!==l&&cd(l,o),o}function cd(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];ee(l,p=>{i.push(p)})}}function Gu(n,i,o,u){if(!(n=ye(n)))return!1;let l=null,p=Rt(n);const _=!p&&Un(n);if(p||_){if(_&&!_.standalone)return!1;l=n}else{const A=n.ngModule;if(p=Rt(A),!p)return!1;l=A}const C=u.has(l);if(_){if(C)return!1;if(u.add(l),_.dependencies){const A="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const j of A)Gu(j,i,o,u)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let j;u.add(l);try{ee(p.imports,te=>{Gu(te,i,o,u)&&(j||(j=[]),j.push(te))})}finally{}void 0!==j&&cd(j,i)}if(!C){const j=mi(l)||(()=>new l);i.push({provide:l,useFactory:j,deps:En},{provide:Xp,useValue:l,multi:!0},{provide:Zp,useValue:()=>Ri(l),multi:!0})}const A=p.providers;null==A||C||ee(A,te=>{i.push(te)})}}return l!==n&&void 0!==n.providers}const Ym=Q({provide:String,useValue:Q});function Qp(n){return null!==n&&"object"==typeof n&&Ym in n}function $a(n){return"function"==typeof n}const pu=new ei("INJECTOR",-1);class Jp{get(i,o=Ho){if(o===Ho){const u=new Error(`NullInjectorError: No provider for ${Z(i)}!`);throw u.name="NullInjectorError",u}return o}}const eg=new ei("Set Injector scope."),lh={},qv={};let dh;function hh(){return void 0===dh&&(dh=new Jp),dh}class hl{}class Of extends hl{constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ld(i,_=>this.processProvider(_)),this.records.set(pu,bc(void 0,this)),l.has("environment")&&this.records.set(hl,bc(void 0,this));const p=this.records.get(eg);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Xp.multi,En,un.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}get(i,o=Ho,u=un.Default){this.assertNotDestroyed();const l=Go(this),p=Fe(void 0);try{if(!(u&un.SkipSelf)){let C=this.records.get(i);if(void 0===C){const A=function ey(n){return"function"==typeof n||"object"==typeof n&&n instanceof ei}(i)&&Ln(i);C=A&&this.injectableDefInScope(A)?bc(fh(i),lh):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(u&un.Self?hh():this.parent).get(i,o=u&un.Optional&&o===Ho?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[Ki]=_[Ki]||[]).unshift(Z(i)),l)throw _;return function $l(n,i,o,u){const l=n[Ki];throw i[Ru]&&l.unshift(i[Ru]),n.message=function Hc(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=Z(i);if(Array.isArray(i))l=i.map(Z).join(" -> ");else if("object"==typeof i){let p=[];for(let _ in i)if(i.hasOwnProperty(_)){let C=i[_];p.push(_+":"+("string"==typeof C?JSON.stringify(C):Z(C)))}l=`{${p.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Vl,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[Ki]=null,n}(_,i,"R3InjectorError",this.source)}throw _}finally{Fe(p),Go(l)}}resolveInjectorInitializers(){const i=Go(this),o=Fe(void 0);try{const u=this.get(Zp.multi,En,un.Self);for(const l of u)l()}finally{Go(i),Fe(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Z(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(i){let o=$a(i=ye(i))?i:ye(i&&i.provide);const u=function kf(n){return Qp(n)?bc(void 0,n.useValue):bc(Jm(n),lh)}(i);if($a(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=bc(void 0,lh,!0),l.factory=()=>zo(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===lh&&(o.value=qv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Kv(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ye(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function fh(n){const i=Ln(n),o=null!==i?i.factory:mi(n);if(null!==o)return o;if(n instanceof ei)throw new J(204,!1);if(n instanceof Function)return function Qm(n){const i=n.length;if(i>0)throw Vt(i,"?"),new J(204,!1);const o=function Rn(n){const i=n&&(n[tr]||n[Ir]);if(i){const o=function mr(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new J(204,!1)}function Jm(n,i,o){let u;if($a(n)){const l=ye(n);return mi(l)||fh(l)}if(Qp(n))u=()=>ye(n.useValue);else if(function Xm(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...zo(n.deps||[]));else if(function Zm(n){return!(!n||!n.useExisting)}(n))u=()=>Ri(ye(n.useExisting));else{const l=ye(n&&(n.useClass||n.provide));if(!function Nf(n){return!!n.deps}(n))return mi(l)||fh(l);u=()=>new l(...zo(n.deps))}return u}function bc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function ph(n){return!!n.\u0275providers}function ld(n,i){for(const o of n)Array.isArray(o)?ld(o,i):ph(o)?ld(o.\u0275providers,i):i(o)}function dd(n,i=null,o=null,u){const l=tg(n,i,o,u);return l.resolveInjectorInitializers(),l}function tg(n,i=null,o=null,u,l=new Set){const p=[o||En,Km(n)];return u=u||("object"==typeof n?void 0:Z(n)),new Of(p,i||hh(),u||null,l)}let Ua=(()=>{class n{static create(o,u){if(Array.isArray(o))return dd({name:""},u,o,"");{const l=o.name??"";return dd({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Ho,n.NULL=new Jp,n.\u0275prov=qt({token:n,providedIn:"any",factory:()=>Ri(pu)}),n.__NG_ELEMENT_ID__=-1,n})();function pd(n,i=un.Default){const o=xe();return null===o?Ri(n,i):yo(Qn(),o,ye(n),i)}function oy(){throw new Error("invalid")}function gd(n,i){return n<<17|i<<2}function va(n){return n>>17&32767}function Hf(n){return 2|n}function ja(n){return(131068&n)>>2}function dg(n,i){return-131069&n|i<<2}function fg(n){return 1|n}function Yf(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],p=o[u+1];if(-1!==p){const _=n.data[p];po(l),_.contentQueries(2,i[p],p)}}}function ml(n,i,o,u,l,p,_,C,A,j,te){const _e=i.blueprint.slice();return _e[0]=l,_e[2]=76|u,(null!==te||n&&1024&n[2])&&(_e[2]|=1024),Hr(_e),_e[3]=_e[15]=n,_e[8]=o,_e[10]=_||n&&n[10],_e[11]=C||n&&n[11],_e[12]=A||n&&n[12]||null,_e[9]=j||n&&n[9]||null,_e[6]=p,_e[20]=function eh(){return Zc++}(),_e[21]=te,_e[16]=2==i.type?n[16]:_e,_e}function gu(n,i,o,u,l){let p=n.data[i];if(null===p)p=function Dh(n,i,o,u,l){const p=N(),_=q(),A=n.data[i]=function Id(n,i,o,u,l,p){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=A),null!==p&&(_?null==p.child&&null!==A.parent&&(p.child=A):null===p.next&&(p.next=A)),A}(n,i,o,u,l),function Iu(){return mn.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=u,p.attrs=l;const _=function M(){const n=mn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return S(p,!0),p}function yl(n,i,o,u){if(0===o)return-1;const l=i.length;for(let p=0;p<o;p++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function wd(n,i,o){qa(i);try{const u=n.viewQuery;null!==u&&Hg(1,u,o);const l=n.template;null!==l&&Dg(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Yf(n,i),n.staticViewQueries&&Hg(2,n.viewQuery,o);const p=n.components;null!==p&&function bg(n,i){for(let o=0;o<i.length;o++)y_(n,i[o])}(i,p)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[2]&=-5,no()}}function vl(n,i,o,u){const l=i[2];if(128!=(128&l)){qa(i);try{Hr(i),function Ss(n){return mn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Dg(n,i,o,2,u);const _=3==(3&l);if(_){const j=n.preOrderCheckHooks;null!==j&&So(i,j,null)}else{const j=n.preOrderHooks;null!==j&&es(i,j,0,null),Ia(i,0)}if(function Lg(n){for(let i=m(n);null!==i;i=h(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const l=o[u],p=l[3];0==(512&l[2])&&ar(p,1),l[2]|=512}}}(i),function Fg(n){for(let i=m(n);null!==i;i=h(i))for(let o=10;o<i.length;o++){const u=i[o],l=u[1];$t(u)&&vl(l,u,l.template,u[8])}}(i),null!==n.contentQueries&&Yf(n,i),_){const j=n.contentCheckHooks;null!==j&&So(i,j)}else{const j=n.contentHooks;null!==j&&es(i,j,1),Ia(i,1)}!function bh(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ws(~l);else{const p=l,_=o[++u],C=o[++u];Ju(_,p),C(2,i[p])}}}finally{Ws(-1)}}(n,i);const C=n.components;null!==C&&function Ed(n,i){for(let o=0;o<i.length;o++)Bg(n,i[o])}(i,C);const A=n.viewQuery;if(null!==A&&Hg(2,A,u),_){const j=n.viewCheckHooks;null!==j&&So(i,j)}else{const j=n.viewHooks;null!==j&&es(i,j,2),Ia(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,ar(i[3],-1))}finally{no()}}}function Ac(n,i,o,u){const l=i[10],_=Ot(i);try{!_&&l.begin&&l.begin(),_&&wd(n,i,u),vl(n,i,o,u)}finally{!_&&l.end&&l.end()}}function Dg(n,i,o,u,l){const p=Ji(),_=2&u;try{Ws(-1),_&&i.length>22&&uh(n,i,22,!1),o(u,l)}finally{Ws(p)}}function py(n,i,o){if(Bt(i)){const l=i.directiveEnd;for(let p=i.directiveStart;p<l;p++){const _=n.data[p];_.contentQueries&&_.contentQueries(1,o[p],p)}}}function Ch(n,i,o){!y()||(function g_(n,i,o,u){const l=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||oa(o,i),Rs(u,i);const _=o.initialInputs;for(let C=l;C<p;C++){const A=n.data[C],j=kn(A);j&&Dd(i,o,A);const te=ii(i,n,C,o);Rs(te,i),null!==_&&Cd(0,C-l,te,A,0,_),j&&(Ge(o.index,i)[8]=te)}}(n,i,o,k(o,i)),128==(128&o.flags)&&function Pg(n,i,o){const u=o.directiveStart,l=o.directiveEnd,p=o.index,_=function Ea(){return mn.lFrame.currentDirectiveIndex}();try{Ws(p);for(let C=u;C<l;C++){const A=n.data[C],j=i[C];Jo(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Og(A,j)}}finally{Ws(-1),Jo(_)}}(n,i,o))}function Cg(n,i,o=k){const u=i.localNames;if(null!==u){let l=i.index+1;for(let p=0;p<u.length;p+=2){const _=u[p+1],C=-1===_?o(i,n):n[_];n[l++]=C}}}function Zf(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Tg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Tg(n,i,o,u,l,p,_,C,A,j){const te=22+u,_e=te+l,it=function Sg(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Nr);return o}(te,_e),Ct="function"==typeof j?j():j;return it[1]={type:n,blueprint:it,template:o,queries:null,viewQuery:C,declTNode:i,data:it.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:A,consts:Ct,incompleteFirstPass:!1}}function Mg(n,i,o,u){const l=Ey(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&rp(n).push(u,l.length-1))}function Xf(n,i,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,l):o[u]=[i,l]}return o}function Fo(n,i,o,u,l,p,_,C){const A=k(i,o);let te,j=i.inputs;!C&&null!=j&&(te=j[u])?(wy(n,o,te,u,l),Yt(i)&&function gy(n,i){const o=Ge(i,n);16&o[2]||(o[2]|=32)}(o,i.index)):3&i.type&&(u=function h_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=_?_(l,i.value||"",u):l,p.setProperty(A,u,l))}function Th(n,i,o,u){let l=!1;if(y()){const p=function kg(n,i,o){const u=n.directiveRegistry;let l=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];Um(o,_.selectors,!1)&&(l||(l=[]),Ns(oa(o,i),n,_.type),kn(_)?(Qf(n,o),l.unshift(_)):l.push(_))}return l}(n,i,o),_=null===u?null:{"":-1};if(null!==p){l=!0,qu(o,n.data.length,p.length);for(let te=0;te<p.length;te++){const _e=p[te];_e.providersResolver&&_e.providersResolver(_e)}let C=!1,A=!1,j=yl(n,i,p.length,null);for(let te=0;te<p.length;te++){const _e=p[te];o.mergedAttrs=Ds(o.mergedAttrs,_e.hostAttrs),Jf(n,o,i,j,_e),bd(j,_e,_),null!==_e.contentQueries&&(o.flags|=8),(null!==_e.hostBindings||null!==_e.hostAttrs||0!==_e.hostVars)&&(o.flags|=128);const it=_e.type.prototype;!C&&(it.ngOnChanges||it.ngOnInit||it.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),C=!0),!A&&(it.ngOnChanges||it.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),A=!0),j++}!function d_(n,i){const u=i.directiveEnd,l=n.data,p=i.attrs,_=[];let C=null,A=null;for(let j=i.directiveStart;j<u;j++){const te=l[j],_e=te.inputs,it=null===p||Rf(i)?null:m_(_e,p);_.push(it),C=Xf(_e,j,C),A=Xf(te.outputs,j,A)}null!==C&&(C.hasOwnProperty("class")&&(i.flags|=16),C.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=_,i.inputs=C,i.outputs=A}(n,o)}_&&function Ng(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const p=o[i[l+1]];if(null==p)throw new J(-301,!1);u.push(i[l],p)}}}(o,u,_)}return o.mergedAttrs=Ds(o.mergedAttrs,o.attrs),l}function yy(n,i,o,u,l,p){const _=p.hostBindings;if(_){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const A=~i.index;(function Rg(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(C)!=A&&C.push(A),C.push(u,l,_)}}function Og(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Qf(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function bd(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;kn(i)&&(o[""]=n)}}function qu(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function Jf(n,i,o,u,l){n.data[u]=l;const p=l.factory||(l.factory=mi(l.type)),_=new Wi(p,kn(l),pd);n.blueprint[u]=_,o[u]=_,yy(n,i,0,u,yl(n,o,l.hostVars,Nr),l)}function Dd(n,i,o){const u=k(i,n),l=Zf(o),p=n[10],_=Td(n,ml(n,l,null,o.onPush?32:16,u,i,p,p.createRenderer(u,o),null,null,null));n[i.index]=_}function bo(n,i,o,u,l,p){const _=k(n,i);!function ep(n,i,o,u,l,p,_){if(null==p)n.removeAttribute(i,l,o);else{const C=null==_?$e(p):_(p,u||"",l);n.setAttribute(i,l,C,o)}}(i[11],_,p,n.value,o,u,l)}function Cd(n,i,o,u,l,p){const _=p[i];if(null!==_){const C=u.setInput;for(let A=0;A<_.length;){const j=_[A++],te=_[A++],_e=_[A++];null!==C?u.setInput(o,_e,j,te):o[te]=_e}}}function m_(n,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],i[u+1])),u+=2}else u+=2;else u+=4}return o}function tp(n,i,o,u){return new Array(n,!0,!1,i,null,0,u,o,null,null)}function Bg(n,i){const o=Ge(i,n);if($t(o)){const u=o[1];48&o[2]?vl(u,o,u.template,o[8]):o[5]>0&&Vg(o)}}function Vg(n){for(let u=m(n);null!==u;u=h(u))for(let l=10;l<u.length;l++){const p=u[l];if(512&p[2]){const _=p[1];vl(_,p,_.template,p[8])}else p[5]>0&&Vg(p)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Ge(o[u],n);$t(l)&&l[5]>0&&Vg(l)}}function y_(n,i){const o=Ge(i,n),u=o[1];(function $g(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),wd(u,o,o[8])}function Td(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Ug(n){for(;n;){n[2]|=32;const i=Ec(n);if(hr(n)&&!i)return n;n=i}return null}function jg(n){!function _y(n){for(let i=0;i<n.components.length;i++){const o=n.components[i],u=ed(o);if(null!==u){const l=u[1];Ac(l,u,l.template,o)}}}(n[8])}function Hg(n,i,o){po(0),i(n,o)}const E_=(()=>Promise.resolve(null))();function Ey(n){return n[7]||(n[7]=[])}function rp(n){return n.cleanup||(n.cleanup=[])}function sp(n,i){const o=n[9],u=o?o.get(ka,null):null;u&&u.handleError(i)}function wy(n,i,o,u,l){for(let p=0;p<o.length;){const _=o[p++],C=o[p++],A=i[_],j=n.data[_];null!==j.setInput?j.setInput(A,l,u,C):A[C]=l}}function Ha(n,i,o){const u=Gs(i,n);!function Ve(n,i,o){n.setValue(i,o)}(n[11],u,o)}function op(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,p=0;if(null!==i)for(let _=0;_<i.length;_++){const C=i[_];"number"==typeof C?p=C:1==p?l=Te(l,C):2==p&&(u=Te(u,C+": "+i[++_]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function w_(){const n=Qn();mo(xe()[1],n)}function Sh(n){let i=function Ty(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(kn(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new J(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const _=n;_.inputs=Ah(n.inputs),_.declaredInputs=Ah(n.declaredInputs),_.outputs=Ah(n.outputs);const C=l.hostBindings;C&&Wg(n,C);const A=l.viewQuery,j=l.contentQueries;if(A&&b_(n,A),j&&zg(n,j),oe(n.inputs,l.inputs),oe(n.declaredInputs,l.declaredInputs),oe(n.outputs,l.outputs),kn(l)&&l.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(l.data.animation)}}const p=l.features;if(p)for(let _=0;_<p.length;_++){const C=p[_];C&&C.ngInherit&&C(n),C===Sh&&(o=!1)}}i=Object.getPrototypeOf(i)}!function I_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Ds(l.hostAttrs,o=Ds(o,l.hostAttrs))}}(u)}function Ah(n){return n===Kn?{}:n===En?[]:n}function b_(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function zg(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,p)=>{i(u,l,p),o(u,l,p)}:i}function Wg(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}let Ad=null;function _l(){if(!Ad){const n=Mn.Symbol;if(n&&n.iterator)Ad=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Ad=u)}}}return Ad}function Zo(n){return!!xh(n)&&(Array.isArray(n)||!(n instanceof Map)&&_l()in n)}function xh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function mu(n,i,o){return n[i]=o}function ho(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Ku(n,i,o,u){const l=ho(n,i,o);return ho(n,i+1,u)||l}function Lo(n,i,o,u,l,p){const _=Ku(n,i,o,u);return Ku(n,i+2,l,p)||_}function Yg(n,i,o,u){const l=xe();return ho(l,ys(),i)&&(Ht(),bo(ci(),l,n,i,o,u)),Yg}function wl(n,i,o,u){return ho(n,ys(),o)?i+$e(o)+u:Nr}function Il(n,i,o,u,l,p,_,C){const j=function ap(n,i,o,u,l){const p=Ku(n,i,o,u);return ho(n,i+2,l)||p}(n,wi(),o,l,_);return ss(3),j?i+$e(o)+u+$e(l)+p+$e(_)+C:Nr}function Ry(n,i,o,u,l,p,_,C){const A=xe(),j=Ht(),te=n+22,_e=j.firstCreatePass?function S_(n,i,o,u,l,p,_,C,A){const j=i.consts,te=gu(i,n,4,_||null,gr(j,C));Th(i,o,te,gr(j,A)),mo(i,te);const _e=te.tViews=Tg(2,te,u,l,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,te),_e.queries=i.queries.embeddedTView(te)),te}(te,j,A,i,o,u,l,p,_):j.data[te];S(_e,!1);const it=A[11].createComment("");ns(j,A,it,_e),Rs(it,A),Td(A,A[te]=tp(it,A,it,_e)),On(_e)&&Ch(j,A,_e),null!=_&&Cg(A,_e,C)}function Mh(n){return ae(function Rr(){return mn.lFrame.contextLView}(),22+n)}function Rh(n,i,o){const u=xe();return ho(u,ys(),i)&&Fo(Ht(),ci(),u,n,i,u[11],o,!1),Rh}function Ph(n,i,o,u,l){const _=l?"class":"style";wy(n,o,i.inputs[_],_,u)}function Oh(n,i,o,u){const l=xe(),p=Ht(),_=22+n,C=l[11],A=l[_]=Wt(C,i,function na(){return mn.lFrame.currentNamespace}()),j=p.firstCreatePass?function Qg(n,i,o,u,l,p,_){const C=i.consts,j=gu(i,n,2,l,gr(C,p));return Th(i,o,j,gr(C,_)),null!==j.attrs&&op(j,j.attrs,!1),null!==j.mergedAttrs&&op(j,j.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,j),j}(_,p,l,0,i,o,u):p.data[_];S(j,!0);const te=j.mergedAttrs;null!==te&&Ao(C,A,te);const _e=j.classes;null!==_e&&qp(C,A,_e);const it=j.styles;return null!==it&&Fm(C,A,it),64!=(64&j.flags)&&ns(p,l,A,j),0===function ri(){return mn.lFrame.elementDepthCount}()&&Rs(A,l),function v(){mn.lFrame.elementDepthCount++}(),On(j)&&(Ch(p,l,j),py(p,j,l)),null!==u&&Cg(l,j),Oh}function Od(){let n=Qn();q()?_t():(n=n.parent,S(n,!1));const i=n;!function V(){mn.lFrame.elementDepthCount--}();const o=Ht();return o.firstCreatePass&&(mo(o,n),Bt(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ro(n){return 0!=(16&n.flags)}(i)&&Ph(o,i,xe(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Xa(n){return 0!=(32&n.flags)}(i)&&Ph(o,i,xe(),i.stylesWithoutHost,!1),Od}function kh(n,i,o,u){return Oh(n,i,o,u),Od(),kh}function kd(n,i,o){const u=xe(),l=Ht(),p=n+22,_=l.firstCreatePass?function hp(n,i,o,u,l){const p=i.consts,_=gr(p,u),C=gu(i,n,8,"ng-container",_);return null!==_&&op(C,_,!0),Th(i,o,C,gr(p,l)),null!==i.queries&&i.queries.elementStart(i,C),C}(p,l,u,i,o):l.data[p];S(_,!0);const C=u[p]=u[11].createComment("");return ns(l,u,C,_),Rs(C,u),On(_)&&(Ch(l,u,_),py(l,_,u)),null!=o&&Cg(u,_),kd}function Nh(){let n=Qn();const i=Ht();return q()?_t():(n=n.parent,S(n,!1)),i.firstCreatePass&&(mo(i,n),Bt(n)&&i.queries.elementEnd(n)),Nh}function Nd(n,i,o){return kd(n,i,o),Nh(),Nd}function Jg(){return xe()}function Fh(n){return!!n&&"function"==typeof n.then}function em(n){return!!n&&"function"==typeof n.subscribe}const Dl=em;function Lh(n,i,o,u){const l=xe(),p=Ht(),_=Qn();return function Oy(n,i,o,u,l,p,_,C){const A=On(u),te=n.firstCreatePass&&rp(n),_e=i[8],it=Ey(i);let Ct=!0;if(3&u.type||C){const xn=k(u,i),Xn=C?C(xn):xn,_r=it.length,rn=C?oi=>C(Zr(oi[u.index])):u.index;let dr=null;if(!C&&A&&(dr=function x_(n,i,o,u){const l=n.cleanup;if(null!=l)for(let p=0;p<l.length-1;p+=2){const _=l[p];if(_===o&&l[p+1]===u){const C=i[7],A=l[p+2];return C.length>A?C[A]:null}"string"==typeof _&&(p+=2)}return null}(n,i,l,u.index)),null!==dr)(dr.__ngLastListenerFn__||dr).__ngNextListenerFn__=p,dr.__ngLastListenerFn__=p,Ct=!1;else{p=ky(u,i,_e,p,!1);const oi=o.listen(Xn,l,p);it.push(p,oi),te&&te.push(l,rn,_r,_r+1)}}else p=ky(u,i,_e,p,!1);const zt=u.outputs;let ln;if(Ct&&null!==zt&&(ln=zt[l])){const xn=ln.length;if(xn)for(let Xn=0;Xn<xn;Xn+=2){const cs=i[ln[Xn]][ln[Xn+1]].subscribe(p),uf=it.length;it.push(p,cs),te&&te.push(l,u.index,uf,-(uf+1))}}}(p,l,l[11],_,n,i,0,u),Lh}function tm(n,i,o,u){try{return!1!==o(u)}catch(l){return sp(n,l),!1}}function ky(n,i,o,u,l){return function p(_){if(_===Function)return u;Ug(2&n.flags?Ge(n.index,i):i);let A=tm(i,0,u,_),j=p.__ngNextListenerFn__;for(;j;)A=tm(i,0,j,_)&&A,j=j.__ngNextListenerFn__;return l&&!1===A&&(_.preventDefault(),_.returnValue=!1),A}}function nm(n=1){return function ec(n){return(mn.lFrame.contextLView=function wa(n,i){for(;n>0;)i=i[15],n--;return i}(n,mn.lFrame.contextLView))[8]}(n)}function M_(n,i){let o=null;const u=function zv(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let l=0;l<i.length;l++){const p=i[l];if("*"!==p){if(null===u?Um(n,p,!0):jm(u,p))return l}else o=l}return o}function Ny(n){const i=xe()[16][6];if(!i.projection){const u=i.projection=Vt(n?n.length:1,null),l=u.slice();let p=i.child;for(;null!==p;){const _=n?M_(p,n):0;null!==_&&(l[_]?l[_].projectionNext=p:u[_]=p,l[_]=p),p=p.next}}}function Fy(n,i=0,o){const u=xe(),l=Ht(),p=gu(l,22+n,16,null,o||null);null===p.projection&&(p.projection=i),_t(),64!=(64&p.flags)&&function ah(n,i,o){Wp(i[11],0,i,o,rd(n,o,i),Pm(o.parent||i[6],o,i))}(l,u,p)}function rm(n,i,o){return fp(n,"",i,"",o),rm}function fp(n,i,o,u,l){const p=xe(),_=wl(p,i,o,u);return _!==Nr&&Fo(Ht(),ci(),p,n,_,p[11],l,!1),fp}function Gi(n,i,o,u,l){const p=n[o+1],_=null===i;let C=u?va(p):ja(p),A=!1;for(;0!==C&&(!1===A||_);){const te=n[C+1];Zs(n[C],i)&&(A=!0,n[C+1]=u?fg(te):Hf(te)),C=u?va(te):ja(te)}A&&(n[o+1]=u?Hf(p):fg(p))}function Zs(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&qi(n,i)>=0}const Pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cm(n){return n.substring(Pi.key,Pi.keyEnd)}function P_(n){return n.substring(Pi.value,Pi.valueEnd)}function By(n,i){const o=Pi.textEnd;let u=Pi.key=Fd(n,i,o);return o===u?-1:(u=Pi.keyEnd=function Zi(n,i,o){let u;for(;i<o&&(45===(u=n.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(n,u,o),u=k_(n,u,o),u=Pi.value=Fd(n,u,o),u=Pi.valueEnd=function wE(n,i,o){let u=-1,l=-1,p=-1,_=i,C=_;for(;_<o;){const A=n.charCodeAt(_++);if(59===A)return C;34===A||39===A?C=_=hs(n,A,_,o):i===_-4&&85===p&&82===l&&76===u&&40===A?C=_=hs(n,41,_,o):A>32&&(C=_),p=l,l=u,u=-33&A}return C}(n,u,o),k_(n,u,o))}function Fd(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function k_(n,i,o,u){return(i=Fd(n,i,o))<o&&i++,i}function hs(n,i,o,u){let l=-1,p=o;for(;p<u;){const _=n.charCodeAt(p++);if(_==i&&92!==l)return p;l=92==_&&92===l?0:_}throw new Error}function hm(n,i){return function Ga(n,i,o,u){const l=xe(),p=Ht(),_=ss(2);p.firstUpdatePass&&Uy(p,n,_,u),i!==Nr&&ho(l,_,i)&&Hy(p,p.data[Ji()],l,l[11],n,l[_+1]=function vp(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Z(Pa(n)))),n}(i,o),u,_)}(n,i,null,!0),hm}function _a(n){!function vu(n,i,o,u){const l=Ht(),p=ss(2);l.firstUpdatePass&&Uy(l,null,p,u);const _=xe();if(o!==Nr&&ho(_,p,o)){const C=l.data[Ji()];if(Gy(C,u)&&!$y(l,p)){let A=u?C.classesWithoutHost:C.stylesWithoutHost;null!==A&&(o=Te(A,o||"")),Ph(l,C,_,o,u)}else!function V_(n,i,o,u,l,p,_,C){l===Nr&&(l=En);let A=0,j=0,te=0<l.length?l[0]:null,_e=0<p.length?p[0]:null;for(;null!==te||null!==_e;){const it=A<l.length?l[A+1]:void 0,Ct=j<p.length?p[j+1]:void 0;let ln,zt=null;te===_e?(A+=2,j+=2,it!==Ct&&(zt=_e,ln=Ct)):null===_e||null!==te&&te<_e?(A+=2,zt=te):(j+=2,zt=_e,ln=Ct),null!==zt&&Hy(n,i,o,u,zt,ln,_,C),te=A<l.length?l[A]:null,_e=j<p.length?p[j]:null}}(l,C,_,_[11],_[p+1],_[p+1]=function Cl(n,i,o){if(null==o||""===o)return En;const u=[],l=Pa(o);if(Array.isArray(l))for(let p=0;p<l.length;p++)n(u,l[p],!0);else if("object"==typeof l)for(const p in l)l.hasOwnProperty(p)&&n(u,p,l[p]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,p)}}(Uh,F_,n,!1)}function F_(n,i){for(let o=function dm(n){return function mp(n){Pi.key=0,Pi.keyEnd=0,Pi.value=0,Pi.valueEnd=0,Pi.textEnd=n.length}(n),By(n,Fd(n,0,Pi.textEnd))}(i);o>=0;o=By(i,o))Uh(n,cm(i),P_(i))}function $y(n,i){return i>=n.expandoStartIndex}function Uy(n,i,o,u){const l=n.data;if(null===l[o+1]){const p=l[Ji()],_=$y(n,o);Gy(p,u)&&null===i&&!_&&(i=!1),i=function jy(n,i,o,u){const l=function zs(n){const i=mn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let p=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=yp(o=za(null,n,i,o,u),i.attrs,u),p=null);else{const _=i.directiveStylingLast;if(-1===_||n[_]!==l)if(o=za(l,n,i,o,u),null===p){let A=function $h(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==ja(u))return n[va(u)]}(n,i,u);void 0!==A&&Array.isArray(A)&&(A=za(null,n,i,A[1],u),A=yp(A,i.attrs,u),function B_(n,i,o,u){n[va(o?i.classBindings:i.styleBindings)]=u}(n,i,u,A))}else p=function _u(n,i,o){let u;const l=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<l;p++)u=yp(u,n[p].hostAttrs,o);return yp(u,i.attrs,o)}(n,i,u)}return void 0!==p&&(u?i.residualClasses=p:i.residualStyles=p),o}(l,p,i,u),function Vh(n,i,o,u,l,p){let _=p?i.classBindings:i.styleBindings,C=va(_),A=ja(_);n[u]=o;let te,j=!1;if(Array.isArray(o)){const _e=o;te=_e[1],(null===te||qi(_e,te)>0)&&(j=!0)}else te=o;if(l)if(0!==A){const it=va(n[C+1]);n[u+1]=gd(it,C),0!==it&&(n[it+1]=dg(n[it+1],u)),n[C+1]=function cy(n,i){return 131071&n|i<<17}(n[C+1],u)}else n[u+1]=gd(C,0),0!==C&&(n[C+1]=dg(n[C+1],u)),C=u;else n[u+1]=gd(A,0),0===C?C=u:n[A+1]=dg(n[A+1],u),A=u;j&&(n[u+1]=Hf(n[u+1])),Gi(n,te,u,!0),Gi(n,te,u,!1),function Ly(n,i,o,u,l){const p=l?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&qi(p,i)>=0&&(o[u+1]=fg(o[u+1]))}(i,te,n,u,p),_=gd(C,A),p?i.classBindings=_:i.styleBindings=_}(l,p,i,o,_,u)}}function za(n,i,o,u,l){let p=null;const _=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<_&&(p=i[C],u=yp(u,p.hostAttrs,l),p!==n);)C++;return null!==n&&(o.directiveStylingLast=C),u}function yp(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let p=0;p<i.length;p++){const _=i[p];"number"==typeof _?l=_:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vt(n,_,!!o||i[++p]))}return void 0===n?null:n}function Uh(n,i,o){vt(n,i,Pa(o))}function Hy(n,i,o,u,l,p,_,C){if(!(3&i.type))return;const A=n.data,j=A[C+1];jh(function hg(n){return 1==(1&n)}(j)?fm(A,i,o,l,ja(j),_):void 0)||(jh(p)||function uy(n){return 2==(2&n)}(j)&&(p=fm(A,null,o,l,C,_)),function Nm(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let p=-1===u.indexOf("-")?void 0:Ts.DashCase;null==l?n.removeStyle(o,u,p):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),p|=Ts.Important),n.setStyle(o,u,l,p))}}(u,_,Gs(Ji(),o),l,p))}function fm(n,i,o,u,l,p){const _=null===i;let C;for(;l>0;){const A=n[l],j=Array.isArray(A),te=j?A[1]:A,_e=null===te;let it=o[l+1];it===Nr&&(it=_e?En:void 0);let Ct=_e?oo(it,u):te===u?it:void 0;if(j&&!jh(Ct)&&(Ct=oo(A,u)),jh(Ct)&&(C=Ct,_))return C;const zt=n[l+1];l=_?va(zt):ja(zt)}if(null!==i){let A=p?i.residualClasses:i.residualStyles;null!=A&&(C=oo(A,u))}return C}function jh(n){return void 0!==n}function Gy(n,i){return 0!=(n.flags&(i?16:32))}function Oc(n,i=""){const o=xe(),u=Ht(),l=n+22,p=u.firstCreatePass?gu(u,l,1,i,null):u.data[l],_=o[l]=function K(n,i){return n.createText(i)}(o[11],i);ns(u,o,_,p),S(p,!1)}function Ld(n){return kc("",n,""),Ld}function kc(n,i,o){const u=xe(),l=wl(u,n,i,o);return l!==Nr&&Ha(u,Ji(),l),kc}function _p(n,i,o,u,l){const p=xe(),_=function Mc(n,i,o,u,l,p){const C=Ku(n,wi(),o,l);return ss(2),C?i+$e(o)+u+$e(l)+p:Nr}(p,n,i,o,u,l);return _!==Nr&&Ha(p,Ji(),_),_p}function Hh(n,i,o,u,l,p,_){const C=xe(),A=Il(C,n,i,o,u,l,p,_);return A!==Nr&&Ha(C,Ji(),A),Hh}function Gh(n,i,o,u,l,p,_,C,A,j,te,_e,it,Ct,zt,ln,xn){const Xn=xe(),_r=function Pc(n,i,o,u,l,p,_,C,A,j,te,_e,it,Ct,zt,ln,xn,Xn){const _r=wi();let rn=Lo(n,_r,o,l,_,A);return rn=Lo(n,_r+4,te,it,zt,xn)||rn,ss(8),rn?i+$e(o)+u+$e(l)+p+$e(_)+C+$e(A)+j+$e(te)+_e+$e(it)+Ct+$e(zt)+ln+$e(xn)+Xn:Nr}(Xn,n,i,o,u,l,p,_,C,A,j,te,_e,it,Ct,zt,ln,xn);return _r!==Nr&&Ha(Xn,Ji(),_r),Gh}const Eu=void 0;var W_=["en",[["a","p"],["AM","PM"],Eu],[["AM","PM"],Eu,Eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eu,"{1} 'at' {0}",Eu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function z_(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Al={};function Cp(n){const i=function Y_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=vm(i);if(o)return o;const u=i.split("-")[0];if(o=vm(u),o)return o;if("en"===u)return W_;throw new J(701,!1)}function ym(n){return Cp(n)[cr.PluralCase]}function vm(n){return n in Al||(Al[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),Al[n]}var cr=(()=>((cr=cr||{})[cr.LocaleId=0]="LocaleId",cr[cr.DayPeriodsFormat=1]="DayPeriodsFormat",cr[cr.DayPeriodsStandalone=2]="DayPeriodsStandalone",cr[cr.DaysFormat=3]="DaysFormat",cr[cr.DaysStandalone=4]="DaysStandalone",cr[cr.MonthsFormat=5]="MonthsFormat",cr[cr.MonthsStandalone=6]="MonthsStandalone",cr[cr.Eras=7]="Eras",cr[cr.FirstDayOfWeek=8]="FirstDayOfWeek",cr[cr.WeekendRange=9]="WeekendRange",cr[cr.DateFormat=10]="DateFormat",cr[cr.TimeFormat=11]="TimeFormat",cr[cr.DateTimeFormat=12]="DateTimeFormat",cr[cr.NumberSymbols=13]="NumberSymbols",cr[cr.NumberFormats=14]="NumberFormats",cr[cr.CurrencyCode=15]="CurrencyCode",cr[cr.CurrencySymbol=16]="CurrencySymbol",cr[cr.CurrencyName=17]="CurrencyName",cr[cr.Currencies=18]="Currencies",cr[cr.Directionality=19]="Directionality",cr[cr.PluralCase=20]="PluralCase",cr[cr.ExtraData=21]="ExtraData",cr))();const Bd="en-US";let Yu=Bd;function Ud(n,i,o,u,l){if(n=ye(n),Array.isArray(n))for(let p=0;p<n.length;p++)Ud(n[p],i,o,u,l);else{const p=Ht(),_=xe();let C=$a(n)?n:ye(n.provide),A=Jm(n);const j=Qn(),te=1048575&j.providerIndexes,_e=j.directiveStart,it=j.providerIndexes>>20;if($a(n)||!n.multi){const Ct=new Wi(A,l,pd),zt=sf(C,i,l?te:te+it,_e);-1===zt?(Ns(oa(j,_),p,C),Rp(p,n,i.length),i.push(C),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Ct),_.push(Ct)):(o[zt]=Ct,_[zt]=Ct)}else{const Ct=sf(C,i,te+it,_e),zt=sf(C,i,te,te+it),ln=Ct>=0&&o[Ct],xn=zt>=0&&o[zt];if(l&&!xn||!l&&!ln){Ns(oa(j,_),p,C);const Xn=function Sv(n,i,o,u,l){const p=new Wi(n,o,pd);return p.multi=[],p.index=i,p.componentProviders=0,Cv(p,l,u&&!o),p}(l?Tv:b0,o.length,l,u,A);!l&&xn&&(o[zt].providerFactory=Xn),Rp(p,n,i.length,0),i.push(C),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Xn),_.push(Xn)}else Rp(p,n,Ct>-1?Ct:zt,Cv(o[l?zt:Ct],A,!l&&u));!l&&u&&xn&&o[zt].componentProviders++}}}function Rp(n,i,o,u){const l=$a(i),p=function dl(n){return!!n.useClass}(i);if(l||p){const A=(p?ye(i.useClass):i).prototype.ngOnDestroy;if(A){const j=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const te=j.indexOf(o);-1===te?j.push(o,[u,A]):j[te+1].push(u,A)}else j.push(o,A)}}}function Cv(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function sf(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function b0(n,i,o,u){return Pp(this.multi,[])}function Tv(n,i,o,u){const l=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=ii(o,o[1],this.providerFactory.index,u);p=C.slice(0,_),Pp(l,p);for(let A=_;A<C.length;A++)p.push(C[A])}else p=[],Pp(l,p);return p}function Pp(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Av(n,i=[]){return o=>{o.providersResolver=(u,l)=>function bm(n,i,o){const u=Ht();if(u.firstCreatePass){const l=kn(n);Ud(o,u.data,u.blueprint,l,!0),Ud(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class D0{resolveComponentFactory(i){throw function xv(n){const i=Error(`No component factory found for ${Z(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let jd=(()=>{class n{}return n.NULL=new D0,n})();class Lc{}class Mv{}class e{}function t(){return s(Qn(),xe())}function s(n,i){return new a(k(n,i))}let a=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=t,n})();function d(n){return n instanceof a?n.nativeElement:n}class D{}let L=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function H(){const n=xe(),o=Ge(Qn().index,n);return(At(o)?o:n)[11]}(),n})(),ie=(()=>{class n{}return n.\u0275prov=qt({token:n,providedIn:"root",factory:()=>null}),n})();class Le{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Dt=new Le("14.0.6"),Lt={};function an(n,i,o,u,l=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&u.push(Zr(p)),Mt(p))for(let C=10;C<p.length;C++){const A=p[C],j=A[1].firstChild;null!==j&&an(A[1],A,j,u)}const _=o.type;if(8&_)an(n,i,o.child,u);else if(32&_){const C=nl(o,i);let A;for(;A=C();)u.push(A)}else if(16&_){const C=zp(i,o);if(Array.isArray(C))u.push(...C);else{const A=Ec(i[16]);an(A[1],A,C,u,!0)}}o=l?o.projectionNext:o.next}return u}class In{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return an(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Mt(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&($u(i,u),Qe(o,u))}this._attachedToViewContainer=!1}Uu(this._lView[1],this._lView)}onDestroy(i){Mg(this._lView[1],this._lView,null,i)}markForCheck(){Ug(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function np(n,i,o){const u=i[10];u.begin&&u.begin();try{vl(n,i,n.template,o)}catch(l){throw sp(i,l),l}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bn(n,i){sd(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=i}}class Fn extends In{constructor(i){super(i),this._view=i}detectChanges(){jg(this._view)}checkNoChanges(){}get context(){return null}}class Mr extends jd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Un(i);return new Oi(o,this.ngModule)}}function Xr(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class us{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){const l=this.injector.get(i,Lt,u);return l!==Lt||o===Lt?l:this.parentInjector.get(i,o,u)}}class Oi extends e{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Hu(n){return n.map(Gm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Xr(this.componentDef.inputs)}get outputs(){return Xr(this.componentDef.outputs)}create(i,o,u,l){let p=(l=l||this.ngModule)instanceof hl?l:l?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new us(i,p):i,C=_.get(D,null);if(null===C)throw new J(407,!1);const A=_.get(ie,null),j=C.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",_e=u?function xg(n,i,o){return n.selectRootElement(i,o===Qt.ShadowDom)}(j,u,this.componentDef.encapsulation):Wt(C.createRenderer(null,this.componentDef),te,function Fr(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(te)),it=this.componentDef.onPush?288:272,Ct=function Dy(n,i){return{components:[],scheduler:n||wo,clean:E_,playerHandler:i||null,flags:0}}(),zt=Tg(0,null,null,1,0,null,null,null,null,null),ln=ml(null,zt,Ct,it,null,null,C,j,A,_,null);let xn,Xn;qa(ln);try{const _r=function by(n,i,o,u,l,p){const _=o[1];o[22]=n;const A=gu(_,22,2,"#host",null),j=A.mergedAttrs=i.hostAttrs;null!==j&&(op(A,j,!0),null!==n&&(Ao(l,n,j),null!==A.classes&&qp(l,n,A.classes),null!==A.styles&&Fm(l,n,A.styles)));const te=u.createRenderer(n,i),_e=ml(o,Zf(i),null,i.onPush?32:16,o[22],A,u,te,p||null,null,null);return _.firstCreatePass&&(Ns(oa(A,o),_,i.type),Qf(_,A),qu(A,o.length,1)),Td(o,_e),o[22]=_e}(_e,this.componentDef,ln,C,j);if(_e)if(u)Ao(j,_e,["ng-version",Dt.full]);else{const{attrs:rn,classes:dr}=function zm(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let p=n[u];if("string"==typeof p)2===l?""!==p&&i.push(p,n[++u]):8===l&&o.push(p);else{if(!ya(l))break;l=p}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);rn&&Ao(j,_e,rn),dr&&dr.length>0&&qp(j,_e,dr.join(" "))}if(Xn=B(zt,22),void 0!==o){const rn=Xn.projection=[];for(let dr=0;dr<this.ngContentSelectors.length;dr++){const oi=o[dr];rn.push(null!=oi?Array.from(oi):null)}}xn=function Gg(n,i,o,u,l){const p=o[1],_=function p_(n,i,o){const u=Qn();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Jf(n,u,i,yl(n,i,1,null),o));const l=ii(i,n,u.directiveStart,u);Rs(l,i);const p=k(u,i);return p&&Rs(p,i),l}(p,o,i);if(u.components.push(_),n[8]=_,null!==l)for(const A of l)A(_,i);if(i.contentQueries){const A=Qn();i.contentQueries(1,_,A.directiveStart)}const C=Qn();return!p.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Ws(C.index),yy(o[1],C,0,C.directiveStart,C.directiveEnd,i),Og(i,_)),_}(_r,this.componentDef,ln,Ct,[w_]),wd(zt,ln,null)}finally{no()}return new Nl(this.componentType,xn,s(Xn,ln),ln,Xn)}}class Nl extends class r{}{constructor(i,o,u,l,p){super(),this.location=u,this._rootLView=l,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Fn(l),this.componentType=i}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Rv(n,i){return new RE(n,i??null)}class RE extends Lc{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mr(this);const u=we(i);this._bootstrapComponents=ma(u.bootstrap),this._r3Injector=tg(i,o,[{provide:Lc,useValue:this},{provide:jd,useValue:this.componentFactoryResolver}],Z(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(i)}get(i,o=Ua.THROW_IF_NOT_FOUND,u=un.Default){return i===Ua||i===Lc||i===pu?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class C0 extends Mv{constructor(i){super(),this.moduleType=i}create(i){return new RE(this.moduleType,i)}}class iI extends Lc{constructor(i,o,u){super(),this.componentFactoryResolver=new Mr(this),this.instance=null;const l=new Of([...i,{provide:Lc,useValue:this},{provide:jd,useValue:this.componentFactoryResolver}],o||hh(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function T0(n,i=null,o=null){return new iI(n,i,o).injector}function BE(n,i,o){const u=Jr()+n,l=xe();return l[u]===Nr?mu(l,u,o?i.call(o):i()):function El(n,i){return n[i]}(l,u)}function VE(n,i,o,u){return function UE(n,i,o,u,l,p){const _=i+o;return ho(n,_,l)?mu(n,_+1,p?u.call(p,l):u(l)):Cm(n,_+1)}(xe(),Jr(),n,i,o,u)}function $E(n,i,o,u,l){return jE(xe(),Jr(),n,i,o,u,l)}function Cm(n,i){const o=n[i];return o===Nr?void 0:o}function jE(n,i,o,u,l,p,_){const C=i+o;return Ku(n,C,l,p)?mu(n,C+2,_?u.call(_,l,p):u(l,p)):Cm(n,C+2)}function WE(n,i){const o=Ht();let u;const l=n+22;o.firstCreatePass?(u=function II(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const p=u.factory||(u.factory=mi(u.type)),_=Fe(pd);try{const C=Ks(!1),A=p();return Ks(C),function A_(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,xe(),l,A),A}finally{Fe(_)}}function qE(n,i,o,u){const l=n+22,p=xe(),_=ae(p,l);return function Tm(n,i){return n[1].data[i].pure}(p,l)?jE(p,Jr(),i,_.transform,o,u,_):_.transform(o,u)}function A0(n){return i=>{setTimeout(n,void 0,i)}}const Bc=class SI extends c.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,p=o||(()=>null),_=u;if(i&&"object"==typeof i){const A=i;l=A.next?.bind(A),p=A.error?.bind(A),_=A.complete?.bind(A)}this.__isAsync&&(p=A0(p),l&&(l=A0(l)),_&&(_=A0(_)));const C=super.subscribe({next:l,error:p,complete:_});return i instanceof F.w&&i.add(C),C}};function AI(){return this._results[_l()]()}class x0{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=_l(),u=x0.prototype;u[o]||(u[o]=AI)}get changes(){return this._changes||(this._changes=new Bc)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=$(i);(this._changesDetected=!function x(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],p=i[u];if(o&&(l=o(l),p=o(p)),p!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sm=(()=>{class n{}return n.__NG_ELEMENT_ID__=RI,n})();const xI=Sm,MI=class extends xI{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tViews,l=ml(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(l[19]=_.createEmbeddedView(u)),wd(u,l,i),new In(l)}};function RI(){return Pv(Qn(),xe())}function Pv(n,i){return 4&n.type?new MI(i,n,s(n,i)):null}let Ov=(()=>{class n{}return n.__NG_ELEMENT_ID__=PI,n})();function PI(){return ZE(Qn(),xe())}const OI=Ov,KE=class extends OI{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return s(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ca(this._hostTNode,this._hostLView);if(Qa(i)){const o=ks(i,this._hostLView),u=io(i);return new Dn(o[1].data[u+8],o)}return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=YE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){let l,p;"number"==typeof u?l=u:null!=u&&(l=u.index,p=u.injector);const _=i.createEmbeddedView(o||{},p);return this.insert(_,l),_}createComponent(i,o,u,l,p){const _=i&&!function I(n){return"function"==typeof n}(i);let C;if(_)C=o;else{const _e=o||{};C=_e.index,u=_e.injector,l=_e.projectableNodes,p=_e.environmentInjector||_e.ngModuleRef}const A=_?i:new Oi(Un(i)),j=u||this.parentInjector;if(!p&&null==A.ngModule){const it=(_?j:this.parentInjector).get(hl,null);it&&(p=it)}const te=A.create(j,l,void 0,p);return this.insert(te.hostView,C),te}insert(i,o){const u=i._lView,l=u[1];if(function Tn(n){return Mt(n[3])}(u)){const te=this.indexOf(i);if(-1!==te)this.detach(te);else{const _e=u[3],it=new KE(_e,_e[6],_e[3]);it.detach(it.indexOf(i))}}const p=this._adjustIndex(o),_=this._lContainer;!function Yo(n,i,o,u){const l=10+u,p=o.length;u>0&&(o[l-1][4]=i),u<p-10?(i[4]=o[l],Ie(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const _=i[17];null!==_&&o!==_&&function rl(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(_,i);const C=i[19];null!==C&&C.insertView(n),i[2]|=64}(l,u,_,p);const C=ul(p,_),A=u[11],j=Af(A,_[7]);return null!==j&&function Nn(n,i,o,u,l,p){u[0]=l,u[6]=i,sd(n,u,o,1,l,p)}(l,_[6],A,u,j,C),i.attachToViewContainerRef(),Ie(M0(_),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=YE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=$u(this._lContainer,o);u&&(Qe(M0(this._lContainer),o),Uu(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=$u(this._lContainer,o);return u&&null!=Qe(M0(this._lContainer),o)?new In(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function YE(n){return n[8]}function M0(n){return n[8]||(n[8]=[])}function ZE(n,i){let o;const u=i[n.index];if(Mt(u))o=u;else{let l;if(8&n.type)l=Zr(u);else{const p=i[11];l=p.createComment("");const _=k(n,i);Ba(p,Af(p,_),l,function jv(n,i){return n.nextSibling(i)}(p,_),!1)}i[n.index]=o=tp(u,i,l,n),Td(i,o)}return new KE(o,n,i)}class R0{constructor(i){this.queryList=i,this.matches=null}clone(){return new R0(this.queryList)}setDirty(){this.queryList.setDirty()}}class P0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let p=0;p<u;p++){const _=o.getByIndex(p);l.push(this.queries[_.indexInDeclarationView].clone())}return new P0(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==sw(i,o).matches&&this.queries[o].setDirty()}}class XE{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class O0{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,p=this.getByIndex(u).embeddedTView(i,l);p&&(p.indexInDeclarationView=u,null!==o?o.push(p):o=[p])}return null!==o?new O0(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class k0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new k0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const p=u[l];this.matchTNodeWithReadOption(i,o,FI(o,p)),this.matchTNodeWithReadOption(i,o,Zt(o,i,p,!1,!1))}else u===Sm?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Zt(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===a||l===Ov||l===Sm&&4&o.type)this.addMatch(o.index,-2);else{const p=Zt(o,i,l,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function FI(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function BI(n,i,o,u){return-1===o?function LI(n,i){return 11&n.type?s(n,i):4&n.type?Pv(n,i):null}(i,n):-2===o?function VI(n,i,o){return o===a?s(i,n):o===Sm?Pv(i,n):o===Ov?ZE(i,n):void 0}(n,i,u):ii(n,n[1],o,i)}function QE(n,i,o,u){const l=i[19].queries[u];if(null===l.matches){const p=n.data,_=o.matches,C=[];for(let A=0;A<_.length;A+=2){const j=_[A];C.push(j<0?null:BI(i,p[j],_[A+1],o.metadata.read))}l.matches=C}return l.matches}function N0(n,i,o,u){const l=n.queries.getByIndex(o),p=l.matches;if(null!==p){const _=QE(n,i,l,o);for(let C=0;C<p.length;C+=2){const A=p[C];if(A>0)u.push(_[C/2]);else{const j=p[C+1],te=i[-A];for(let _e=10;_e<te.length;_e++){const it=te[_e];it[17]===it[3]&&N0(it[1],it,j,u)}if(null!==te[9]){const _e=te[9];for(let it=0;it<_e.length;it++){const Ct=_e[it];N0(Ct[1],Ct,j,u)}}}}}return u}function JE(n){const i=xe(),o=Ht(),u=ea();po(u+1);const l=sw(o,u);if(n.dirty&&Ot(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const p=l.crossesNgTemplate?N0(o,i,u,[]):QE(o,i,l,u);n.reset(p,d),n.notifyOnChanges()}return!0}return!1}function ew(n,i,o){const u=Ht();u.firstCreatePass&&(iw(u,new XE(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),rw(u,xe(),i)}function tw(n,i,o,u){const l=Ht();if(l.firstCreatePass){const p=Qn();iw(l,new XE(i,o,u),p.index),function UI(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}rw(l,xe(),o)}function nw(){return function $I(n,i){return n[19].queries[i].queryList}(xe(),ea())}function rw(n,i,o){const u=new x0(4==(4&o));Mg(n,i,u,u.destroy),null===i[19]&&(i[19]=new P0),i[19].queries.push(new R0(u))}function iw(n,i,o){null===n.queries&&(n.queries=new O0),n.queries.track(new k0(i,o))}function sw(n,i){return n.queries.getByIndex(i)}function ow(n,i){return Pv(n,i)}function kp(n){const i=Un(n)||ir(n)||Ye(n);return null!==i&&i.standalone}function Nv(...n){}const Cw=new ei("Application Initializer");let Fv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Nv,this.reject=Nv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const p=this.appInits[l]();if(Fh(p))o.push(p);else if(Dl(p)){const _=new Promise((C,A)=>{p.subscribe({complete:C,error:A})});o.push(_)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Ri(Cw,8))},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tw=new ei("AppId",{providedIn:"root",factory:function Sw(){return`${$0()}${$0()}${$0()}`}});function $0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Aw=new ei("Platform Initializer"),ab=new ei("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xw=new ei("appBootstrapListener");let ub=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Lv=new ei("LocaleId",{providedIn:"root",factory:()=>ac(Lv,un.Optional|un.SkipSelf)||function cb(){return typeof $localize<"u"&&$localize.locale||Bd}()}),lb=new ei("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class db{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let hb=(()=>{class n{compileModuleSync(o){return new C0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),p=ma(we(o).declarations).reduce((_,C)=>{const A=Un(C);return A&&_.push(new Oi(A)),_},[]);return new db(u,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gb=(()=>Promise.resolve(0))();function U0(n){typeof Zone>"u"?gb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Wa{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bc(!1),this.onMicrotaskEmpty=new Bc(!1),this.onStable=new Bc(!1),this.onError=new Bc(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function mb(){let n=Mn.requestAnimationFrame,i=Mn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function _b(n){const i=()=>{!function vb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,H0(n),n.isCheckStableRunning=!0,j0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),H0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,p,_,C)=>{try{return Pw(n),o.invokeTask(l,p,_,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),Ow(n)}},onInvoke:(o,u,l,p,_,C,A)=>{try{return Pw(n),o.invoke(l,p,_,C,A)}finally{n.shouldCoalesceRunChangeDetection&&i(),Ow(n)}},onHasTask:(o,u,l,p)=>{o.hasTask(l,p),u===l&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,H0(n),j0(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,u,l,p)=>(o.handleError(l,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wa.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(Wa.isInAngularZone())throw new J(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+l,i,yb,Nv,Nv);try{return p.runTask(_,o,u)}finally{p.cancelTask(_)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const yb={};function j0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function H0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Pw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ow(n){n._nesting--,j0(n)}class Eb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bc,this.onMicrotaskEmpty=new Bc,this.onStable=new Bc,this.onError=new Bc}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const kw=new ei(""),Nw=new ei("");let G0,wb=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,G0||(function Ib(n){G0=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wa.assertNotInAngularZone(),U0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Ri(Wa),Ri(Fw),Ri(Nw))},n.\u0275prov=qt({token:n,factory:n.\u0275fac}),n})(),Fw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return G0?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Hd=null;const Lw=new ei("AllowMultipleToken"),z0=new ei("PlatformDestroyListeners");class Cb{constructor(i,o){this.name=i,this.token=o}}function Vw(n,i,o=[]){const u=`Platform: ${i}`,l=new ei(u);return(p=[])=>{let _=W0();if(!_||_.injector.get(Lw,!1)){const C=[...o,...p,{provide:l,useValue:!0}];n?n(C):function Tb(n){if(Hd&&!Hd.get(Lw,!1))throw new J(400,!1);Hd=n;const i=n.get(Uw);(function Bw(n){const i=n.get(Aw,null);i&&i.forEach(o=>o())})(n)}(function $w(n=[],i){return Ua.create({name:i,providers:[{provide:eg,useValue:"platform"},{provide:z0,useValue:new Set([()=>Hd=null])},...n]})}(C,u))}return function Ab(n){const i=W0();if(!i)throw new J(401,!1);return i}()}}function W0(){return Hd?.get(Uw)??null}let Uw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function xb(n,i){let o;return o="noop"===n?new Eb:("zone.js"===n?void 0:n)||new Wa(i),o}(u?.ngZone,function jw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:Wa,useValue:l}];return l.run(()=>{const _=Ua.create({providers:p,parent:this.injector,name:o.moduleType.name}),C=o.create(_),A=C.injector.get(ka,null);if(!A)throw new J(402,!1);return l.runOutsideAngular(()=>{const j=l.onError.subscribe({next:te=>{A.handleError(te)}});C.onDestroy(()=>{Vv(this._modules,C),j.unsubscribe()})}),function Hw(n,i,o){try{const u=o();return Fh(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(A,l,()=>{const j=C.injector.get(Fv);return j.runInitializers(),j.donePromise.then(()=>(function iv(n){ze(n,"Expected localeId to be defined"),"string"==typeof n&&(Yu=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Lv,Bd)||Bd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,u=[]){const l=Gw({},u);return function bb(n,i,o){const u=new C0(o);return Promise.resolve(u)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,l))}_moduleDoBootstrap(o){const u=o.injector.get(Bv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new J(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(z0,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Ri(Ua))},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Gw(n,i){return Array.isArray(i)?i.reduce(Gw,n):{...n,...i}}let Bv=(()=>{class n{constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new G.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new G.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Wa.assertNotInAngularZone(),U0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Wa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),j.unsubscribe()}});this.isStable=(0,Ae.T)(p,_.pipe(function re(){return n=>(0,Me.x)()(function Y(n,i){return function(u){let l;if(l="function"==typeof n?n:function(){return n},"function"==typeof i)return u.lift(new de(l,i));const p=Object.create(u,Ee.N);return p.source=u,p.subjectFactory=l,p}}(fe)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof e;if(!this._injector.get(Fv).done)throw!l&&kp(o),new J(405,false);let _;_=l?o:this._injector.get(jd).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const C=function Db(n){return n.isBoundToModule}(_)?void 0:this._injector.get(Lc),j=_.create(Ua.NULL,[],u||_.selector,C),te=j.location.nativeElement,_e=j.injector.get(kw,null);return _e?.registerApplication(te),j.onDestroy(()=>{this.detachView(j.hostView),Vv(this.components,j),_e?.unregisterApplication(te)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Vv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(xw,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Vv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new J(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Ri(Wa),Ri(Ua),Ri(ka))},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let Ww=!0,qw=!1;function Rb(){return qw=!0,Ww}function Pb(){if(qw)throw new Error("Cannot enable prod mode after platform setup.");Ww=!1}let Ob=(()=>{class n{}return n.__NG_ELEMENT_ID__=kb,n})();function kb(n){return function Nb(n,i,o){if(Yt(n)&&!o){const u=Ge(n.index,i);return new In(u,u)}return 47&n.type?new In(i[16],i):null}(Qn(),xe(),16==(16&n))}class Xw{constructor(){}supports(i){return Zo(i)}create(i){return new Ub(i)}}const $b=(n,i)=>i;class Ub{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||$b}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,p=null;for(;o||u;){const _=!u||o&&o.currentIndex<Jw(u,l,p)?o:u,C=Jw(_,l,p),A=_.currentIndex;if(_===u)l--,u=u._nextRemoved;else if(o=o._next,null==_.previousIndex)l++;else{p||(p=[]);const j=C-l,te=A-l;if(j!=te){for(let it=0;it<j;it++){const Ct=it<p.length?p[it]:p[it]=0,zt=Ct+it;te<=zt&&zt<j&&(p[it]=Ct+1)}p[_.previousIndex]=te-j}}C!==A&&i(_,C,A)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Zo(i))throw new J(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,p,_,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let C=0;C<this.length;C++)p=i[C],_=this._trackByFn(C,p),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,p,_,C)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,_,C),u=!0),o=o._next}else l=0,function D_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[_l()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,C=>{_=this._trackByFn(l,C),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,C,_,l)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,_,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,l)):i=this._addAfter(new jb(o,u),p,l),i}_verifyReinsertion(i,o,u,l){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?i=this._reinsertAfter(p,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,p=i._nextRemoved;return null===l?this._removalsHead=p:l._nextRemoved=p,null===p?this._removalsTail=l:p._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Qw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class jb{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hb{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Qw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new Hb,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class eI{constructor(){}supports(i){return i instanceof Map||xh(i)}create(){return new Gb}}class Gb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||xh(i)))throw new J(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const p=l._prev,_=l._next;return p&&(p._next=_),_&&(_._prev=p),l._next=null,l._prev=null,l}const u=new zb(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class zb{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tI(){return new X0([new Xw])}let X0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||tI()),deps:[[n,new iu,new Oo]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new J(901,!1)}}return n.\u0275prov=qt({token:n,providedIn:"root",factory:tI}),n})();function nI(){return new Q0([new eI])}let Q0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||nI()),deps:[[n,new iu,new Oo]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new J(901,!1)}}return n.\u0275prov=qt({token:n,providedIn:"root",factory:nI}),n})();const Kb=Vw(null,"core",[]);let Yb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Ri(Bv))},n.\u0275mod=kt({type:n}),n.\u0275inj=Sn({}),n})();function Zb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},8140:(Jt,lt,O)=>{"use strict";O.d(lt,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=O(2951)},1274:(Jt,lt,O)=>{"use strict";O.d(lt,{Z:()=>c.Z});var c=O(3942)},4538:(Jt,lt,O)=>{"use strict";O.r(lt);var c=O(5861),F=O(3942),G=O(2090),Ae=O(2951),Ee=O(655),Y=O(1877),de=O(4859);const et=function Z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},he=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new Y.Yd("@firebase/auth");function nt(m,...h){Ze.logLevel<=Y.in.ERROR&&Ze.error(`Auth (${Ae.SDK_VERSION}): ${m}`,...h)}function $e(m,...h){throw It(m,...h)}function st(m,...h){return It(m,...h)}function Xe(m,h,f){const w=Object.assign(Object.assign({},he()),{[h]:f});return new G.LL("auth","Firebase",w).create(h,{appName:m.name})}function ct(m,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&$e(m,"argument-error"),Xe(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(m,...h){if("string"!=typeof m){const f=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=m.name),m._errorFactory.create(f,...w)}return ye.create(m,...h)}function le(m,h,...f){if(!m)throw It(h,...f)}function Ce(m){const h="INTERNAL ASSERTION FAILED: "+m;throw nt(h),new Error(h)}function se(m,h){m||Ce(h)}function me(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function W(){return"http:"===ce()||"https:"===ce()}function ce(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ue{constructor(h,f){this.shortDelay=h,this.longDelay=f,se(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Ne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(W()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ut(m,h){se(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Re{static initialize(h,f,w){this.fetchImpl=h,f&&(this.headersImpl=f),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ke=new Ue(3e4,6e4);function He(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function ze(m,h,f,w){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(m,h,f,w,U={}){return Tt(m,U,(0,c.Z)(function*(){let K={},Ve={};w&&("GET"===h?Ve=w:K={body:JSON.stringify(w)});const at=(0,G.xO)(Object.assign({key:m.config.apiKey},Ve)).slice(1),Wt=yield m._getAdditionalHeaders();return Wt["Content-Type"]="application/json",m.languageCode&&(Wt["X-Firebase-Locale"]=m.languageCode),Re.fetch()(Gn(m,m.config.apiHost,f,at),Object.assign({method:h,headers:Wt,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function Tt(m,h,f){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(m,h,f){m._canInitEmulator=!1;const w=Object.assign(Object.assign({},Pe),h);try{const U=new Sn(m),K=yield Promise.race([f(),U.promise]);U.clearNetworkTimeout();const Ve=yield K.json();if("needConfirmation"in Ve)throw Ln(m,"account-exists-with-different-credential",Ve);if(K.ok&&!("errorMessage"in Ve))return Ve;{const at=K.ok?Ve.errorMessage:Ve.error.message,[Wt,gn]=at.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Wt)throw Ln(m,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===Wt)throw Ln(m,"email-already-in-use",Ve);if("USER_DISABLED"===Wt)throw Ln(m,"user-disabled",Ve);const Nn=w[Wt]||Wt.toLowerCase().replace(/[_\s]+/g,"-");if(gn)throw Xe(m,Nn,gn);$e(m,Nn)}}catch(U){if(U instanceof G.ZR)throw U;$e(m,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function hn(m,h,f,w){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(m,h,f,w,U={}){const K=yield ze(m,h,f,w,U);return"mfaPendingCredential"in K&&$e(m,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function Gn(m,h,f,w){const U=`${h}${f}?${w}`;return m.config.emulator?ut(m.config,U):`${m.config.apiScheme}://${U}`}class Sn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,w)=>{this.timer=setTimeout(()=>w(st(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(m,h,f){const w={appName:m.name};f.email&&(w.email=f.email),f.phoneNumber&&(w.phoneNumber=f.phoneNumber);const U=st(m,h,w);return U.customData._tokenResponse=f,U}function Rn(){return(Rn=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function mr(m,h){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function tr(m,h){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ir(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function or(){return(or=(0,c.Z)(function*(m,h=!1){const f=(0,G.m9)(m),w=yield f.getIdToken(h),U=Fe(w);le(U&&U.exp&&U.auth_time&&U.iat,f.auth,"internal-error");const K="object"==typeof U.firebase?U.firebase:void 0,Ve=K?.sign_in_provider;return{claims:U,token:w,authTime:Ir(Nt(U.auth_time)),issuedAtTime:Ir(Nt(U.iat)),expirationTime:Ir(Nt(U.exp)),signInProvider:Ve||null,signInSecondFactor:K?.sign_in_second_factor||null}})).apply(this,arguments)}function Nt(m){return 1e3*Number(m)}function Fe(m){const[h,f,w]=m.split(".");if(void 0===h||void 0===f||void 0===w)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,G.tV)(f);return U?JSON.parse(U):(nt("Failed to decode base64 JWT payload"),null)}catch(U){return nt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Pt(m,h){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(m,h,f=!1){if(f)return h;try{return yield h}catch(w){throw w instanceof G.ZR&&jt(w)&&m.auth.currentUser===m&&(yield m.auth.signOut()),w}})).apply(this,arguments)}function jt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class qn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const U=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,c.Z)(function*(){yield f.iteration()}),w)}iteration(){var h=this;return(0,c.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class fr{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qt(m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(m){var h;const f=m.auth,w=yield m.getIdToken(),U=yield Pt(m,tr(f,{idToken:w}));le(U?.users.length,f,"internal-error");const K=U.users[0];m._notifyReloadListener(K);const Ve=null!==(h=K.providerUserInfo)&&void 0!==h&&h.length?En(K.providerUserInfo):[],at=Kn(m.providerData,Ve),Nn=!!m.isAnonymous&&!(m.email&&K.passwordHash||at?.length),Bn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:at,metadata:new fr(K.createdAt,K.lastLoginAt),isAnonymous:Nn};Object.assign(m,Bn)})).apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(m){const h=(0,G.m9)(m);yield Qt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Kn(m,h){return[...m.filter(w=>!h.some(U=>U.providerId===w.providerId)),...h]}function En(m){return m.map(h=>{var{providerId:f}=h,w=(0,Ee._T)(h,["providerId"]);return{providerId:f,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function jr(){return(jr=(0,c.Z)(function*(m,h){const f=yield Tt(m,{},(0,c.Z)(function*(){const w=(0,G.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:U,apiKey:K}=m.config,Ve=Gn(m,U,"/v1/token",`key=${K}`),at=yield m._getAdditionalHeaders();return at["Content-Type"]="application/x-www-form-urlencoded",Re.fetch()(Ve,{method:"POST",headers:at,body:w})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){le(h.idToken,"internal-error"),le(typeof h.idToken<"u","internal-error"),le(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function We(m){const h=Fe(m);return le(h,"internal-error"),le(typeof h.exp<"u","internal-error"),le(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var w=this;return(0,c.Z)(function*(){return le(!w.accessToken||w.refreshToken,h,"user-token-expired"),f||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var w=this;return(0,c.Z)(function*(){const{accessToken:U,refreshToken:K,expiresIn:Ve}=yield function wn(m,h){return jr.apply(this,arguments)}(h,f);w.updateTokensAndExpiration(U,K,Number(Ve))})()}updateTokensAndExpiration(h,f,w){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,f){const{refreshToken:w,accessToken:U,expirationTime:K}=f,Ve=new bn;return w&&(le("string"==typeof w,"internal-error",{appName:h}),Ve.refreshToken=w),U&&(le("string"==typeof U,"internal-error",{appName:h}),Ve.accessToken=U),K&&(le("number"==typeof K,"internal-error",{appName:h}),Ve.expirationTime=K),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new bn,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function nr(m,h){le("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class Yn{constructor(h){var{uid:f,auth:w,stsTokenManager:U}=h,K=(0,Ee._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=w,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new fr(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,c.Z)(function*(){const w=yield Pt(f,f.stsTokenManager.getToken(f.auth,h));return le(w,f.auth,"internal-error"),f.accessToken!==w&&(f.accessToken=w,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),w})()}getIdTokenResult(h){return function un(m){return or.apply(this,arguments)}(this,h)}reload(){return function yr(m){return $r.apply(this,arguments)}(this)}_assign(h){this!==h&&(le(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new Yn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var w=this;return(0,c.Z)(function*(){let U=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),U=!0),f&&(yield Qt(w)),yield w.auth._persistUserIfCurrent(w),U&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,c.Z)(function*(){const f=yield h.getIdToken();return yield Pt(h,function Lr(m,h){return Rn.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var w,U,K,Ve,at,Wt,gn,Nn;const Bn=null!==(w=f.displayName)&&void 0!==w?w:void 0,Hi=null!==(U=f.email)&&void 0!==U?U:void 0,Yo=null!==(K=f.phoneNumber)&&void 0!==K?K:void 0,rl=null!==(Ve=f.photoURL)&&void 0!==Ve?Ve:void 0,nd=null!==(at=f.tenantId)&&void 0!==at?at:void 0,$u=null!==(Wt=f._redirectEventId)&&void 0!==Wt?Wt:void 0,Uu=null!==(gn=f.createdAt)&&void 0!==gn?gn:void 0,fu=null!==(Nn=f.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:ju,emailVerified:il,isAnonymous:rd,providerData:sl,stsTokenManager:Ba}=f;le(ju&&Ba,h,"internal-error");const Tf=bn.fromJSON(this.name,Ba);le("string"==typeof ju,h,"internal-error"),nr(Bn,h.name),nr(Hi,h.name),le("boolean"==typeof il,h,"internal-error"),le("boolean"==typeof rd,h,"internal-error"),nr(Yo,h.name),nr(rl,h.name),nr(nd,h.name),nr($u,h.name),nr(Uu,h.name),nr(fu,h.name);const ol=new Yn({uid:ju,auth:h,email:Hi,emailVerified:il,displayName:Bn,isAnonymous:rd,photoURL:rl,phoneNumber:Yo,tenantId:nd,stsTokenManager:Tf,createdAt:Uu,lastLoginAt:fu});return sl&&Array.isArray(sl)&&(ol.providerData=sl.map(Sf=>Object.assign({},Sf))),$u&&(ol._redirectEventId=$u),ol}static _fromIdTokenResponse(h,f,w=!1){return(0,c.Z)(function*(){const U=new bn;U.updateFromServerResponse(f);const K=new Yn({uid:f.localId,auth:h,stsTokenManager:U,isAnonymous:w});return yield Qt(K),K})()}}const Br=new Map;function lr(m){se(m instanceof Function,"Expected a class definition");let h=Br.get(m);return h?(se(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,Br.set(m,h),h)}const Or=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(f,w){var U=this;return(0,c.Z)(function*(){U.storage[f]=w})()}_get(f){var w=this;return(0,c.Z)(function*(){const U=w.storage[f];return void 0===U?null:U})()}_remove(f){var w=this;return(0,c.Z)(function*(){delete w.storage[f]})()}_addListener(f,w){}_removeListener(f,w){}}return m.type="NONE",m})();function Oe(m,h,f){return`firebase:${m}:${h}:${f}`}class be{constructor(h,f,w){this.persistence=h,this.auth=f,this.userKey=w;const{config:U,name:K}=this.auth;this.fullUserKey=Oe(this.userKey,U.apiKey,K),this.fullPersistenceKey=Oe("persistence",U.apiKey,K),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?Yn._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,c.Z)(function*(){if(f.persistence===h)return;const w=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,w?f.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,w="authUser"){return(0,c.Z)(function*(){if(!f.length)return new be(lr(Or),h,w);const U=(yield Promise.all(f.map(function(){var gn=(0,c.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return gn.apply(this,arguments)}}()))).filter(gn=>gn);let K=U[0]||lr(Or);const Ve=Oe(w,h.config.apiKey,h.name);let at=null;for(const gn of f)try{const Nn=yield gn._get(Ve);if(Nn){const Bn=Yn._fromJSON(h,Nn);gn!==K&&(at=Bn),K=gn;break}}catch{}const Wt=U.filter(gn=>gn._shouldAllowMigration);return K._shouldAllowMigration&&Wt.length?(K=Wt[0],at&&(yield K._set(Ve,at.toJSON())),yield Promise.all(f.map(function(){var gn=(0,c.Z)(function*(Nn){if(Nn!==K)try{yield Nn._remove(Ve)}catch{}});return function(Nn){return gn.apply(this,arguments)}}())),new be(K,h,w)):new be(K,h,w)})()}}function qe(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Hn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(kt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Un(h))return"Blackberry";if(ir(h))return"Webos";if(yt(h))return"Safari";if((h.includes("chrome/")||fn(h))&&!h.includes("edge/"))return"Chrome";if(Pn(h))return"Android";{const w=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function kt(m=(0,G.z$)()){return/firefox\//i.test(m)}function yt(m=(0,G.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function fn(m=(0,G.z$)()){return/crios\//i.test(m)}function Hn(m=(0,G.z$)()){return/iemobile/i.test(m)}function Pn(m=(0,G.z$)()){return/android/i.test(m)}function Un(m=(0,G.z$)()){return/blackberry/i.test(m)}function ir(m=(0,G.z$)()){return/webos/i.test(m)}function Ye(m=(0,G.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function bt(m=(0,G.z$)()){return Ye(m)||Pn(m)||ir(m)||Un(m)||/windows phone/i.test(m)||Hn(m)}function gt(m,h=[]){let f;switch(m){case"Browser":f=qe((0,G.z$)());break;case"Worker":f=`${qe((0,G.z$)())}-${m}`;break;default:f=m}const w=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${Ae.SDK_VERSION}/${w}`}function xt(){return(xt=(0,c.Z)(function*(m){return(yield ze(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cn(m,h){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(m,h){return ze(m,"GET","/v2/recaptchaConfig",He(m,h))})).apply(this,arguments)}function Xt(m){return void 0!==m&&void 0!==m.getResponse}function Jn(m){return void 0!==m&&void 0!==m.enterprise}class vn{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function Qr(m){return new Promise((h,f)=>{const w=document.createElement("script");w.setAttribute("src",m),w.onload=h,w.onerror=U=>{const K=st("internal-error");K.customData=U,f(K)},w.type="text/javascript",w.charset="UTF-8",function rr(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(w)})}function Wr(m){return`__${m}${Math.floor(1e6*Math.random())}`}class bi{constructor(h){this.type="recaptcha-enterprise",this.auth=Cr(h)}verify(h="verify",f=!1){var w=this;return(0,c.Z)(function*(){function K(){return K=(0,c.Z)(function*(at){if(!f){if(null==at.tenantId&&null!=at._agentRecaptchaConfig)return at._agentRecaptchaConfig.siteKey;if(null!=at.tenantId&&void 0!==at._tenantRecaptchaConfigs[at.tenantId])return at._tenantRecaptchaConfigs[at.tenantId].siteKey}return new Promise(function(){var Wt=(0,c.Z)(function*(gn,Nn){cn(at,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Bn=>{if(void 0!==Bn.recaptchaKey){const Hi=new vn(Bn);return null==at.tenantId?at._agentRecaptchaConfig=Hi:at._tenantRecaptchaConfigs[at.tenantId]=Hi,gn(Hi.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(Bn=>{Nn(Bn)})});return function(gn,Nn){return Wt.apply(this,arguments)}}())}),K.apply(this,arguments)}function Ve(at,Wt,gn){const Nn=window.grecaptcha;Jn(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(at,{action:h}).then(Bn=>{Wt(Bn)}).catch(()=>{Wt("NO_RECAPTCHA")})}):gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((at,Wt)=>{(function U(at){return K.apply(this,arguments)})(w.auth).then(gn=>{if(!f&&Jn(window.grecaptcha))Ve(gn,at,Wt);else{if(typeof window>"u")return void Wt(new Error("RecaptchaVerifier is only supported in browser"));Qr("https://www.google.com/recaptcha/enterprise.js?render="+gn).then(()=>{Ve(gn,at,Wt)}).catch(Nn=>{Wt(Nn)})}}).catch(gn=>{Wt(gn)})})})()}}function pr(m,h,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(m,h,f,w=!1){const U=new bi(m);let K;try{K=yield U.verify(f)}catch{K=yield U.verify(f,!0)}const Ve=Object.assign({},h);return Object.assign(Ve,w?{captchaResp:K}:{captchaResponse:K}),Object.assign(Ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ve})).apply(this,arguments)}class Vi{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const w=K=>new Promise((Ve,at)=>{try{Ve(h(K))}catch(Wt){at(Wt)}});w.onAbort=f,this.queue.push(w);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,c.Z)(function*(){if(f.auth.currentUser===h)return;const w=[];try{for(const U of f.queue)yield U(h),U.onAbort&&w.push(U.onAbort)}catch(U){w.reverse();for(const K of w)try{K()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}class Dr{constructor(h,f,w,U){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=w,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Di(this),this.idTokenSubscription=new Di(this),this.beforeStateQueue=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(h,f){var w=this;return f&&(this._popupRedirectResolver=lr(f)),this._initializationPromise=this.queue((0,c.Z)(function*(){var U,K;if(!w._deleted&&(w.persistenceManager=yield be.create(w,h),!w._deleted)){if(null!==(U=w._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(f),w.lastNotifiedUid=(null===(K=w.currentUser)||void 0===K?void 0:K.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,c.Z)(function*(){var w;const U=yield f.assertedPersistence.getCurrentUser();let K=U,Ve=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const at=null===(w=f.redirectUser)||void 0===w?void 0:w._redirectEventId,Wt=K?._redirectEventId,gn=yield f.tryRedirectSignIn(h);(!at||at===Wt)&&gn?.user&&(K=gn.user,Ve=!0)}if(!K)return f.directlySetCurrentUser(null);if(!K._redirectEventId){if(Ve)try{yield f.beforeStateQueue.runMiddleware(K)}catch(at){K=U,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(at))}return K?f.reloadAndSetCurrentUserOrClear(K):f.directlySetCurrentUser(null)}return le(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===K._redirectEventId?f.directlySetCurrentUser(K):f.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(h){var f=this;return(0,c.Z)(function*(){let w=null;try{w=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,c.Z)(function*(){try{yield Qt(h)}catch(w){if("auth/network-request-failed"!==w?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function dt(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,c.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,c.Z)(function*(){const w=h?(0,G.m9)(h):null;return w&&le(w.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(w&&w._clone(f))})()}_updateCurrentUser(h,f=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return h&&le(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),f||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,c.Z)(function*(){yield f.assertedPersistence.setPersistence(lr(h))}))}initializeRecaptchaConfig(){var h=this;return(0,c.Z)(function*(){const f=yield cn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new vn(f);null==h.tenantId?h._agentRecaptchaConfig=w:h._tenantRecaptchaConfigs[h.tenantId]=w,w.emailPasswordEnabled&&new bi(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new G.LL("auth","Firebase",h())}onAuthStateChanged(h,f,w){return this.registerStateListener(this.authStateSubscription,h,f,w)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,w){return this.registerStateListener(this.idTokenSubscription,h,f,w)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var w=this;return(0,c.Z)(function*(){const U=yield w.getOrInitRedirectPersistenceManager(f);return null===h?U.removeCurrentUser():U.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,c.Z)(function*(){if(!f.redirectPersistenceManager){const w=h&&lr(h)||f._popupRedirectResolver;le(w,f,"argument-error"),f.redirectPersistenceManager=yield be.create(f,[lr(w._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,c.Z)(function*(){var w,U;return f._isInitialized&&(yield f.queue((0,c.Z)(function*(){}))),(null===(w=f._currentUser)||void 0===w?void 0:w._redirectEventId)===h?f._currentUser:(null===(U=f.redirectUser)||void 0===U?void 0:U._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,c.Z)(function*(){if(h===f.currentUser)return f.queue((0,c.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,w,U){if(this._deleted)return()=>{};const K="function"==typeof f?f:f.next.bind(f),Ve=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Ve,this,"internal-error"),Ve.then(()=>K(this.currentUser)),"function"==typeof f?h.addObserver(f,w,U):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,c.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.Z)(function*(){var f;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const U=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();U&&(w["X-Firebase-Client"]=U);const K=yield h._getAppCheckToken();return K&&(w["X-Firebase-AppCheck"]=K),w})()}_getAppCheckToken(){var h=this;return(0,c.Z)(function*(){var f;const w=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return w?.error&&function J(m,...h){Ze.logLevel<=Y.in.WARN&&Ze.warn(`Auth (${Ae.SDK_VERSION}): ${m}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Cr(m){return(0,G.m9)(m)}class Di{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,G.ne)(f=>this.observer=f)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ft(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function Se(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class At{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return Ce("not implemented")}_getIdTokenResponse(h){return Ce("not implemented")}_linkToIdToken(h,f){return Ce("not implemented")}_getReauthenticationResolver(h){return Ce("not implemented")}}function Mt(m,h){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:resetPassword",He(m,h))})).apply(this,arguments)}function Yt(m,h){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function kn(m,h){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:update",He(m,h))})).apply(this,arguments)}function Sr(m,h){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(m,h){return hn(m,"POST","/v1/accounts:signInWithPassword",He(m,h))})).apply(this,arguments)}function gi(m,h){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:sendOobCode",He(m,h))})).apply(this,arguments)}function rt(m,h){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(m,h){return gi(m,h)})).apply(this,arguments)}function wt(m,h){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(m,h){return gi(m,h)})).apply(this,arguments)}function Kt(m,h){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(m,h){return gi(m,h)})).apply(this,arguments)}function Ar(m,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(m,h){return gi(m,h)})).apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(m,h){return hn(m,"POST","/v1/accounts:signInWithEmailLink",He(m,h))})).apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(m,h){return hn(m,"POST","/v1/accounts:signInWithEmailLink",He(m,h))})).apply(this,arguments)}class ws extends At{constructor(h,f,w,U=null){super("password",w),this._email=h,this._password=f,this._tenantId=U}static _fromEmailAndPassword(h,f){return new ws(h,f,"password")}static _fromEmailAndCode(h,f,w=null){return new ws(h,f,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,c.Z)(function*(){var w;switch(f.signInMethod){case"password":const U={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=h._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const K=yield pr(h,U,"signInWithPassword");return Sr(h,K)}return Sr(h,U).catch(function(){var K=(0,c.Z)(function*(Ve){if("auth/missing-recaptcha-token"===Ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const at=yield pr(h,U,"signInWithPassword");return Sr(h,at)}return Promise.reject(Ve)});return function(Ve){return K.apply(this,arguments)}}());case"emailLink":return function vr(m,h){return ls.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:$e(h,"internal-error")}})()}_linkToIdToken(h,f){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Yt(h,{idToken:f,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function ps(m,h){return $i.apply(this,arguments)}(h,{idToken:f,email:w._email,oobCode:w._password});default:$e(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ci(m,h){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(m,h){return hn(m,"POST","/v1/accounts:signInWithIdp",He(m,h))})).apply(this,arguments)}class Ti extends At{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Ti(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):$e("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:U}=f,K=(0,Ee._T)(f,["providerId","signInMethod"]);if(!w||!U)return null;const Ve=new Ti(w,U);return Ve.idToken=K.idToken||void 0,Ve.accessToken=K.accessToken||void 0,Ve.secret=K.secret,Ve.nonce=K.nonce,Ve.pendingToken=K.pendingToken||null,Ve}_getIdTokenResponse(h){return Ci(h,this.buildRequest())}_linkToIdToken(h,f){const w=this.buildRequest();return w.idToken=f,Ci(h,w)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Ci(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,G.xO)(f)}return h}}function rs(m,h){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:sendVerificationCode",He(m,h))})).apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(m,h){return hn(m,"POST","/v1/accounts:signInWithPhoneNumber",He(m,h))})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(m,h){const f=yield hn(m,"POST","/v1/accounts:signInWithPhoneNumber",He(m,h));if(f.temporaryProof)throw Ln(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const bs={USER_NOT_FOUND:"user-not-found"};function ms(){return(ms=(0,c.Z)(function*(m,h){return hn(m,"POST","/v1/accounts:signInWithPhoneNumber",He(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),bs)})).apply(this,arguments)}class Yr extends At{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Yr({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Yr({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Xi(m,h){return ds.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function Ps(m,h){return Xs.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Qs(m,h){return ms.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:w,verificationCode:U}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:w,code:U}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:w,phoneNumber:U,temporaryProof:K}=h;return w||f||U||K?new Yr({verificationId:f,verificationCode:w,phoneNumber:U,temporaryProof:K}):null}}class ni{constructor(h){var f,w,U,K,Ve,at;const Wt=(0,G.zd)((0,G.pd)(h)),gn=null!==(f=Wt.apiKey)&&void 0!==f?f:null,Nn=null!==(w=Wt.oobCode)&&void 0!==w?w:null,Bn=function is(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Wt.mode)&&void 0!==U?U:null);le(gn&&Nn&&Bn,"argument-error"),this.apiKey=gn,this.operation=Bn,this.code=Nn,this.continueUrl=null!==(K=Wt.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(Ve=Wt.languageCode)&&void 0!==Ve?Ve:null,this.tenantId=null!==(at=Wt.tenantId)&&void 0!==at?at:null}static parseLink(h){const f=function Js(m){const h=(0,G.zd)((0,G.pd)(m)).link,f=h?(0,G.zd)((0,G.pd)(h)).deep_link_id:null,w=(0,G.zd)((0,G.pd)(m)).deep_link_id;return(w?(0,G.zd)((0,G.pd)(w)).link:null)||w||f||h||m}(h);try{return new ni(f)}catch{return null}}}let Ur=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,w){return ws._fromEmailAndPassword(f,w)}static credentialWithLink(f,w){const U=ni.parseLink(w);return le(U,"argument-error"),ws._fromEmailAndCode(f,U.code,U.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class ki{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class di extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ui extends di{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return le("providerId"in f&&"signInMethod"in f,"argument-error"),Ti._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return le(h.idToken||h.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ui.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ui.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:w,oauthTokenSecret:U,pendingToken:K,nonce:Ve,providerId:at}=h;if(!w&&!U&&!f&&!K||!at)return null;try{return new Ui(at)._credential({idToken:f,accessToken:w,nonce:Ve,pendingToken:K})}catch{return null}}}let Zr=(()=>{class m extends di{constructor(){super("facebook.com")}static credential(f){return Ti._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),js=(()=>{class m extends di{constructor(){super("google.com"),this.addScope("profile")}static credential(f,w){return Ti._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:w})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:w,oauthAccessToken:U}=f;if(!w&&!U)return null;try{return m.credential(w,U)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Hs=(()=>{class m extends di{constructor(){super("github.com")}static credential(f){return Ti._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class k extends At{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Ci(h,this.buildRequest())}_linkToIdToken(h,f){const w=this.buildRequest();return w.idToken=f,Ci(h,w)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Ci(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:U,pendingToken:K}=f;return w&&U&&K&&w===U?new k(w,K):null}static _create(h,f){return new k(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class B extends ki{constructor(h){le(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return B.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return B.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=k.fromJSON(h);return le(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:w}=h;if(!f||!w)return null;try{return k._create(w,f)}catch{return null}}}let ae=(()=>{class m extends di{constructor(){super("twitter.com")}static credential(f,w){return Ti._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:w})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:w,oauthTokenSecret:U}=f;if(!w||!U)return null;try{return m.credential(w,U)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Ge(m,h){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(m,h){return hn(m,"POST","/v1/accounts:signUp",He(m,h))})).apply(this,arguments)}class $t{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,w,U=!1){return(0,c.Z)(function*(){const K=yield Yn._fromIdTokenResponse(h,w,U),Ve=Tn(w);return new $t({user:K,providerId:Ve,_tokenResponse:w,operationType:f})})()}static _forOperation(h,f,w){return(0,c.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const U=Tn(w);return new $t({user:h,providerId:U,_tokenResponse:w,operationType:f})})()}}function Tn(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Hr(){return(Hr=(0,c.Z)(function*(m){var h;const f=Cr(m);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new $t({user:f.currentUser,providerId:null,operationType:"signIn"});const w=yield Ge(f,{returnSecureToken:!0}),U=yield $t._fromIdTokenResponse(f,"signIn",w,!0);return yield f._updateCurrentUser(U.user),U})).apply(this,arguments)}class ar extends G.ZR{constructor(h,f,w,U){var K;super(f.code,f.message),this.operationType=w,this.user=U,Object.setPrototypeOf(this,ar.prototype),this.customData={appName:h.name,tenantId:null!==(K=h.tenantId)&&void 0!==K?K:void 0,_serverResponse:f.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,f,w,U){return new ar(h,f,w,U)}}function mn(m,h,f,w){return("reauthenticate"===h?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?ar._fromErrorAndOperation(m,K,h,w):K})}function hi(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function ri(){return(ri=(0,c.Z)(function*(m,h){const f=(0,G.m9)(m);yield y(!0,f,h);const{providerUserInfo:w}=yield mr(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),U=hi(w||[]);return f.providerData=f.providerData.filter(K=>U.has(K.providerId)),U.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function v(m,h){return V.apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(m,h,f=!1){const w=yield Pt(m,h._linkToIdToken(m.auth,yield m.getIdToken()),f);return $t._forOperation(m,"link",w)})).apply(this,arguments)}function y(m,h,f){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(function*(m,h,f){yield Qt(h);const U=!1===m?"provider-already-linked":"no-such-provider";le(hi(h.providerData).has(f)===m,h.auth,U)})).apply(this,arguments)}function ue(m,h){return xe.apply(this,arguments)}function xe(){return(xe=(0,c.Z)(function*(m,h,f=!1){const{auth:w}=m,U="reauthenticate";try{const K=yield Pt(m,mn(w,U,h,m),f);le(K.idToken,w,"internal-error");const Ve=Fe(K.idToken);le(Ve,w,"internal-error");const{sub:at}=Ve;return le(m.uid===at,w,"user-mismatch"),$t._forOperation(m,U,K)}catch(K){throw"auth/user-not-found"===K?.code&&$e(w,"user-mismatch"),K}})).apply(this,arguments)}function Ht(m,h){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(m,h,f=!1){const w="signIn",U=yield mn(m,w,h),K=yield $t._fromIdTokenResponse(m,w,U);return f||(yield m._updateCurrentUser(K.user)),K})).apply(this,arguments)}function er(m,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(m,h){return Ht(Cr(m),h)})).apply(this,arguments)}function N(m,h){return M.apply(this,arguments)}function M(){return(M=(0,c.Z)(function*(m,h){const f=(0,G.m9)(m);return yield y(!1,f,h.providerId),v(f,h)})).apply(this,arguments)}function S(m,h){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(m,h){return ue((0,G.m9)(m),h)})).apply(this,arguments)}function _t(m,h){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(m,h){return hn(m,"POST","/v1/accounts:signInWithCustomToken",He(m,h))})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(m,h){const f=Cr(m),w=yield _t(f,{token:h,returnSecureToken:!0}),U=yield $t._fromIdTokenResponse(f,"signIn",w);return yield f._updateCurrentUser(U.user),U})).apply(this,arguments)}class Qi{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Jr._fromServerResponse(h,f):"totpInfo"in f?wi._fromServerResponse(h,f):$e(h,"internal-error")}}class Jr extends Qi{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Jr(f)}}class wi extends Qi{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new wi(f)}}function Ss(m,h,f){var w;le((null===(w=f.url)||void 0===w?void 0:w.length)>0,m,"invalid-continue-uri"),le(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(le(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(le(f.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function ss(){return ss=(0,c.Z)(function*(m,h,f){var w;const U=Cr(m),K={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=U._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Ve=yield pr(U,K,"getOobCode",!0);f&&Ss(U,Ve,f),yield wt(U,Ve)}else f&&Ss(U,K,f),yield wt(U,K).catch(function(){var Ve=(0,c.Z)(function*(at){if("auth/missing-recaptcha-token"!==at.code)return Promise.reject(at);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Wt=yield pr(U,K,"getOobCode",!0);f&&Ss(U,Wt,f),yield wt(U,Wt)}});return function(at){return Ve.apply(this,arguments)}}())}),ss.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(m,h,f){yield Mt((0,G.m9)(m),{oobCode:h,newPassword:f})})).apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(m,h){yield kn((0,G.m9)(m),{oobCode:h})})).apply(this,arguments)}function Jo(m,h){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(m,h){const f=(0,G.m9)(m),w=yield Mt(f,{oobCode:h}),U=w.requestType;switch(le(U,f,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,f,"internal-error");default:le(w.email,f,"internal-error")}let K=null;return w.mfaInfo&&(K=Qi._fromServerResponse(Cr(f),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:K},operation:U}})).apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(m,h){const{data:f}=yield Jo((0,G.m9)(m),h);return f.email})).apply(this,arguments)}function go(){return go=(0,c.Z)(function*(m,h,f){var w;const U=Cr(m),K={returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"};let Ve;if(null!==(w=U._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const gn=yield pr(U,K,"signUpPassword");Ve=Ge(U,gn)}else Ve=Ge(U,K).catch(function(){var gn=(0,c.Z)(function*(Nn){if("auth/missing-recaptcha-token"===Nn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Bn=yield pr(U,K,"signUpPassword");return Ge(U,Bn)}return Promise.reject(Nn)});return function(Nn){return gn.apply(this,arguments)}}());const at=yield Ve.catch(gn=>Promise.reject(gn)),Wt=yield $t._fromIdTokenResponse(U,"signIn",at);return yield U._updateCurrentUser(Wt.user),Wt}),go.apply(this,arguments)}function To(){return To=(0,c.Z)(function*(m,h,f){var w;const U=Cr(m),K={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function Ve(at,Wt){le(Wt.handleCodeInApp,U,"argument-error"),Wt&&Ss(U,at,Wt)}if(null!==(w=U._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const at=yield pr(U,K,"getOobCode",!0);Ve(at,f),yield Kt(U,at)}else Ve(K,f),yield Kt(U,K).catch(function(){var at=(0,c.Z)(function*(Wt){if("auth/missing-recaptcha-token"!==Wt.code)return Promise.reject(Wt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const gn=yield pr(U,K,"getOobCode",!0);Ve(gn,f),yield Kt(U,gn)}});return function(Wt){return at.apply(this,arguments)}}())}),To.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(m,h,f){const w=(0,G.m9)(m),U=Ur.credentialWithLink(h,f||me());return le(U._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),er(w,U)})).apply(this,arguments)}function ec(m,h){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:createAuthUri",He(m,h))})).apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(m,h){const w={identifier:h,continueUri:W()?me():"http://localhost"},{signinMethods:U}=yield ec((0,G.m9)(m),w);return U||[]})).apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(m,h){const f=(0,G.m9)(m),U={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&Ss(f.auth,U,h);const{email:K}=yield rt(f.auth,U);K!==m.email&&(yield m.reload())})).apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(m,h,f){const w=(0,G.m9)(m),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};f&&Ss(w.auth,K,f);const{email:Ve}=yield Ar(w.auth,K);Ve!==m.email&&(yield m.reload())})).apply(this,arguments)}function Za(m,h){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(m,h){return ze(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(m,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const w=(0,G.m9)(m),K={idToken:yield w.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},Ve=yield Pt(w,Za(w.auth,K));w.displayName=Ve.displayName||null,w.photoURL=Ve.photoUrl||null;const at=w.providerData.find(({providerId:Wt})=>"password"===Wt);at&&(at.displayName=w.displayName,at.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Ve)})).apply(this,arguments)}function Ia(m,h,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(m,h,f){const{auth:w}=m,K={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(K.email=h),f&&(K.password=f);const Ve=yield Pt(m,Yt(w,K));yield m._updateTokensIfNecessary(Ve,!0)})).apply(this,arguments)}class Os{constructor(h,f,w={}){this.isNewUser=h,this.providerId=f,this.profile=w}}class Wi extends Os{constructor(h,f,w,U){super(h,f,w),this.username=U}}class ba extends Os{constructor(h,f){super(h,"facebook.com",f)}}class qr extends Wi{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class ra extends Os{constructor(h,f){super(h,"google.com",f)}}class ia extends Wi{constructor(h,f,w){super(h,"twitter.com",f,w)}}function ro(m){const{user:h,_tokenResponse:f}=m;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function $o(m){var h,f;if(!m)return null;const{providerId:w}=m,U=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},K=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!w&&m?.idToken){const Ve=null===(f=null===(h=Fe(m.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(Ve)return new Os(K,"anonymous"!==Ve&&"custom"!==Ve?Ve:null)}if(!w)return null;switch(w){case"facebook.com":return new ba(K,U);case"github.com":return new qr(K,U);case"google.com":return new ra(K,U);case"twitter.com":return new ia(K,U,m.screenName||null);case"custom":case"anonymous":return new Os(K,null);default:return new Os(K,w,U)}}(f)}class Cs{constructor(h,f,w){this.type=h,this.credential=f,this.auth=w}static _fromIdtoken(h,f){return new Cs("enroll",h,f)}static _fromMfaPendingCredential(h){return new Cs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,w;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Cs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return Cs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ks{constructor(h,f,w){this.session=h,this.hints=f,this.signInResolver=w}static _fromError(h,f){const w=Cr(h),U=f.customData._serverResponse,K=(U.mfaInfo||[]).map(at=>Qi._fromServerResponse(w,at));le(U.mfaPendingCredential,w,"internal-error");const Ve=Cs._fromMfaPendingCredential(U.mfaPendingCredential);return new ks(Ve,K,function(){var at=(0,c.Z)(function*(Wt){const gn=yield Wt._process(w,Ve);delete U.mfaInfo,delete U.mfaPendingCredential;const Nn=Object.assign(Object.assign({},U),{idToken:gn.idToken,refreshToken:gn.refreshToken});switch(f.operationType){case"signIn":const Bn=yield $t._fromIdTokenResponse(w,f.operationType,Nn);return yield w._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return le(f.user,w,"internal-error"),$t._forOperation(f.user,f.operationType,Nn);default:$e(w,"internal-error")}});return function(Wt){return at.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,c.Z)(function*(){return f.signInResolver(h)})()}}function Ks(m,h){return ze(m,"POST","/v2/accounts/mfaEnrollment:start",He(m,h))}class fi{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(w=>Qi._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new fi(h)}getSession(){var h=this;return(0,c.Z)(function*(){return Cs._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,f){var w=this;return(0,c.Z)(function*(){const U=h,K=yield w.getSession(),Ve=yield Pt(w.user,U._process(w.user.auth,K,f));return yield w.user._updateTokensIfNecessary(Ve),w.user.reload()})()}unenroll(h){var f=this;return(0,c.Z)(function*(){const w="string"==typeof h?h:h.uid,U=yield f.user.getIdToken();try{const K=yield Pt(f.user,function Vc(m,h){return ze(m,"POST","/v2/accounts/mfaEnrollment:withdraw",He(m,h))}(f.user.auth,{idToken:U,mfaEnrollmentId:w}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Ve})=>Ve!==w),yield f.user._updateTokensIfNecessary(K),yield f.user.reload()}catch(K){throw K}})()}}const Ja=new WeakMap,yi="__sak";class eu{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(yi,"1"),this.storage.removeItem(yi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fs=(()=>{class m extends eu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,w)=>this.onStorageEvent(f,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ca(){const m=(0,G.z$)();return yt(m)||Ye(m)}()&&function on(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const w of Object.keys(this.listeners)){const U=this.storage.getItem(w),K=this.localCache[w];U!==K&&f(w,K,U)}}onStorageEvent(f,w=!1){if(!f.key)return void this.forAllChangedKeys((at,Wt,gn)=>{this.notifyListeners(at,gn)});const U=f.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const at=this.storage.getItem(U);if(f.newValue!==at)null!==f.newValue?this.storage.setItem(U,f.newValue):this.storage.removeItem(U);else if(this.localCache[U]===f.newValue&&!w)return}const K=()=>{const at=this.storage.getItem(U);!w&&this.localCache[U]===at||this.notifyListeners(U,at)},Ve=this.storage.getItem(U);!function Be(){return(0,G.w1)()&&10===document.documentMode}()||Ve===f.newValue||f.newValue===f.oldValue?K():setTimeout(K,10)}notifyListeners(f,w){this.localCache[f]=w;const U=this.listeners[f];if(U)for(const K of Array.from(U))K(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,w,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:w,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,w){var U=()=>super._set,K=this;return(0,c.Z)(function*(){yield U().call(K,f,w),K.localCache[f]=JSON.stringify(w)})()}_get(f){var w=()=>super._get,U=this;return(0,c.Z)(function*(){const K=yield w().call(U,f);return U.localCache[f]=JSON.stringify(K),K})()}_remove(f){var w=()=>super._remove,U=this;return(0,c.Z)(function*(){yield w().call(U,f),delete U.localCache[f]})()}}return m.type="LOCAL",m})(),Ys=(()=>{class m extends eu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,w){}_removeListener(f,w){}}return m.type="SESSION",m})();let Zt=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const w=this.receivers.find(K=>K.isListeningto(f));if(w)return w;const U=new m(f);return this.receivers.push(U),U}isListeningto(f){return this.eventTarget===f}handleEvent(f){var w=this;return(0,c.Z)(function*(){const U=f,{eventId:K,eventType:Ve,data:at}=U.data,Wt=w.handlersMap[Ve];if(!Wt?.size)return;U.ports[0].postMessage({status:"ack",eventId:K,eventType:Ve});const gn=Array.from(Wt).map(function(){var Bn=(0,c.Z)(function*(Hi){return Hi(U.origin,at)});return function(Hi){return Bn.apply(this,arguments)}}()),Nn=yield function nc(m){return Promise.all(m.map(function(){var h=(0,c.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(w){return{fulfilled:!1,reason:w}}});return function(f){return h.apply(this,arguments)}}()))}(gn);U.ports[0].postMessage({status:"done",eventId:K,eventType:Ve,response:Nn})})()}_subscribe(f,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(w)}_unsubscribe(f,w){this.handlersMap[f]&&w&&this.handlersMap[f].delete(w),(!w||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function ii(m="",h=10){let f="";for(let w=0;w<h;w++)f+=Math.floor(10*Math.random());return m+f}class xs{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,w=50){var U=this;return(0,c.Z)(function*(){const K=typeof MessageChannel<"u"?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let Ve,at;return new Promise((Wt,gn)=>{const Nn=ii("",20);K.port1.start();const Bn=setTimeout(()=>{gn(new Error("unsupported_event"))},w);at={messageChannel:K,onMessage(Hi){const Yo=Hi;if(Yo.data.eventId===Nn)switch(Yo.data.status){case"ack":clearTimeout(Bn),Ve=setTimeout(()=>{gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),Wt(Yo.data.response);break;default:clearTimeout(Bn),clearTimeout(Ve),gn(new Error("invalid_response"))}}},U.handlers.add(at),K.port1.addEventListener("message",at.onMessage),U.target.postMessage({eventType:h,eventId:Nn,data:f},[K.port2])}).finally(()=>{at&&U.removeMessageHandler(at)})})()}}function vi(){return window}function Dn(){return typeof vi().WorkerGlobalScope<"u"&&"function"==typeof vi().importScripts}function yn(){return(yn=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Si="firebaseLocalStorageDb",vo="firebaseLocalStorage",jo="fbase_key";class Ls{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ta(m,h){return m.transaction([vo],h?"readwrite":"readonly").objectStore(vo)}function so(){const m=indexedDB.open(Si,1);return new Promise((h,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const w=m.result;try{w.createObjectStore(vo,{keyPath:jo})}catch(U){f(U)}}),m.addEventListener("success",(0,c.Z)(function*(){const w=m.result;w.objectStoreNames.contains(vo)?h(w):(w.close(),yield function Sa(){const m=indexedDB.deleteDatabase(Si);return new Ls(m).toPromise()}(),h(yield so()))}))})}function Su(m,h,f){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(m,h,f){const w=Ta(m,!0).put({[jo]:h,value:f});return new Ls(w).toPromise()})).apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(m,h){const f=Ta(m,!1).get(h),w=yield new Ls(f).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ur(m,h){const f=Ta(m,!0).delete(h);return new Ls(f).toPromise()}const $n=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,c.Z)(function*(){return f.db||(f.db=yield so()),f.db})()}_withRetries(f){var w=this;return(0,c.Z)(function*(){let U=0;for(;;)try{const K=yield w._openDb();return yield f(K)}catch(K){if(U++>3)throw K;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,c.Z)(function*(){return Dn()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,c.Z)(function*(){f.receiver=Zt._getInstance(function Gt(){return Dn()?self:null}()),f.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(U,K){return{keyProcessed:(yield f._poll()).includes(K.key)}});return function(U,K){return w.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(U,K){return["keyChanged"]});return function(U,K){return w.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,c.Z)(function*(){var w,U;if(f.activeServiceWorker=yield function rc(){return yn.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new xs(f.activeServiceWorker);const K=yield f.sender._send("ping",{},800);!K||(null===(w=K[0])||void 0===w?void 0:w.fulfilled)&&(null===(U=K[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function St(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:f},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const f=yield so();return yield Su(f,yi,"1"),yield ur(f,yi),!0}catch{}return!1})()}_withPendingWrite(f){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield f()}finally{w.pendingWrites--}})()}_set(f,w){var U=this;return(0,c.Z)(function*(){return U._withPendingWrite((0,c.Z)(function*(){return yield U._withRetries(K=>Su(K,f,w)),U.localCache[f]=w,U.notifyServiceWorker(f)}))})()}_get(f){var w=this;return(0,c.Z)(function*(){const U=yield w._withRetries(K=>function ei(m,h){return nu.apply(this,arguments)}(K,f));return w.localCache[f]=U,U})()}_remove(f){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(U=>ur(U,f)),delete w.localCache[f],w.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,c.Z)(function*(){const w=yield f._withRetries(Ve=>{const at=Ta(Ve,!1).getAll();return new Ls(at).toPromise()});if(!w)return[];if(0!==f.pendingWrites)return[];const U=[],K=new Set;for(const{fbase_key:Ve,value:at}of w)K.add(Ve),JSON.stringify(f.localCache[Ve])!==JSON.stringify(at)&&(f.notifyListeners(Ve,at),U.push(Ve));for(const Ve of Object.keys(f.localCache))f.localCache[Ve]&&!K.has(Ve)&&(f.notifyListeners(Ve,null),U.push(Ve));return U})()}notifyListeners(f,w){this.localCache[f]=w;const U=this.listeners[f];if(U)for(const K of Array.from(U))K(w)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Mo(m,h){return ze(m,"POST","/v2/accounts/mfaSignIn:start",He(m,h))}const b=1e12;class I{constructor(h){this.auth=h,this.counter=b,this._widgets=new Map}render(h,f){const w=this.counter;return this._widgets.set(w,new E(h,this.auth.name,f||{})),this.counter++,w}reset(h){var f;const w=h||b;null===(f=this._widgets.get(w))||void 0===f||f.delete(),this._widgets.delete(w)}getResponse(h){var f;return(null===(f=this._widgets.get(h||b))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,c.Z)(function*(){var w;return null===(w=f._widgets.get(h||b))||void 0===w||w.execute(),""})()}}class E{constructor(h,f,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof h?document.getElementById(h):h;le(U,"argument-error",{appName:f}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function x(m){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<m;w++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $=Wr("rcb"),ee=new Ue(3e4,6e4);class Qe{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=vi().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return le(function Vt(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&Xt(vi().grecaptcha)?Promise.resolve(vi().grecaptcha):new Promise((w,U)=>{const K=vi().setTimeout(()=>{U(st(h,"network-request-failed"))},ee.get());vi()[$]=()=>{vi().clearTimeout(K),delete vi()[$];const at=vi().grecaptcha;if(!at||!Xt(at))return void U(st(h,"internal-error"));const Wt=at.render;at.render=(gn,Nn)=>{const Bn=Wt(gn,Nn);return this.counter++,Bn},this.hostLanguage=f,w(at)},Qr(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:$,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(K),U(st(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=vi().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nn{load(h){return(0,c.Z)(function*(){return new I(h)})()}clearedOneInstance(){}}const xr="recaptcha",jn={theme:"light",type:"image"};class pi{constructor(h,f=Object.assign({},jn),w){this.parameters=f,this.type=xr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cr(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof h?document.getElementById(h):h;le(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nn:new Qe,this.validateStartingState()}verify(){var h=this;return(0,c.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(f)||new Promise(K=>{const Ve=at=>{!at||(h.tokenChangeListeners.delete(Ve),K(at))};h.tokenChangeListeners.add(Ve),h.isInvisible&&w.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(w=>w(f)),"function"==typeof h)h(f);else if("string"==typeof h){const w=vi()[h];"function"==typeof w&&w(f)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const w=document.createElement("div");f.appendChild(w),f=w}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.Z)(function*(){le(W()&&!Dn(),h.auth,"internal-error"),yield function si(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function ot(m){return xt.apply(this,arguments)}(h.auth);le(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vs{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Yr._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function oo(){return(oo=(0,c.Z)(function*(m,h,f){const w=Cr(m),U=yield Uc(w,h,(0,G.m9)(f));return new vs(U,K=>er(w,K))})).apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(m,h,f){const w=(0,G.m9)(m);yield y(!1,w,"phone");const U=yield Uc(w.auth,h,(0,G.m9)(f));return new vs(U,K=>N(w,K))})).apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(m,h,f){const w=(0,G.m9)(m),U=yield Uc(w.auth,h,(0,G.m9)(f));return new vs(U,K=>S(w,K))})).apply(this,arguments)}function Uc(m,h,f){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(m,h,f){var w;const U=yield f.verify();try{let K;if(le("string"==typeof U,m,"argument-error"),le(f.type===xr,m,"argument-error"),K="string"==typeof h?{phoneNumber:h}:h,"session"in K){const Ve=K.session;if("phoneNumber"in K)return le("enroll"===Ve.type,m,"internal-error"),(yield Ks(m,{idToken:Ve.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{le("signin"===Ve.type,m,"internal-error");const at=(null===(w=K.multiFactorHint)||void 0===w?void 0:w.uid)||K.multiFactorUid;return le(at,m,"missing-multi-factor-info"),(yield Mo(m,{mfaPendingCredential:Ve.credential,mfaEnrollmentId:at,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ve}=yield rs(m,{phoneNumber:K.phoneNumber,recaptchaToken:U});return Ve}}finally{f._reset()}})).apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(m,h){yield v((0,G.m9)(m),h)})).apply(this,arguments)}let xu=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=Cr(f)}verifyPhoneNumber(f,w){return Uc(this.auth,f,(0,G.m9)(w))}static credential(f,w){return Yr._fromVerification(f,w)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:w,temporaryProof:U}=f;return w&&U?Yr._fromTokenResponse(w,U):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function ua(m,h){return h?lr(h):(le(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class os extends At{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ci(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Ci(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Ci(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Mu(m){return Ht(m.auth,new os(m),m.bypassAuthState)}function Ho(m){const{auth:h,user:f}=m;return le(f,h,"internal-error"),ue(f,new os(m),m.bypassAuthState)}function oc(m){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(m){const{auth:h,user:f}=m;return le(f,h,"internal-error"),v(f,new os(m),m.bypassAuthState)})).apply(this,arguments)}class Bl{constructor(h,f,w,U,K=!1){this.auth=h,this.resolver=w,this.user=U,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,c.Z)(function*(w,U){h.pendingPromise={resolve:w,reject:U};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(K){h.reject(K)}});return function(w,U){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:U,postBody:K,tenantId:Ve,error:at,type:Wt}=h;if(at)return void f.reject(at);const gn={auth:f.auth,requestUri:w,sessionId:U,tenantId:Ve||void 0,postBody:K||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Wt)(gn))}catch(Nn){f.reject(Nn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Mu;case"linkViaPopup":case"linkViaRedirect":return oc;case"reauthViaPopup":case"reauthViaRedirect":return Ho;default:$e(this.auth,"internal-error")}}resolve(h){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vl=new Ue(2e3,1e4);function Ru(){return(Ru=(0,c.Z)(function*(m,h,f){const w=Cr(m);ct(m,h,ki);const U=ua(w,f);return new ru(w,"signInViaPopup",h,U).executeNotNull()})).apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(m,h,f){const w=(0,G.m9)(m);ct(w.auth,h,ki);const U=ua(w.auth,f);return new ru(w.auth,"reauthViaPopup",h,U,w).executeNotNull()})).apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(m,h,f){const w=(0,G.m9)(m);ct(w.auth,h,ki);const U=ua(w.auth,f);return new ru(w.auth,"linkViaPopup",h,U,w).executeNotNull()})).apply(this,arguments)}let ru=(()=>{class m extends Bl{constructor(f,w,U,K,Ve){super(f,w,K,Ve),this.provider=U,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,c.Z)(function*(){const w=yield f.execute();return le(w,f.auth,"internal-error"),w})()}onExecution(){var f=this;return(0,c.Z)(function*(){se(1===f.filter.length,"Popup operations only handle one event");const w=ii();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],w),f.authWindow.associatedEvent=w,f.resolver._originValidation(f.auth).catch(U=>{f.reject(U)}),f.resolver._isIframeWebStorageSupported(f.auth,U=>{U||f.reject(st(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(st(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var w,U;this.pollId=null!==(U=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(st(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Vl.get())};f()}}return m.currentPopupAction=null,m})();const zo=new Map;class uc extends Bl{constructor(h,f,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,c.Z)(function*(){let w=zo.get(f.auth._key());if(!w){try{const K=(yield function cf(m,h){return $l.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;w=()=>Promise.resolve(K)}catch(U){w=()=>Promise.reject(U)}zo.set(f.auth._key(),w)}return f.bypassAuthState||zo.set(f.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(w,h);if("unknown"!==h.type){if(h.eventId){const U=yield w.auth._redirectUserForId(h.eventId);if(U)return w.user=U,f().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function $l(){return($l=(0,c.Z)(function*(m,h){const f=Ul(h),w=iu(m);if(!(yield w._isAvailable()))return!1;const U="true"===(yield w._get(f));return yield w._remove(f),U})).apply(this,arguments)}function Hc(m,h){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(m,h){return iu(m)._set(Ul(h),"true")})).apply(this,arguments)}function Ou(m,h){zo.set(m._key(),h)}function iu(m){return lr(m._redirectPersistence)}function Ul(m){return Oe("pendingRedirect",m.config.apiKey,m.name)}function uo(){return(uo=(0,c.Z)(function*(m,h,f){const w=Cr(m);ct(m,h,ki),yield w._initializationPromise;const U=ua(w,f);return yield Hc(U,w),U._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(m,h,f){const w=(0,G.m9)(m);ct(w.auth,h,ki),yield w.auth._initializationPromise;const U=ua(w.auth,f);yield Hc(U,w.auth);const K=yield Je(w);return U._openRedirect(w.auth,h,"reauthViaRedirect",K)})).apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(m,h,f){const w=(0,G.m9)(m);ct(w.auth,h,ki),yield w.auth._initializationPromise;const U=ua(w.auth,f);yield y(!1,w,h.providerId),yield Hc(U,w.auth);const K=yield Je(w);return U._openRedirect(w.auth,h,"linkViaRedirect",K)})).apply(this,arguments)}function R(){return(R=(0,c.Z)(function*(m,h){return yield Cr(m)._initializationPromise,z(m,h,!1)})).apply(this,arguments)}function z(m,h){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(m,h,f=!1){const w=Cr(m),U=ua(w,h),Ve=yield new uc(w,U,f).execute();return Ve&&!f&&(delete Ve.user._redirectEventId,yield w._persistUserIfCurrent(Ve.user),yield w._setRedirectUser(null,h)),Ve})).apply(this,arguments)}function Je(m){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(m){const h=ii(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class _n{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(f=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Tr(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zn(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var w;if(h.error&&!Zn(h)){const U=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";f.onError(st(this.auth,U))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const w=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pn(h))}saveEventToCache(h){this.cachedEventUids.add(pn(h)),this.lastProcessedEventTime=Date.now()}}function pn(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Zn({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function zn(m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(m,h={}){return ze(m,"GET","/v1/projects",h)})).apply(this,arguments)}const Li=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_i=/^https?/;function Eo(){return(Eo=(0,c.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield zn(m);for(const f of h)try{if(_s(f))return}catch{}$e(m,"unauthorized-domain")})).apply(this,arguments)}function _s(m){const h=me(),{protocol:f,hostname:w}=new URL(h);if(m.startsWith("chrome-extension://")){const Ve=new URL(m);return""===Ve.hostname&&""===w?"chrome-extension:"===f&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&Ve.hostname===w}if(!_i.test(f))return!1;if(Li.test(m))return w===m;const U=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(w)}const Bs=new Ue(3e4,6e4);function da(){const m=vi().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Wo=null;function Wd(m){return Wo=Wo||function ou(m){return new Promise((h,f)=>{var w,U,K;function Ve(){da(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{da(),f(st(m,"network-request-failed"))},timeout:Bs.get()})}if(null!==(U=null===(w=vi().gapi)||void 0===w?void 0:w.iframes)&&void 0!==U&&U.Iframe)h(gapi.iframes.getContext());else{if(null===(K=vi().gapi)||void 0===K||!K.load){const at=Wr("iframefcb");return vi()[at]=()=>{gapi.load?Ve():f(st(m,"network-request-failed"))},Qr(`https://apis.google.com/js/api.js?onload=${at}`).catch(Wt=>f(Wt))}Ve()}}).catch(h=>{throw Wo=null,h})}(m),Wo}const qo=new Ue(5e3,15e3),Ra={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ku(m){const h=m.config;le(h.authDomain,m,"auth-domain-config-required");const f=h.emulator?ut(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,w={apiKey:h.apiKey,appName:m.name,v:Ae.SDK_VERSION},U=qd.get(m.config.apiHost);U&&(w.eid=U);const K=m._getFrameworks();return K.length&&(w.fw=K.join(",")),`${f}?${(0,G.xO)(w).slice(1)}`}function dc(){return dc=(0,c.Z)(function*(m){const h=yield Wd(m),f=vi().gapi;return le(f,m,"internal-error"),h.open({where:document.body,url:ku(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ra,dontclear:!0},w=>new Promise(function(){var U=(0,c.Z)(function*(K,Ve){yield w.restyle({setHideOnLeave:!1});const at=st(m,"network-request-failed"),Wt=vi().setTimeout(()=>{Ve(at)},qo.get());function gn(){vi().clearTimeout(Wt),K(w)}w.ping(gn).then(gn,()=>{Ve(at)})});return function(K,Ve){return U.apply(this,arguments)}}()))}),dc.apply(this,arguments)}const Nu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Lp=encodeURIComponent("fac");function qc(m,h,f,w,U,K){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(m,h,f,w,U,K){le(m.config.authDomain,m,"auth-domain-config-required"),le(m.config.apiKey,m,"invalid-api-key");const Ve={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:w,v:Ae.SDK_VERSION,eventId:U};if(h instanceof ki){h.setDefaultLanguage(m.languageCode),Ve.providerId=h.providerId||"",(0,G.xb)(h.getCustomParameters())||(Ve.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Nn,Bn]of Object.entries(K||{}))Ve[Nn]=Bn}if(h instanceof di){const Nn=h.getScopes().filter(Bn=>""!==Bn);Nn.length>0&&(Ve.scopes=Nn.join(","))}m.tenantId&&(Ve.tid=m.tenantId);const at=Ve;for(const Nn of Object.keys(at))void 0===at[Nn]&&delete at[Nn];const Wt=yield m._getAppCheckToken(),gn=Wt?`#${Lp}=${encodeURIComponent(Wt)}`:"";return`${lf(m)}?${(0,G.xO)(at).slice(1)}${gn}`})).apply(this,arguments)}function lf({config:m}){return m.emulator?ut(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}const xi="webStorageSupport";class Ko extends class hf{constructor(h){this.factorId=h}_process(h,f,w){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,w);case"signin":return this._finalizeSignIn(h,f.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ko(h)}_finalizeEnroll(h,f,w){return function Ll(m,h){return ze(m,"POST","/v2/accounts/mfaEnrollment:finalize",He(m,h))}(h,{idToken:f,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function Pr(m,h){return ze(m,"POST","/v2/accounts/mfaSignIn:finalize",He(m,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ff=(()=>{class m{constructor(){}static assertion(f){return Ko._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var Kc="@firebase/auth";class Bp{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,c.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uu(){return window}function Xd(){return(Xd=(0,c.Z)(function*(m,h,f){var w;const{BuildInfo:U}=uu();se(h.sessionId,"AuthEvent did not contain a session ID");const K=yield ql(h.sessionId),Ve={};return Ye()?Ve.ibi=U.packageName:Pn()?Ve.apn=U.packageName:$e(m,"operation-not-supported-in-this-environment"),U.displayName&&(Ve.appDisplayName=U.displayName),Ve.sessionId=K,qc(m,f,h.type,void 0,null!==(w=h.eventId)&&void 0!==w?w:void 0,Ve)})).apply(this,arguments)}function fc(){return(fc=(0,c.Z)(function*(m){const{BuildInfo:h}=uu(),f={};Ye()?f.iosBundleId=h.packageName:Pn()?f.androidPackageName=h.packageName:$e(m,"operation-not-supported-in-this-environment"),yield zn(m,f)})).apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(m,h,f){const{cordova:w}=uu();let U=()=>{};try{yield new Promise((K,Ve)=>{let at=null;function Wt(){var Bn;K();const Hi=null===(Bn=w.plugins.browsertab)||void 0===Bn?void 0:Bn.close;"function"==typeof Hi&&Hi(),"function"==typeof f?.close&&f.close()}function gn(){at||(at=window.setTimeout(()=>{Ve(st(m,"redirect-cancelled-by-user"))},2e3))}function Nn(){"visible"===document?.visibilityState&&gn()}h.addPassiveListener(Wt),document.addEventListener("resume",gn,!1),Pn()&&document.addEventListener("visibilitychange",Nn,!1),U=()=>{h.removePassiveListener(Wt),document.removeEventListener("resume",gn,!1),document.removeEventListener("visibilitychange",Nn,!1),at&&window.clearTimeout(at)}})}finally{U()}})).apply(this,arguments)}function ql(m){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(m){const h=Yl(m),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Yl(m){if(se(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),f=new Uint8Array(h);for(let w=0;w<m.length;w++)f[w]=m.charCodeAt(w);return f}(0,G.Pz)("authIdTokenMaxAge"),function Gl(m){(0,Ae._registerComponent)(new de.wA("auth",(h,{options:f})=>{const w=h.getProvider("app").getImmediate(),U=h.getProvider("heartbeat"),K=h.getProvider("app-check-internal"),{apiKey:Ve,authDomain:at}=w.options;le(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:w.name});const Wt={apiKey:Ve,authDomain:at,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gt(m)},gn=new Dr(w,U,K,Wt);return function ge(m,h){const f=h?.persistence||[],w=(Array.isArray(f)?f:[f]).map(lr);h?.errorMap&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(w,h?.popupRedirectResolver)}(gn,f),gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,w)=>{h.getProvider("auth-internal").initialize()})),(0,Ae._registerComponent)(new de.wA("auth-internal",h=>{const f=Cr(h.getProvider("auth").getImmediate());return new Bp(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)(Kc,"0.23.2",function pf(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,Ae.registerVersion)(Kc,"0.23.2","esm2017")}("Browser");class yf extends _n{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,c.Z)(function*(){yield h.initPromise})()}}function Zl(m){return gc.apply(this,arguments)}function gc(){return(gc=(0,c.Z)(function*(m){const h=yield as()._get(Lu(m));return h&&(yield as()._remove(Lu(m))),h})).apply(this,arguments)}function mc(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const w=Math.floor(Math.random()*h.length);m.push(h.charAt(w))}return m.join("")}function as(){return lr(Fs)}function Lu(m){return Oe("authEvent",m.config.apiKey,m.name)}function ka(m){if(!m?.includes("?"))return{};const[h,...f]=m.split("?");return(0,G.zd)(f.join("?"))}function Ql(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:st("no-auth-event")}}function cu(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function eh(m=(0,G.z$)()){return!("file:"!==cu()&&"ionic:"!==cu()&&"capacitor:"!==cu()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vs(){try{const m=self.localStorage,h=ii();if(m)return m.setItem(h,"1"),m.removeItem(h),!function Gp(m=(0,G.z$)()){return function th(){return(0,G.w1)()&&11===document?.documentMode}()||function Xc(m=(0,G.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,G.hl)()}catch{return wr()&&(0,G.hl)()}return!1}function wr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jl(){return(function Zc(){return"http:"===cu()||"https:"===cu()}()||(0,G.ru)()||eh())&&!function ga(){return(0,G.b$)()||(0,G.UG)()}()&&Vs()&&!wr()}function yc(){return eh()&&typeof document<"u"}function lu(){return(lu=(0,c.Z)(function*(){return!!yc()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const $s={LOCAL:"local",NONE:"none",SESSION:"session"},Qc=le,nh="persistence";function Fa(m){return La.apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(m){yield m._initializationPromise;const h=du(),f=Oe(nh,m.config.apiKey,m.name);h&&h.setItem(f,m._getPersistence())})).apply(this,arguments)}function du(){var m;try{return(null===(m=function ed(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const If=le;class wo{constructor(){this.browserResolver=lr(class au{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ys,this._completeRedirectFn=z,this._overrideRedirectResult=Ou}_openPopup(h,f,w,U){var K=this;return(0,c.Z)(function*(){var Ve;se(null===(Ve=K.eventManagers[h._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const at=yield qc(h,f,w,me(),U);return function Hl(m,h,f,w=500,U=600){const K=Math.max((window.screen.availHeight-U)/2,0).toString(),Ve=Math.max((window.screen.availWidth-w)/2,0).toString();let at="";const Wt=Object.assign(Object.assign({},Nu),{width:w.toString(),height:U.toString(),top:K,left:Ve}),gn=(0,G.z$)().toLowerCase();f&&(at=fn(gn)?"_blank":f),kt(gn)&&(h=h||"http://localhost",Wt.scrollbars="yes");const Nn=Object.entries(Wt).reduce((Hi,[Yo,rl])=>`${Hi}${Yo}=${rl},`,"");if(function ve(m=(0,G.z$)()){var h;return Ye(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(gn)&&"_self"!==at)return function Fp(m,h){const f=document.createElement("a");f.href=m,f.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(w)}(h||"",at),new Wc(null);const Bn=window.open(h||"",at,Nn);le(Bn,m,"popup-blocked");try{Bn.focus()}catch{}return new Wc(Bn)}(h,at,ii())})()}_openRedirect(h,f,w,U){var K=this;return(0,c.Z)(function*(){return yield K._originValidation(h),function An(m){vi().location.href=m}(yield qc(h,f,w,me(),U)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:U,promise:K}=this.eventManagers[f];return U?Promise.resolve(U):(se(K,"If manager is not set, promise should be"),K)}const w=this.initAndGetManager(h);return this.eventManagers[f]={promise:w},w.catch(()=>{delete this.eventManagers[f]}),w}initAndGetManager(h){var f=this;return(0,c.Z)(function*(){const w=yield function Kd(m){return dc.apply(this,arguments)}(h),U=new _n(h);return w.register("authEvent",K=>(le(K?.authEvent,h,"invalid-auth-event"),{status:U.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:U},f.iframes[h._key()]=w,U})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(xi,{type:xi},U=>{var K;const Ve=null===(K=U?.[0])||void 0===K?void 0:K[xi];void 0!==Ve&&f(!!Ve),$e(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function _o(m){return Eo.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return bt()||yt()||Ye()}}),this.cordovaResolver=lr(class Yc{constructor(){this._redirectPersistence=Ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z,this._overrideRedirectResult=Ou}_initialize(h){var f=this;return(0,c.Z)(function*(){const w=h._key();let U=f.eventManagers.get(w);return U||(U=new yf(h),f.eventManagers.set(w,U),f.attachCallbackListeners(h,U)),U})()}_openPopup(h){$e(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,w,U){var K=this;return(0,c.Z)(function*(){!function Yi(m){var h,f,w,U,K,Ve,at,Wt,gn,Nn;const Bn=uu();le("function"==typeof(null===(h=Bn?.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(f=Bn?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(K=null===(U=null===(w=Bn?.cordova)||void 0===w?void 0:w.plugins)||void 0===U?void 0:U.browsertab)||void 0===K?void 0:K.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Wt=null===(at=null===(Ve=Bn?.cordova)||void 0===Ve?void 0:Ve.plugins)||void 0===at?void 0:at.browsertab)||void 0===Wt?void 0:Wt.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Nn=null===(gn=Bn?.cordova)||void 0===gn?void 0:gn.InAppBrowser)||void 0===Nn?void 0:Nn.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ve=yield K._initialize(h);yield Ve.initialized(),Ve.resetRedirect(),function Oo(){zo.clear()}(),yield K._originValidation(h);const at=function pc(m,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:mc(),postBody:null,tenantId:m.tenantId,error:st(m,"no-auth-event")}}(h,w,U);yield function vf(m,h){return as()._set(Lu(m),h)}(h,at);const Wt=yield function gf(m,h,f){return Xd.apply(this,arguments)}(h,at,f),gn=yield function Qd(m){const{cordova:h}=uu();return new Promise(f=>{h.plugins.browsertab.isAvailable(w=>{let U=null;w?h.plugins.browsertab.openUrl(m):U=h.InAppBrowser.open(m,function we(m=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(U)})})}(Wt);return function Oa(m,h,f){return Fu.apply(this,arguments)}(h,Ve,gn)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function mf(m){return fc.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:w,handleOpenURL:U,BuildInfo:K}=uu(),Ve=setTimeout((0,c.Z)(function*(){yield Zl(h),f.onEvent(Ql())}),500),at=function(){var Nn=(0,c.Z)(function*(Bn){clearTimeout(Ve);const Hi=yield Zl(h);let Yo=null;Hi&&Bn?.url&&(Yo=function _f(m,h){var f,w;const U=function Bu(m){const h=ka(m),f=h.link?decodeURIComponent(h.link):void 0,w=ka(f).link,U=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ka(U).link||U||w||f||m}(h);if(U.includes("/__/auth/callback")){const K=ka(U),Ve=K.firebaseError?function Xl(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(K.firebaseError)):null,at=null===(w=null===(f=Ve?.code)||void 0===f?void 0:f.split("auth/"))||void 0===w?void 0:w[1],Wt=at?st(at):null;return Wt?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Wt,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:U,postBody:null}}return null}(Hi,Bn.url)),f.onEvent(Yo||Ql())});return function(Hi){return Nn.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,at);const Wt=U,gn=`${K.packageName.toLowerCase()}://`;uu().handleOpenURL=function(){var Nn=(0,c.Z)(function*(Bn){if(Bn.toLowerCase().startsWith(gn)&&at({url:Bn}),"function"==typeof Wt)try{Wt(Bn)}catch(Hi){console.error(Hi)}});return function(Bn){return Nn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ys,this._completeRedirectFn=z,this._overrideRedirectResult=Ou}_initialize(h){var f=this;return(0,c.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,w,U){var K=this;return(0,c.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openPopup(h,f,w,U)})()}_openRedirect(h,f,w,U){var K=this;return(0,c.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openRedirect(h,f,w,U)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return yc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return If(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,c.Z)(function*(){if(h.underlyingResolver)return;const f=yield function Rs(){return lu.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function ih(m){return m.unwrap()}function Jc(m){return ma(m)}function ma(m){const{_tokenResponse:h}=m instanceof G.ZR?m.customData:m;if(!h)return null;if(!(m instanceof G.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return xu.credentialFromResult(m);const f=h.providerId;if(!f||"password"===f)return null;let w;switch(f){case"google.com":w=js;break;case"facebook.com":w=Zr;break;case"github.com":w=Hs;break;case"twitter.com":w=ae;break;default:const{oauthIdToken:U,oauthAccessToken:K,oauthTokenSecret:Ve,pendingToken:at,nonce:Wt}=h;return K||Ve||U||at?at?f.startsWith("saml.")?k._create(f,at):Ti._fromParams({providerId:f,signInMethod:f,pendingToken:at,idToken:U,accessToken:K}):new Ui(f).credential({idToken:U,accessToken:K,rawNonce:Wt}):null}return m instanceof G.ZR?w.credentialFromError(m):w.credentialFromResult(m)}function Gr(m,h){return h.catch(f=>{throw f instanceof G.ZR&&function vc(m,h){var f;const w=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new sh(m,function sa(m,h){var f;const w=(0,G.m9)(m),U=h;return le(h.customData.operationType,w,"argument-error"),le(null===(f=U.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,w,"argument-error"),ks._fromError(w,U)}(m,h));else if(w){const U=ma(h),K=h;U&&(K.credential=U,K.tenantId=w.tenantId||void 0,K.email=w.email||void 0,K.phoneNumber=w.phoneNumber||void 0)}}(m,f),f}).then(f=>{const U=f.user;return{operationType:f.operationType,credential:Jc(f),additionalUserInfo:ro(f),user:hu.getOrCreate(U)}})}function el(m,h){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(m,h){const f=yield h;return{verificationId:f.verificationId,confirm:w=>Gr(m,f.confirm(w))}})).apply(this,arguments)}class sh{constructor(h,f){this.resolver=f,this.auth=function bf(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Gr(ih(this.auth),this.resolver.resolveSignIn(h))}}class hu{constructor(h){this._delegate=h,this.multiFactor=function oa(m){const h=(0,G.m9)(m);return Ja.has(h)||Ja.set(h,fi._fromUser(h)),Ja.get(h)}(h)}static getOrCreate(h){return hu.USER_MAP.has(h)||hu.USER_MAP.set(h,new hu(h)),hu.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,c.Z)(function*(){return Gr(f.auth,N(f._delegate,h))})()}linkWithPhoneNumber(h,f){var w=this;return(0,c.Z)(function*(){return el(w.auth,function qi(m,h,f){return xa.apply(this,arguments)}(w._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,c.Z)(function*(){return Gr(f.auth,function jc(m,h,f){return Ri.apply(this,arguments)}(f._delegate,h,wo))})()}linkWithRedirect(h){var f=this;return(0,c.Z)(function*(){return yield Fa(Cr(f.auth)),function la(m,h,f){return function ji(m,h,f){return Gc.apply(this,arguments)}(m,h,f)}(f._delegate,h,wo)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,c.Z)(function*(){return Gr(f.auth,S(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return el(this.auth,function Ma(m,h,f){return ao.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return Gr(this.auth,function Po(m,h,f){return Go.apply(this,arguments)}(this._delegate,h,wo))}reauthenticateWithRedirect(h){var f=this;return(0,c.Z)(function*(){return yield Fa(Cr(f.auth)),function jl(m,h,f){return function zd(m,h,f){return cc.apply(this,arguments)}(m,h,f)}(f._delegate,h,wo)})()}sendEmailVerification(h){return function ci(m,h){return Ya.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,c.Z)(function*(){return yield function ui(m,h){return ri.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function So(m,h){return Ia((0,G.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function es(m,h){return Ia((0,G.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Gd(m,h){return sc.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Du(m,h){return mo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function bu(m,h,f){return qs.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hu.USER_MAP=new WeakMap;const Ts=le;let td=(()=>{class m{constructor(f,w){if(this.app=f,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=f.options;Ts(U,"invalid-api-key",{appName:f.name}),Ts(U,"invalid-api-key",{appName:f.name});const K=typeof window<"u"?wo:void 0;this._delegate=w.initialize({options:{persistence:_c(U,f.name),popupRedirectResolver:K}}),this._delegate._updateErrorMap(et),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,w){!function tt(m,h,f){const w=Cr(m);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const U=!!f?.disableWarnings,K=ft(h),{host:Ve,port:at}=function pe(m){const h=ft(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!f)return{host:"",port:null};const w=f[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(w);if(U){const K=U[1];return{host:K,port:Se(w.substr(K.length+1))}}{const[K,Ve]=w.split(":");return{host:K,port:Se(Ve)}}}(h);w.config.emulator={url:`${K}//${Ve}${null===at?"":`:${at}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ve,port:at,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function ht(){function m(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,w)}applyActionCode(f){return function Ju(m,h){return Ea.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Jo(this._delegate,f)}confirmPasswordReset(f,w){return function Iu(m,h,f){return As.apply(this,arguments)}(this._delegate,f,w)}createUserWithEmailAndPassword(f,w){var U=this;return(0,c.Z)(function*(){return Gr(U._delegate,function Bo(m,h,f){return go.apply(this,arguments)}(U._delegate,f,w))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Ji(m,h){return Ws.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Ka(m,h){return"EMAIL_SIGNIN"===ni.parseLink(h)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,c.Z)(function*(){Ts(Jl(),f._delegate,"operation-not-supported-in-this-environment");const w=yield function T(m,h){return R.apply(this,arguments)}(f._delegate,wo);return w?Gr(f._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function jp(m,h){Cr(m)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,w,U){const{next:K,error:Ve,complete:at}=nl(f,w,U);return this._delegate.onAuthStateChanged(K,Ve,at)}onIdTokenChanged(f,w,U){const{next:K,error:Ve,complete:at}=nl(f,w,U);return this._delegate.onIdTokenChanged(K,Ve,at)}sendSignInLinkToEmail(f,w){return function to(m,h,f){return To.apply(this,arguments)}(this._delegate,f,w)}sendPasswordResetEmail(f,w){return function ys(m,h,f){return ss.apply(this,arguments)}(this._delegate,f,w||void 0)}setPersistence(f){var w=this;return(0,c.Z)(function*(){let U;switch(function wf(m,h){Qc(Object.values($s).includes(h),m,"invalid-persistence-type"),(0,G.b$)()?Qc(h!==$s.SESSION,m,"unsupported-persistence-type"):(0,G.UG)()?Qc(h===$s.NONE,m,"unsupported-persistence-type"):wr()?Qc(h===$s.NONE||h===$s.LOCAL&&(0,G.hl)(),m,"unsupported-persistence-type"):Qc(h===$s.NONE||Vs(),m,"unsupported-persistence-type")}(w._delegate,f),f){case $s.SESSION:U=Ys;break;case $s.LOCAL:U=(yield lr($n)._isAvailable())?$n:Fs;break;case $s.NONE:U=Or;break;default:return $e("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Gr(this._delegate,function gr(m){return Hr.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Gr(this._delegate,er(this._delegate,f))}signInWithCustomToken(f){return Gr(this._delegate,function Rr(m,h){return zi.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,w){return Gr(this._delegate,function qa(m,h,f){return er((0,G.m9)(m),Ur.credential(h,f))}(this._delegate,f,w))}signInWithEmailLink(f,w){return Gr(this._delegate,function ta(m,h,f){return no.apply(this,arguments)}(this._delegate,f,w))}signInWithPhoneNumber(f,w){return el(this._delegate,function vt(m,h,f){return oo.apply(this,arguments)}(this._delegate,f,w))}signInWithPopup(f){var w=this;return(0,c.Z)(function*(){return Ts(Jl(),w._delegate,"operation-not-supported-in-this-environment"),Gr(w._delegate,function Ro(m,h,f){return Ru.apply(this,arguments)}(w._delegate,f,wo))})()}signInWithRedirect(f){var w=this;return(0,c.Z)(function*(){return Ts(Jl(),w._delegate,"operation-not-supported-in-this-environment"),yield Fa(w._delegate),function ca(m,h,f){return function su(m,h,f){return uo.apply(this,arguments)}(m,h,f)}(w._delegate,f,wo)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function ea(m,h){return po.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=$s,m})();function nl(m,h,f){let w=m;"function"!=typeof m&&({next:w,error:h,complete:f}=m);const U=w;return{next:Ve=>U(Ve&&hu.getOrCreate(Ve)),error:h,complete:f}}function _c(m,h){const f=function rh(m,h){const f=du();if(!f)return[];const w=Oe(nh,m,h);switch(f.getItem(w)){case $s.NONE:return[Or];case $s.LOCAL:return[$n,Ys];case $s.SESSION:return[Ys];default:return[]}}(m,h);if(typeof self<"u"&&!f.includes($n)&&f.push($n),typeof window<"u")for(const w of[Fs,Ys])f.includes(w)||f.push(w);return f.includes(Or)||f.push(Or),f}class No{constructor(){this.providerId="phone",this._delegate=new xu(ih(F.Z.auth()))}static credential(h,f){return xu.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}No.PHONE_SIGN_IN_METHOD=xu.PHONE_SIGN_IN_METHOD,No.PROVIDER_ID=xu.PROVIDER_ID;const Df=le;class Ec{constructor(h,f,w=F.Z.app()){var U;Df(null===(U=w.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new pi(h,f,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Vu(m){m.INTERNAL.registerComponent(new de.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),w=h.getProvider("auth");return new td(f,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ur,FacebookAuthProvider:Zr,GithubAuthProvider:Hs,GoogleAuthProvider:js,OAuthProvider:Ui,SAMLAuthProvider:B,PhoneAuthProvider:No,PhoneMultiFactorGenerator:ff,RecaptchaVerifier:Ec,TwitterAuthProvider:ae,Auth:td,AuthCredential:At,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.4.2")}(F.Z)},4719:(Jt,lt,O)=>{"use strict";O.d(lt,{CE:()=>Ti,qu:()=>Ht,u:()=>Xi,sg:()=>ws,x0:()=>gs,u5:()=>v,JU:()=>oe,a5:()=>tr,JJ:()=>un,JL:()=>or,UX:()=>V,kI:()=>ct,_Y:()=>gi});var c=O(5062),F=O(6895),G=O(2916),Ae=O(6688),Ee=O(4850),Y=O(7830),de=O(5254);function fe(N,M){return new G.y(S=>{const q=N.length;if(0===q)return void S.complete();const _t=new Array(q);let sn=0,Rr=0;for(let zi=0;zi<q;zi++){const Qi=(0,de.D)(N[zi]);let Jr=!1;S.add(Qi.subscribe({next:wi=>{Jr||(Jr=!0,Rr++),_t[zi]=wi},error:wi=>S.error(wi),complete:()=>{sn++,(sn===q||!Jr)&&(Rr===q&&S.next(M?M.reduce((wi,Ss,ys)=>(wi[Ss]=_t[ys],wi),{}):_t),S.complete())}}))}})}let re=(()=>{class N{constructor(S,q){this._renderer=S,this._elementRef=q,this.onChange=_t=>{},this.onTouched=()=>{}}setProperty(S,q){this._renderer.setProperty(this._elementRef.nativeElement,S,q)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return N.\u0275fac=function(S){return new(S||N)(c.Y36(c.Qsj),c.Y36(c.SBq))},N.\u0275dir=c.lG2({type:N}),N})(),Q=(()=>{class N extends re{}return N.\u0275fac=function(){let M;return function(q){return(M||(M=c.n5z(N)))(q||N)}}(),N.\u0275dir=c.lG2({type:N,features:[c.qOj]}),N})();const oe=new c.OlP("NgValueAccessor"),et={provide:oe,useExisting:(0,c.Gpc)(()=>je),multi:!0},ye=new c.OlP("CompositionEventMode");let je=(()=>{class N extends re{constructor(S,q,_t){super(S,q),this._compositionMode=_t,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function he(){const N=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return N.\u0275fac=function(S){return new(S||N)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ye,8))},N.\u0275dir=c.lG2({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,q){1&S&&c.NdJ("input",function(sn){return q._handleInput(sn.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(sn){return q._compositionEnd(sn.target.value)})},features:[c._Bn([et]),c.qOj]}),N})();function J(N){return null==N||("string"==typeof N||Array.isArray(N))&&0===N.length}function nt(N){return null!=N&&"number"==typeof N.length}const $e=new c.OlP("NgValidators"),st=new c.OlP("NgAsyncValidators"),Xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ct{static min(M){return function It(N){return M=>{if(J(M.value)||J(N))return null;const S=parseFloat(M.value);return!isNaN(S)&&S<N?{min:{min:N,actual:M.value}}:null}}(M)}static max(M){return function le(N){return M=>{if(J(M.value)||J(N))return null;const S=parseFloat(M.value);return!isNaN(S)&&S>N?{max:{max:N,actual:M.value}}:null}}(M)}static required(M){return function Ce(N){return J(N.value)?{required:!0}:null}(M)}static requiredTrue(M){return function se(N){return!0===N.value?null:{required:!0}}(M)}static email(M){return function me(N){return J(N.value)||Xe.test(N.value)?null:{email:!0}}(M)}static minLength(M){return function W(N){return M=>J(M.value)||!nt(M.value)?null:M.value.length<N?{minlength:{requiredLength:N,actualLength:M.value.length}}:null}(M)}static maxLength(M){return function ce(N){return M=>nt(M.value)&&M.value.length>N?{maxlength:{requiredLength:N,actualLength:M.value.length}}:null}(M)}static pattern(M){return function Ne(N){if(!N)return dt;let M,S;return"string"==typeof N?(S="","^"!==N.charAt(0)&&(S+="^"),S+=N,"$"!==N.charAt(N.length-1)&&(S+="$"),M=new RegExp(S)):(S=N.toString(),M=N),q=>{if(J(q.value))return null;const _t=q.value;return M.test(_t)?null:{pattern:{requiredPattern:S,actualValue:_t}}}}(M)}static nullValidator(M){return null}static compose(M){return ze(M)}static composeAsync(M){return Tt(M)}}function dt(N){return null}function Ue(N){return null!=N}function ut(N){return(0,c.QGY)(N)?(0,de.D)(N):N}function Re(N){let M={};return N.forEach(S=>{M=null!=S?{...M,...S}:M}),0===Object.keys(M).length?null:M}function Pe(N,M){return M.map(S=>S(N))}function He(N){return N.map(M=>function ke(N){return!N.validate}(M)?M:S=>M.validate(S))}function ze(N){if(!N)return null;const M=N.filter(Ue);return 0==M.length?null:function(S){return Re(Pe(S,M))}}function Et(N){return null!=N?ze(He(N)):null}function Tt(N){if(!N)return null;const M=N.filter(Ue);return 0==M.length?null:function(S){return function Me(...N){if(1===N.length){const M=N[0];if((0,Ae.k)(M))return fe(M,null);if((0,Y.K)(M)&&Object.getPrototypeOf(M)===Object.prototype){const S=Object.keys(M);return fe(S.map(q=>M[q]),S)}}if("function"==typeof N[N.length-1]){const M=N.pop();return fe(N=1===N.length&&(0,Ae.k)(N[0])?N[0]:N,null).pipe((0,Ee.U)(S=>M(...S)))}return fe(N,null)}(Pe(S,M).map(ut)).pipe((0,Ee.U)(Re))}}function en(N){return null!=N?Tt(He(N)):null}function hn(N,M){return null===N?[M]:Array.isArray(N)?[...N,M]:[N,M]}function qt(N){return N._rawValidators}function Gn(N){return N._rawAsyncValidators}function Sn(N){return N?Array.isArray(N)?N:[N]:[]}function Ln(N,M){return Array.isArray(N)?N.includes(M):N===M}function Lr(N,M){const S=Sn(M);return Sn(N).forEach(_t=>{Ln(S,_t)||S.push(_t)}),S}function Rn(N,M){return Sn(M).filter(S=>!Ln(N,S))}class mr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=en(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,S){return!!this.control&&this.control.hasError(M,S)}getError(M,S){return this.control?this.control.getError(M,S):null}}class Rt extends mr{get formDirective(){return null}get path(){return null}}class tr extends mr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wn{constructor(M){this._cd=M}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let un=(()=>{class N extends Wn{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(c.Y36(tr,2))},N.\u0275dir=c.lG2({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,q){2&S&&c.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[c.qOj]}),N})(),or=(()=>{class N extends Wn{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(c.Y36(Rt,10))},N.\u0275dir=c.lG2({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,q){2&S&&c.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[c.qOj]}),N})();const Yn="VALID",Br="INVALID",lr="PENDING",br="DISABLED";function Or(N){return(kt(N)?N.validators:N)||null}function Oe(N){return Array.isArray(N)?Et(N):N||null}function be(N,M){return(kt(M)?M.asyncValidators:N)||null}function qe(N){return Array.isArray(N)?en(N):N||null}function kt(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}function yt(N,M,S){const q=N.controls;if(!(M?Object.keys(q):q).length)throw new c.vHH(1e3,"");if(!q[S])throw new c.vHH(1001,"")}function fn(N,M,S){N._forEachChild((q,_t)=>{if(void 0===S[_t])throw new c.vHH(1002,"")})}class Hn{constructor(M,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=M,this._rawAsyncValidators=S,this._composedValidatorFn=Oe(this._rawValidators),this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===Yn}get invalid(){return this.status===Br}get pending(){return this.status==lr}get disabled(){return this.status===br}get enabled(){return this.status!==br}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._rawValidators=M,this._composedValidatorFn=Oe(M)}setAsyncValidators(M){this._rawAsyncValidators=M,this._composedAsyncValidatorFn=qe(M)}addValidators(M){this.setValidators(Lr(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Lr(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Rn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Rn(M,this._rawAsyncValidators))}hasValidator(M){return Ln(this._rawValidators,M)}hasAsyncValidator(M){return Ln(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=lr,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const S=this._parentMarkedDirty(M.onlySelf);this.status=br,this.errors=null,this._forEachChild(q=>{q.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:S}),this._onDisabledChange.forEach(q=>q(!0))}enable(M={}){const S=this._parentMarkedDirty(M.onlySelf);this.status=Yn,this._forEachChild(q=>{q.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:S}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yn||this.status===lr)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?br:Yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=lr,this._hasOwnPendingAsyncValidator=!0;const S=ut(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,S={}){this.errors=M,this._updateControlsErrors(!1!==S.emitEvent)}get(M){let S=M;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((q,_t)=>q&&q._find(_t),this)}getError(M,S){const q=S?this.get(S):this;return q&&q.errors?q.errors[M]:null}hasError(M,S){return!!this.getError(M,S)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?br:this.errors?Br:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lr)?lr:this._anyControlsHaveStatus(Br)?Br:Yn}_anyControlsHaveStatus(M){return this._anyControls(S=>S.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){kt(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}}class Pn extends Hn{constructor(M,S,q){super(Or(S),be(q,S)),this.controls=M,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,S){return this.controls[M]?this.controls[M]:(this.controls[M]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(M,S,q={}){this.registerControl(M,S),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(M,S={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(M,S,q={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],S&&this.registerControl(M,S),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,S={}){fn(this,0,M),Object.keys(M).forEach(q=>{yt(this,!0,q),this.controls[q].setValue(M[q],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(M,S={}){null!=M&&(Object.keys(M).forEach(q=>{const _t=this.controls[q];_t&&_t.patchValue(M[q],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(M={},S={}){this._forEachChild((q,_t)=>{q.reset(M[_t],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(M,S,q)=>(M[q]=S.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(S,q)=>!!q._syncPendingControls()||S);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(S=>{const q=this.controls[S];q&&M(q,S)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[S,q]of Object.entries(this.controls))if(this.contains(S)&&M(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,q,_t)=>((q.enabled||this.disabled)&&(S[_t]=q.value),S))}_reduceChildren(M,S){let q=M;return this._forEachChild((_t,sn)=>{q=S(q,_t,sn)}),q}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}function ve(N,M){return[...M.path,N]}function Be(N,M){ot(N,M),M.valueAccessor.writeValue(N.value),N.disabled&&M.valueAccessor.setDisabledState?.(!0),function cn(N,M){M.valueAccessor.registerOnChange(S=>{N._pendingValue=S,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&Xt(N,M)})}(N,M),function Jn(N,M){const S=(q,_t)=>{M.valueAccessor.writeValue(q),_t&&M.viewToModelUpdate(q)};N.registerOnChange(S),M._registerOnDestroy(()=>{N._unregisterOnChange(S)})}(N,M),function dn(N,M){M.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&Xt(N,M),"submit"!==N.updateOn&&N.markAsTouched()})}(N,M),function gt(N,M){if(M.valueAccessor.setDisabledState){const S=q=>{M.valueAccessor.setDisabledState(q)};N.registerOnDisabledChange(S),M._registerOnDestroy(()=>{N._unregisterOnDisabledChange(S)})}}(N,M)}function bt(N,M,S=!0){const q=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(q),M.valueAccessor.registerOnTouched(q)),xt(N,M),N&&(M._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function on(N,M){N.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(M)})}function ot(N,M){const S=qt(N);null!==M.validator?N.setValidators(hn(S,M.validator)):"function"==typeof S&&N.setValidators([S]);const q=Gn(N);null!==M.asyncValidator?N.setAsyncValidators(hn(q,M.asyncValidator)):"function"==typeof q&&N.setAsyncValidators([q]);const _t=()=>N.updateValueAndValidity();on(M._rawValidators,_t),on(M._rawAsyncValidators,_t)}function xt(N,M){let S=!1;if(null!==N){if(null!==M.validator){const _t=qt(N);if(Array.isArray(_t)&&_t.length>0){const sn=_t.filter(Rr=>Rr!==M.validator);sn.length!==_t.length&&(S=!0,N.setValidators(sn))}}if(null!==M.asyncValidator){const _t=Gn(N);if(Array.isArray(_t)&&_t.length>0){const sn=_t.filter(Rr=>Rr!==M.asyncValidator);sn.length!==_t.length&&(S=!0,N.setAsyncValidators(sn))}}}const q=()=>{};return on(M._rawValidators,q),on(M._rawAsyncValidators,q),S}function Xt(N,M){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function ge(N,M){const S=N.indexOf(M);S>-1&&N.splice(S,1)}function tt(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}const ft=class extends Hn{constructor(M=null,S,q){super(Or(S),be(q,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kt(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=tt(M)?M.value:M)}setValue(M,S={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(M,S={}){this.setValue(M,S)}reset(M=this.defaultValue,S={}){this._applyFormState(M),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){ge(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){ge(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){tt(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}};let ht=(()=>{class N extends Rt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ve(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return N.\u0275fac=function(){let M;return function(q){return(M||(M=c.n5z(N)))(q||N)}}(),N.\u0275dir=c.lG2({type:N,features:[c.qOj]}),N})(),gi=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=c.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})(),Ft=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=c.oAB({type:N}),N.\u0275inj=c.cJS({}),N})();const vr=new c.OlP("NgModelWithFormControlWarning"),$i={provide:Rt,useExisting:(0,c.Gpc)(()=>ws)};let ws=(()=>{class N extends Rt{constructor(S,q){super(),this.validators=S,this.asyncValidators=q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(S),this._setAsyncValidators(q)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const q=this.form.get(S.path);return Be(q,S),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),q}getControl(S){return this.form.get(S.path)}removeControl(S){bt(S.control||null,S,!1),function Vi(N,M){const S=N.indexOf(M);S>-1&&N.splice(S,1)}(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,q){this.form.get(S.path).setValue(q)}onSubmit(S){return this.submitted=!0,function pr(N,M){N._syncPendingControls(),M.forEach(S=>{const q=S.control;"submit"===q.updateOn&&q._pendingChange&&(S.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const q=S.control,_t=this.form.get(S.path);q!==_t&&(bt(q||null,S),(N=>N instanceof ft)(_t)&&(Be(_t,S),S.control=_t))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const q=this.form.get(S.path);(function vn(N,M){ot(N,M)})(q,S),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const q=this.form.get(S.path);q&&function rr(N,M){return xt(N,M)}(q,S)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ot(this.form,this),this._oldForm&&xt(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(S){return new(S||N)(c.Y36($e,10),c.Y36(st,10))},N.\u0275dir=c.lG2({type:N,selectors:[["","formGroup",""]],hostBindings:function(S,q){1&S&&c.NdJ("submit",function(sn){return q.onSubmit(sn)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([$i]),c.qOj,c.TTD]}),N})();const Ci={provide:Rt,useExisting:(0,c.Gpc)(()=>gs)};let gs=(()=>{class N extends ht{constructor(S,q,_t){super(),this._parent=S,this._setValidators(q),this._setAsyncValidators(_t)}_checkParentType(){rs(this._parent)}}return N.\u0275fac=function(S){return new(S||N)(c.Y36(Rt,13),c.Y36($e,10),c.Y36(st,10))},N.\u0275dir=c.lG2({type:N,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([Ci]),c.qOj]}),N})();const Is={provide:Rt,useExisting:(0,c.Gpc)(()=>Ti)};let Ti=(()=>{class N extends Rt{constructor(S,q,_t){super(),this._parent=S,this._setValidators(q),this._setAsyncValidators(_t)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ve(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){rs(this._parent)}}return N.\u0275fac=function(S){return new(S||N)(c.Y36(Rt,13),c.Y36($e,10),c.Y36(st,10))},N.\u0275dir=c.lG2({type:N,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([Is]),c.qOj]}),N})();function rs(N){return!(N instanceof gs||N instanceof ws||N instanceof Ti)}const mi={provide:tr,useExisting:(0,c.Gpc)(()=>Xi)};let Xi=(()=>{class N extends tr{constructor(S,q,_t,sn,Rr){super(),this._ngModelWarningConfig=Rr,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(q),this._setAsyncValidators(_t),this.valueAccessor=function ti(N,M){if(!M)return null;let S,q,_t;return Array.isArray(M),M.forEach(sn=>{sn.constructor===je?S=sn:function bi(N){return Object.getPrototypeOf(N.constructor)===Q}(sn)?q=sn:_t=sn}),_t||q||S||null}(0,sn)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),function Ei(N,M){if(!N.hasOwnProperty("model"))return!1;const S=N.model;return!!S.isFirstChange()||!Object.is(M,S.currentValue)}(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return ve(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(S){return new(S||N)(c.Y36(Rt,13),c.Y36($e,10),c.Y36(st,10),c.Y36(oe,10),c.Y36(vr,8))},N.\u0275dir=c.lG2({type:N,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([mi]),c.qOj,c.TTD]}),N})(),ri=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=c.oAB({type:N}),N.\u0275inj=c.cJS({imports:[Ft]}),N})(),v=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=c.oAB({type:N}),N.\u0275inj=c.cJS({imports:[ri]}),N})(),V=(()=>{class N{static withConfig(S){return{ngModule:N,providers:[{provide:vr,useValue:S.warnOnNgModelWithFormControl}]}}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=c.oAB({type:N}),N.\u0275inj=c.cJS({imports:[ri]}),N})();class y extends Hn{constructor(M,S,q){super(Or(S),be(q,S)),this.controls=M,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[this._adjustIndex(M)]}push(M,S={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(M,S,q={}){this.controls.splice(M,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(M,S={}){let q=this._adjustIndex(M);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(M,S,q={}){let _t=this._adjustIndex(M);_t<0&&(_t=0),this.controls[_t]&&this.controls[_t]._registerOnCollectionChange(()=>{}),this.controls.splice(_t,1),S&&(this.controls.splice(_t,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,S={}){fn(this,0,M),M.forEach((q,_t)=>{yt(this,!1,_t),this.at(_t).setValue(q,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(M,S={}){null!=M&&(M.forEach((q,_t)=>{this.at(_t)&&this.at(_t).patchValue(q,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(M=[],S={}){this._forEachChild((q,_t)=>{q.reset(M[_t],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(M=>M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_adjustIndex(M){return M<0?M+this.length:M}_syncPendingControls(){let M=this.controls.reduce((S,q)=>!!q._syncPendingControls()||S,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){this.controls.forEach((S,q)=>{M(S,q)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(S=>S.enabled&&M(S))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}_find(M){return this.at(M)??null}}function xe(N){return!!N&&(void 0!==N.asyncValidators||void 0!==N.validators||void 0!==N.updateOn)}let Ht=(()=>{class N{constructor(){this.useNonNullable=!1}get nonNullable(){const S=new N;return S.useNonNullable=!0,S}group(S,q=null){const _t=this._reduceControls(S);let zi,sn=null,Rr=null;return null!==q&&(xe(q)?(sn=null!=q.validators?q.validators:null,Rr=null!=q.asyncValidators?q.asyncValidators:null,zi=null!=q.updateOn?q.updateOn:void 0):(sn=null!=q.validator?q.validator:null,Rr=null!=q.asyncValidator?q.asyncValidator:null)),new Pn(_t,{asyncValidators:Rr,updateOn:zi,validators:sn})}control(S,q,_t){let sn={};return this.useNonNullable?(xe(q)?sn=q:(sn.validators=q,sn.asyncValidators=_t),new ft(S,{...sn,nonNullable:!0})):new ft(S,q,_t)}array(S,q,_t){const sn=S.map(Rr=>this._createControl(Rr));return new y(sn,q,_t)}_reduceControls(S){const q={};return Object.keys(S).forEach(_t=>{q[_t]=this._createControl(S[_t])}),q}_createControl(S){return S instanceof ft||S instanceof Hn?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:V}),N})()},1481:(Jt,lt,O)=>{"use strict";O.d(lt,{Dx:()=>We,b2:()=>sr,q6:()=>Rt});var c=O(6895),F=O(5062);class G extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends G{static makeCurrent(){(0,c.HT)(new Ae)}onAndCancel(we,ve,Be){return we.addEventListener(ve,Be,!1),()=>{we.removeEventListener(ve,Be,!1)}}dispatchEvent(we,ve){we.dispatchEvent(ve)}remove(we){we.parentNode&&we.parentNode.removeChild(we)}createElement(we,ve){return(ve=ve||this.getDefaultDocument()).createElement(we)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(we){return we.nodeType===Node.ELEMENT_NODE}isShadowRoot(we){return we instanceof DocumentFragment}getGlobalEventTarget(we,ve){return"window"===ve?window:"document"===ve?we:"body"===ve?we.body:null}getBaseHref(we){const ve=function Y(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==ve?null:function Me(Ye){de=de||document.createElement("a"),de.setAttribute("href",Ye);const we=de.pathname;return"/"===we.charAt(0)?we:`/${we}`}(ve)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(we){return(0,c.Mx)(document.cookie,we)}}let de,Ee=null;const fe=new F.OlP("TRANSITION_ID"),Q=[{provide:F.ip1,useFactory:function re(Ye,we,ve){return()=>{ve.get(F.CZH).donePromise.then(()=>{const Be=(0,c.q)(),bt=we.querySelectorAll(`style[ng-transition="${Ye}"]`);for(let on=0;on<bt.length;on++)Be.remove(bt[on])})}},deps:[fe,c.K0,F.zs3],multi:!0}];let Z=(()=>{class Ye{build(){return new XMLHttpRequest}}return Ye.\u0275fac=function(ve){return new(ve||Ye)},Ye.\u0275prov=F.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Te=new F.OlP("EventManagerPlugins");let et=(()=>{class Ye{constructor(ve,Be){this._zone=Be,this._eventNameToPlugin=new Map,ve.forEach(bt=>bt.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,Be,bt){return this._findPluginFor(Be).addEventListener(ve,Be,bt)}addGlobalEventListener(ve,Be,bt){return this._findPluginFor(Be).addGlobalEventListener(ve,Be,bt)}getZone(){return this._zone}_findPluginFor(ve){const Be=this._eventNameToPlugin.get(ve);if(Be)return Be;const bt=this._plugins;for(let on=0;on<bt.length;on++){const gt=bt[on];if(gt.supports(ve))return this._eventNameToPlugin.set(ve,gt),gt}throw new Error(`No event manager plugin found for event ${ve}`)}}return Ye.\u0275fac=function(ve){return new(ve||Ye)(F.LFG(Te),F.LFG(F.R0b))},Ye.\u0275prov=F.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class he{constructor(we){this._doc=we}addGlobalEventListener(we,ve,Be){const bt=(0,c.q)().getGlobalEventTarget(this._doc,we);if(!bt)throw new Error(`Unsupported event target ${bt} for event ${ve}`);return this.addEventListener(bt,ve,Be)}}let ye=(()=>{class Ye{constructor(){this._stylesSet=new Set}addStyles(ve){const Be=new Set;ve.forEach(bt=>{this._stylesSet.has(bt)||(this._stylesSet.add(bt),Be.add(bt))}),this.onStylesAdded(Be)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return Ye.\u0275fac=function(ve){return new(ve||Ye)},Ye.\u0275prov=F.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),je=(()=>{class Ye extends ye{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,Be,bt){ve.forEach(on=>{const gt=this._doc.createElement("style");gt.textContent=on,bt.push(Be.appendChild(gt))})}addHost(ve){const Be=[];this._addStylesToHost(this._stylesSet,ve,Be),this._hostNodes.set(ve,Be)}removeHost(ve){const Be=this._hostNodes.get(ve);Be&&Be.forEach(Ze),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((Be,bt)=>{this._addStylesToHost(ve,bt,Be)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(Ze))}}return Ye.\u0275fac=function(ve){return new(ve||Ye)(F.LFG(c.K0))},Ye.\u0275prov=F.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function Ze(Ye){(0,c.q)().remove(Ye)}const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nt=/%COMP%/g;function Ce(Ye,we,ve){for(let Be=0;Be<we.length;Be++){let bt=we[Be];Array.isArray(bt)?Ce(Ye,bt,ve):(bt=bt.replace(nt,Ye),ve.push(bt))}return ve}function se(Ye){return we=>{if("__ngUnwrap__"===we)return Ye;!1===Ye(we)&&(we.preventDefault(),we.returnValue=!1)}}let W=(()=>{class Ye{constructor(ve,Be,bt){this.eventManager=ve,this.sharedStylesHost=Be,this.appId=bt,this.rendererByCompId=new Map,this.defaultRenderer=new ce(ve)}createRenderer(ve,Be){if(!ve||!Be)return this.defaultRenderer;switch(Be.encapsulation){case F.ifc.Emulated:{let bt=this.rendererByCompId.get(Be.id);return bt||(bt=new ut(this.eventManager,this.sharedStylesHost,Be,this.appId),this.rendererByCompId.set(Be.id,bt)),bt.applyToHost(ve),bt}case 1:case F.ifc.ShadowDom:return new Re(this.eventManager,this.sharedStylesHost,ve,Be);default:if(!this.rendererByCompId.has(Be.id)){const bt=Ce(Be.id,Be.styles,[]);this.sharedStylesHost.addStyles(bt),this.rendererByCompId.set(Be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ye.\u0275fac=function(ve){return new(ve||Ye)(F.LFG(et),F.LFG(je),F.LFG(F.AFp))},Ye.\u0275prov=F.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class ce{constructor(we){this.eventManager=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(we,ve){return ve?document.createElementNS(J[ve]||ve,we):document.createElement(we)}createComment(we){return document.createComment(we)}createText(we){return document.createTextNode(we)}appendChild(we,ve){(Ue(we)?we.content:we).appendChild(ve)}insertBefore(we,ve,Be){we&&(Ue(we)?we.content:we).insertBefore(ve,Be)}removeChild(we,ve){we&&we.removeChild(ve)}selectRootElement(we,ve){let Be="string"==typeof we?document.querySelector(we):we;if(!Be)throw new Error(`The selector "${we}" did not match any elements`);return ve||(Be.textContent=""),Be}parentNode(we){return we.parentNode}nextSibling(we){return we.nextSibling}setAttribute(we,ve,Be,bt){if(bt){ve=bt+":"+ve;const on=J[bt];on?we.setAttributeNS(on,ve,Be):we.setAttribute(ve,Be)}else we.setAttribute(ve,Be)}removeAttribute(we,ve,Be){if(Be){const bt=J[Be];bt?we.removeAttributeNS(bt,ve):we.removeAttribute(`${Be}:${ve}`)}else we.removeAttribute(ve)}addClass(we,ve){we.classList.add(ve)}removeClass(we,ve){we.classList.remove(ve)}setStyle(we,ve,Be,bt){bt&(F.JOm.DashCase|F.JOm.Important)?we.style.setProperty(ve,Be,bt&F.JOm.Important?"important":""):we.style[ve]=Be}removeStyle(we,ve,Be){Be&F.JOm.DashCase?we.style.removeProperty(ve):we.style[ve]=""}setProperty(we,ve,Be){we[ve]=Be}setValue(we,ve){we.nodeValue=ve}listen(we,ve,Be){return"string"==typeof we?this.eventManager.addGlobalEventListener(we,ve,se(Be)):this.eventManager.addEventListener(we,ve,se(Be))}}function Ue(Ye){return"TEMPLATE"===Ye.tagName&&void 0!==Ye.content}class ut extends ce{constructor(we,ve,Be,bt){super(we),this.component=Be;const on=Ce(bt+"-"+Be.id,Be.styles,[]);ve.addStyles(on),this.contentAttr=function It(Ye){return"_ngcontent-%COMP%".replace(nt,Ye)}(bt+"-"+Be.id),this.hostAttr=function le(Ye){return"_nghost-%COMP%".replace(nt,Ye)}(bt+"-"+Be.id)}applyToHost(we){super.setAttribute(we,this.hostAttr,"")}createElement(we,ve){const Be=super.createElement(we,ve);return super.setAttribute(Be,this.contentAttr,""),Be}}class Re extends ce{constructor(we,ve,Be,bt){super(we),this.sharedStylesHost=ve,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=Ce(bt.id,bt.styles,[]);for(let gt=0;gt<on.length;gt++){const ot=document.createElement("style");ot.textContent=on[gt],this.shadowRoot.appendChild(ot)}}nodeOrShadowRoot(we){return we===this.hostEl?this.shadowRoot:we}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(we,ve){return super.appendChild(this.nodeOrShadowRoot(we),ve)}insertBefore(we,ve,Be){return super.insertBefore(this.nodeOrShadowRoot(we),ve,Be)}removeChild(we,ve){return super.removeChild(this.nodeOrShadowRoot(we),ve)}parentNode(we){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(we)))}}let Pe=(()=>{class Ye extends he{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,Be,bt){return ve.addEventListener(Be,bt,!1),()=>this.removeEventListener(ve,Be,bt)}removeEventListener(ve,Be,bt){return ve.removeEventListener(Be,bt)}}return Ye.\u0275fac=function(ve){return new(ve||Ye)(F.LFG(c.K0))},Ye.\u0275prov=F.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const ke=["alt","control","meta","shift"],ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tt={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let en=(()=>{class Ye extends he{constructor(ve){super(ve)}supports(ve){return null!=Ye.parseEventName(ve)}addEventListener(ve,Be,bt){const on=Ye.parseEventName(Be),gt=Ye.eventCallback(on.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(ve,on.domEventName,gt))}static parseEventName(ve){const Be=ve.toLowerCase().split("."),bt=Be.shift();if(0===Be.length||"keydown"!==bt&&"keyup"!==bt)return null;const on=Ye._normalizeKey(Be.pop());let gt="";if(ke.forEach(xt=>{const cn=Be.indexOf(xt);cn>-1&&(Be.splice(cn,1),gt+=xt+".")}),gt+=on,0!=Be.length||0===on.length)return null;const ot={};return ot.domEventName=bt,ot.fullKey=gt,ot}static getEventFullKey(ve){let Be="",bt=function hn(Ye){let we=Ye.key;if(null==we){if(we=Ye.keyIdentifier,null==we)return"Unidentified";we.startsWith("U+")&&(we=String.fromCharCode(parseInt(we.substring(2),16)),3===Ye.location&&Et.hasOwnProperty(we)&&(we=Et[we]))}return ze[we]||we}(ve);return bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),ke.forEach(on=>{on!=bt&&Tt[on](ve)&&(Be+=on+".")}),Be+=bt,Be}static eventCallback(ve,Be,bt){return on=>{Ye.getEventFullKey(on)===ve&&bt.runGuarded(()=>Be(on))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return Ye.\u0275fac=function(ve){return new(ve||Ye)(F.LFG(c.K0))},Ye.\u0275prov=F.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Rt=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:c.bD},{provide:F.g9A,useValue:function Ln(){Ae.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function Rn(){return(0,F.RDi)(document),document},deps:[]}]),tr=new F.OlP(""),Wn=[{provide:F.rWj,useClass:class oe{addToWindow(we){F.dqk.getAngularTestability=(Be,bt=!0)=>{const on=we.findTestabilityInTree(Be,bt);if(null==on)throw new Error("Could not find testability for element.");return on},F.dqk.getAllAngularTestabilities=()=>we.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>we.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Be=>{const bt=F.dqk.getAllAngularTestabilities();let on=bt.length,gt=!1;const ot=function(xt){gt=gt||xt,on--,0==on&&Be(gt)};bt.forEach(function(xt){xt.whenStable(ot)})})}findTestabilityInTree(we,ve,Be){return null==ve?null:we.getTestability(ve)??(Be?(0,c.q)().isShadowRoot(ve)?this.findTestabilityInTree(we,ve.host,!0):this.findTestabilityInTree(we,ve.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],Ir=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function Lr(){return new F.qLn},deps:[]},{provide:Te,useClass:Pe,multi:!0,deps:[c.K0,F.R0b,F.Lbi]},{provide:Te,useClass:en,multi:!0,deps:[c.K0]},{provide:W,useClass:W,deps:[et,je,F.AFp]},{provide:F.FYo,useExisting:W},{provide:ye,useExisting:je},{provide:je,useClass:je,deps:[c.K0]},{provide:et,useClass:et,deps:[Te,F.R0b]},{provide:c.JF,useClass:Z,deps:[]},[]];let sr=(()=>{class Ye{constructor(ve){}static withServerTransition(ve){return{ngModule:Ye,providers:[{provide:F.AFp,useValue:ve.appId},{provide:fe,useExisting:F.AFp},Q]}}}return Ye.\u0275fac=function(ve){return new(ve||Ye)(F.LFG(tr,12))},Ye.\u0275mod=F.oAB({type:Ye}),Ye.\u0275inj=F.cJS({providers:[...Ir,...Wn],imports:[c.ez,F.hGG]}),Ye})(),We=(()=>{class Ye{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return Ye.\u0275fac=function(ve){return new(ve||Ye)(F.LFG(c.K0))},Ye.\u0275prov=F.Yz7({token:Ye,factory:function(ve){let Be=null;return Be=ve?new ve:function Fe(){return new We((0,F.LFG)(c.K0))}(),Be},providedIn:"root"}),Ye})();typeof window<"u"&&window},4781:(Jt,lt,O)=>{"use strict";O.d(lt,{gz:()=>rt,y6:()=>di,OD:()=>or,eC:()=>bn,wm:()=>Zt,wN:()=>Qa,F0:()=>yi,rH:()=>Ns,yS:()=>Uo,Bz:()=>vo,Hx:()=>Wr});var c=O(6895),F=O(5062),G=O(2866),Ae=O(6688),Ee=O(3489);class Y extends Ee.L{notifyNext(I,E,x,$,ee){this.destination.next(E)}notifyError(I,E){this.destination.error(I)}notifyComplete(I){this.destination.complete()}}class de extends Ee.L{constructor(I,E,x){super(),this.parent=I,this.outerValue=E,this.outerIndex=x,this.index=0}_next(I){this.parent.notifyNext(this.outerValue,I,this.outerIndex,this.index++,this)}_error(I){this.parent.notifyError(I,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Me=O(9249),fe=O(2916);function re(b,I,E,x,$=new de(b,E,x)){if(!$.closed)return I instanceof fe.y?I.subscribe($):(0,Me.s)(I)($)}var Q=O(3009);const oe={};function Z(...b){let I,E;return(0,G.K)(b[b.length-1])&&(E=b.pop()),"function"==typeof b[b.length-1]&&(I=b.pop()),1===b.length&&(0,Ae.k)(b[0])&&(b=b[0]),(0,Q.n)(b,E).lift(new Te(I))}class Te{constructor(I){this.resultSelector=I}call(I,E){return E.subscribe(new et(I,this.resultSelector))}}class et extends Y{constructor(I,E){super(I),this.resultSelector=E,this.active=0,this.values=[],this.observables=[]}_next(I){this.values.push(oe),this.observables.push(I)}_complete(){const I=this.observables,E=I.length;if(0===E)this.destination.complete();else{this.active=E,this.toRespond=E;for(let x=0;x<E;x++)this.add(re(this,I[x],void 0,x))}}notifyComplete(I){0==(this.active-=1)&&this.destination.complete()}notifyNext(I,E,x){const $=this.values,Ie=this.toRespond?$[x]===oe?--this.toRespond:this.toRespond:0;$[x]=E,0===Ie&&(this.resultSelector?this._tryResultSelector($):this.destination.next($.slice()))}_tryResultSelector(I){let E;try{E=this.resultSelector.apply(this,I)}catch(x){return void this.destination.error(x)}this.destination.next(E)}}var he=O(5254),ye=O(8896);function je(b){return new fe.y(I=>{let E;try{E=b()}catch($){return void I.error($)}return(E?(0,he.D)(E):(0,ye.c)()).subscribe(I)})}var Ze=O(1086),J=O(591),nt=O(1737),$e=O(4450),st=O(1221),Xe=O(1762),ct=O(8929),It=O(1177);function le(b){return function(E){const x=new Ce(b),$=E.lift(x);return x.caught=$}}class Ce{constructor(I){this.selector=I}call(I,E){return E.subscribe(new se(I,this.selector,this.caught))}}class se extends It.Ds{constructor(I,E,x){super(I),this.selector=E,this.caught=x}error(I){if(!this.isStopped){let E;try{E=this.selector(I,this.caught)}catch(ee){return void super.error(ee)}this._unsubscribeAndRecycle();const x=new It.IY(this);this.add(x);const $=(0,It.ft)(E,x);$!==x&&this.add($)}}}var me=O(2198),W=O(4231);function ce(b){return function(E){return 0===b?(0,ye.c)():E.lift(new Ne(b))}}class Ne{constructor(I){if(this.total=I,this.total<0)throw new W.W}call(I,E){return E.subscribe(new dt(I,this.total))}}class dt extends Ee.L{constructor(I,E){super(I),this.total=E,this.ring=new Array,this.count=0}_next(I){const E=this.ring,x=this.total,$=this.count++;E.length<x?E.push(I):E[$%x]=I}_complete(){const I=this.destination;let E=this.count;if(E>0){const x=this.count>=this.total?this.total:this.count,$=this.ring;for(let ee=0;ee<x;ee++){const Ie=E++%x;I.next($[Ie])}}I.complete()}}var Ue=O(4907),ut=O(7314),Re=O(5379);class He{constructor(I){this.value=I}call(I,E){return E.subscribe(new ze(I,this.value))}}class ze extends Ee.L{constructor(I,E){super(I),this.value=E}_next(I){this.destination.next(this.value)}}var Et=O(2654);function Tt(b){return I=>I.lift(new en(b))}class en{constructor(I){this.callback=I}call(I,E){return E.subscribe(new hn(I,this.callback))}}class hn extends Ee.L{constructor(I,E){super(I),this.add(new Et.w(E))}}var qt=O(4850),Gn=O(7545),Sn=O(2986),Ln=O(1059),Lr=O(2014),Rn=O(1406),mr=O(7224),Rt=O(1709),tr=O(2868),Wn=O(4327),Ir=O(9146),sr=O(1481);class un{constructor(I,E){this.id=I,this.url=E}}class or extends un{constructor(I,E,x="imperative",$=null){super(I,E),this.type=0,this.navigationTrigger=x,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nt extends un{constructor(I,E,x){super(I,E),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fe extends un{constructor(I,E,x){super(I,E),this.reason=x,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class We extends un{constructor(I,E,x){super(I,E),this.error=x,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pt extends un{constructor(I,E,x,$){super(I,E),this.urlAfterRedirects=x,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt extends un{constructor(I,E,x,$){super(I,E),this.urlAfterRedirects=x,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jt extends un{constructor(I,E,x,$,ee){super(I,E),this.urlAfterRedirects=x,this.state=$,this.shouldActivate=ee,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qn extends un{constructor(I,E,x,$){super(I,E),this.urlAfterRedirects=x,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fr extends un{constructor(I,E,x,$){super(I,E),this.urlAfterRedirects=x,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qt{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mn{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yr{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(I,E,x){this.routerEvent=I,this.position=E,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bn="primary";class nr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const E=this.params[I];return Array.isArray(E)?E[0]:E}return null}getAll(I){if(this.has(I)){const E=this.params[I];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Yn(b){return new nr(b)}const Br="Redirecting to ",lr="ngNavigationCancelingError";function br(b){const I=Error("NavigationCancelingError: "+(b||""));return I[lr]=!0,I}function Oe(b,I,E){const x=E.path.split("/");if(x.length>b.length||"full"===E.pathMatch&&(I.hasChildren()||x.length<b.length))return null;const $={};for(let ee=0;ee<x.length;ee++){const Ie=x[ee],Qe=b[ee];if(Ie.startsWith(":"))$[Ie.substring(1)]=Qe;else if(Ie!==Qe.path)return null}return{consumed:b.slice(0,x.length),posParams:$}}function qe(b,I){const E=b?Object.keys(b):void 0,x=I?Object.keys(I):void 0;if(!E||!x||E.length!=x.length)return!1;let $;for(let ee=0;ee<E.length;ee++)if($=E[ee],!kt(b[$],I[$]))return!1;return!0}function kt(b,I){if(Array.isArray(b)&&Array.isArray(I)){if(b.length!==I.length)return!1;const E=[...b].sort(),x=[...I].sort();return E.every(($,ee)=>x[ee]===$)}return b===I}function yt(b){return Array.prototype.concat.apply([],b)}function fn(b){return b.length>0?b[b.length-1]:null}function Pn(b,I){for(const E in b)b.hasOwnProperty(E)&&I(b[E],E)}function Un(b){return(0,F.CqO)(b)?b:(0,F.QGY)(b)?(0,he.D)(Promise.resolve(b)):(0,Ze.of)(b)}const we={exact:function on(b,I,E){if(!rr(b.segments,I.segments)||!cn(b.segments,I.segments,E)||b.numberOfChildren!==I.numberOfChildren)return!1;for(const x in I.children)if(!b.children[x]||!on(b.children[x],I.children[x],E))return!1;return!0},subset:ot},ve={exact:function bt(b,I){return qe(b,I)},subset:function gt(b,I){return Object.keys(I).length<=Object.keys(b).length&&Object.keys(I).every(E=>kt(b[E],I[E]))},ignored:()=>!0};function Be(b,I,E){return we[E.paths](b.root,I.root,E.matrixParams)&&ve[E.queryParams](b.queryParams,I.queryParams)&&!("exact"===E.fragment&&b.fragment!==I.fragment)}function ot(b,I,E){return xt(b,I,I.segments,E)}function xt(b,I,E,x){if(b.segments.length>E.length){const $=b.segments.slice(0,E.length);return!(!rr($,E)||I.hasChildren()||!cn($,E,x))}if(b.segments.length===E.length){if(!rr(b.segments,E)||!cn(b.segments,E,x))return!1;for(const $ in I.children)if(!b.children[$]||!ot(b.children[$],I.children[$],x))return!1;return!0}{const $=E.slice(0,b.segments.length),ee=E.slice(b.segments.length);return!!(rr(b.segments,$)&&cn(b.segments,$,x)&&b.children[bn])&&xt(b.children[bn],I,ee,x)}}function cn(b,I,E){return I.every((x,$)=>ve[E](b[$].parameters,x.parameters))}class dn{constructor(I,E,x){this.root=I,this.queryParams=E,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return zr.serialize(this)}}class Xt{constructor(I,E){this.segments=I,this.children=E,this.parent=null,Pn(E,(x,$)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ei(this)}}class Jn{constructor(I,E){this.path=I,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Yn(this.parameters)),this._parameterMap}toString(){return X(this)}}function rr(b,I){return b.length===I.length&&b.every((E,x)=>E.path===I[x].path)}class Wr{}class ai{parse(I){const E=new Bt(I);return new dn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(I){const E=`/${bi(I.root,!0)}`,x=function tt(b){const I=Object.keys(b).map(E=>{const x=b[E];return Array.isArray(x)?x.map($=>`${ti(E)}=${ti($)}`).join("&"):`${ti(E)}=${ti(x)}`}).filter(E=>!!E);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${E}${x}${"string"==typeof I.fragment?`#${function Vi(b){return encodeURI(b)}(I.fragment)}`:""}`}}const zr=new ai;function Ei(b){return b.segments.map(I=>X(I)).join("/")}function bi(b,I){if(!b.hasChildren())return Ei(b);if(I){const E=b.children[bn]?bi(b.children[bn],!1):"",x=[];return Pn(b.children,($,ee)=>{ee!==bn&&x.push(`${ee}:${bi($,!1)}`)}),x.length>0?`${E}(${x.join("//")})`:E}{const E=function Qr(b,I){let E=[];return Pn(b.children,(x,$)=>{$===bn&&(E=E.concat(I(x,$)))}),Pn(b.children,(x,$)=>{$!==bn&&(E=E.concat(I(x,$)))}),E}(b,(x,$)=>$===bn?[bi(b.children[bn],!1)]:[`${$}:${bi(x,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[bn]?`${Ei(b)}/${E[0]}`:`${Ei(b)}/(${E.join("//")})`}}function pr(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ti(b){return pr(b).replace(/%3B/gi,";")}function Dr(b){return pr(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cr(b){return decodeURIComponent(b)}function Di(b){return Cr(b.replace(/\+/g,"%20"))}function X(b){return`${Dr(b.path)}${function ge(b){return Object.keys(b).map(I=>`;${Dr(I)}=${Dr(b[I])}`).join("")}(b.parameters)}`}const ft=/^[^\/()?;=#]+/;function pe(b){const I=b.match(ft);return I?I[0]:""}const Se=/^[^=?&#]+/,At=/^[^&#]+/;class Bt{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(I.length>0||Object.keys(E).length>0)&&(x[bn]=new Xt(I,E)),x}parseSegment(){const I=pe(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new F.vHH(4009,!1);return this.capture(I),new Jn(Cr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const E=pe(this.remaining);if(!E)return;this.capture(E);let x="";if(this.consumeOptional("=")){const $=pe(this.remaining);$&&(x=$,this.capture(x))}I[Cr(E)]=Cr(x)}parseQueryParam(I){const E=function ht(b){const I=b.match(Se);return I?I[0]:""}(this.remaining);if(!E)return;this.capture(E);let x="";if(this.consumeOptional("=")){const Ie=function Mt(b){const I=b.match(At);return I?I[0]:""}(this.remaining);Ie&&(x=Ie,this.capture(x))}const $=Di(E),ee=Di(x);if(I.hasOwnProperty($)){let Ie=I[$];Array.isArray(Ie)||(Ie=[Ie],I[$]=Ie),Ie.push(ee)}else I[$]=ee}parseParens(I){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=pe(this.remaining),$=this.remaining[x.length];if("/"!==$&&")"!==$&&";"!==$)throw new F.vHH(4010,!1);let ee;x.indexOf(":")>-1?(ee=x.slice(0,x.indexOf(":")),this.capture(ee),this.capture(":")):I&&(ee=bn);const Ie=this.parseChildren();E[ee]=1===Object.keys(Ie).length?Ie[bn]:new Xt([],Ie),this.consumeOptional("//")}return E}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new F.vHH(4011,!1)}}class Yt{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const E=this.pathFromRoot(I);return E.length>1?E[E.length-2]:null}children(I){const E=On(I,this._root);return E?E.children.map(x=>x.value):[]}firstChild(I){const E=On(I,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(I){const E=kn(I,this._root);return E.length<2?[]:E[E.length-2].children.map($=>$.value).filter($=>$!==I)}pathFromRoot(I){return kn(I,this._root).map(E=>E.value)}}function On(b,I){if(b===I.value)return I;for(const E of I.children){const x=On(b,E);if(x)return x}return null}function kn(b,I){if(b===I.value)return[I];for(const E of I.children){const x=kn(b,E);if(x.length)return x.unshift(I),x}return[]}class hr{constructor(I,E){this.value=I,this.children=E}toString(){return`TreeNode(${this.value})`}}function Sr(b){const I={};return b&&b.children.forEach(E=>I[E.value.outlet]=E),I}class Vr extends Yt{constructor(I,E){super(I),this.snapshot=E,Vn(this,I)}toString(){return this.snapshot.toString()}}function gi(b,I){const E=function fs(b,I){const Ie=new Ft([],{},{},"",{},bn,I,null,b.root,-1,{});return new Kt("",new hr(Ie,[]))}(b,I),x=new J.X([new Jn("",{})]),$=new J.X({}),ee=new J.X({}),Ie=new J.X({}),Qe=new J.X(""),Vt=new rt(x,$,Ie,Qe,ee,bn,I,E.root);return Vt.snapshot=E.root,new Vr(new hr(Vt,[]),E)}class rt{constructor(I,E,x,$,ee,Ie,Qe,Vt){this.url=I,this.params=E,this.queryParams=x,this.fragment=$,this.data=ee,this.outlet=Ie,this.component=Qe,this._futureSnapshot=Vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(I=>Yn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(I=>Yn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ke(b,I="emptyOnly"){const E=b.pathFromRoot;let x=0;if("always"!==I)for(x=E.length-1;x>=1;){const $=E[x],ee=E[x-1];if($.routeConfig&&""===$.routeConfig.path)x--;else{if(ee.component)break;x--}}return function wt(b){return b.reduce((I,E)=>({params:{...I.params,...E.params},data:{...I.data,...E.data},resolve:{...E.data,...I.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(x))}class Ft{constructor(I,E,x,$,ee,Ie,Qe,Vt,nn,xr,jn,pi){this.url=I,this.params=E,this.queryParams=x,this.fragment=$,this.data=ee,this.outlet=Ie,this.component=Qe,this.routeConfig=Vt,this._urlSegment=nn,this._lastPathIndex=xr,this._correctedLastPathIndex=pi??xr,this._resolve=jn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kt extends Yt{constructor(I,E){super(E),this.url=I,Vn(this,E)}toString(){return Ar(this._root)}}function Vn(b,I){I.value._routerState=b,I.children.forEach(E=>Vn(b,E))}function Ar(b){const I=b.children.length>0?` { ${b.children.map(Ar).join(", ")} } `:"";return`${b.value}${I}`}function Er(b){if(b.snapshot){const I=b.snapshot,E=b._futureSnapshot;b.snapshot=E,qe(I.queryParams,E.queryParams)||b.queryParams.next(E.queryParams),I.fragment!==E.fragment&&b.fragment.next(E.fragment),qe(I.params,E.params)||b.params.next(E.params),function be(b,I){if(b.length!==I.length)return!1;for(let E=0;E<b.length;++E)if(!qe(b[E],I[E]))return!1;return!0}(I.url,E.url)||b.url.next(E.url),qe(I.data,E.data)||b.data.next(E.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function vr(b,I){const E=qe(b.params,I.params)&&function vn(b,I){return rr(b,I)&&b.every((E,x)=>qe(E.parameters,I[x].parameters))}(b.url,I.url);return E&&!(!b.parent!=!I.parent)&&(!b.parent||vr(b.parent,I.parent))}function ps(b,I,E){if(E&&b.shouldReuseRoute(I.value,E.value.snapshot)){const x=E.value;x._futureSnapshot=I.value;const $=function $i(b,I,E){return I.children.map(x=>{for(const $ of E.children)if(b.shouldReuseRoute(x.value,$.value.snapshot))return ps(b,x,$);return ps(b,x)})}(b,I,E);return new hr(x,$)}{if(b.shouldAttach(I.value)){const ee=b.retrieve(I.value);if(null!==ee){const Ie=ee.route;return Ie.value._futureSnapshot=I.value,Ie.children=I.children.map(Qe=>ps(b,Qe)),Ie}}const x=function ws(b){return new rt(new J.X(b.url),new J.X(b.params),new J.X(b.queryParams),new J.X(b.fragment),new J.X(b.data),b.outlet,b.component,b)}(I.value),$=I.children.map(ee=>ps(b,ee));return new hr(x,$)}}function Is(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Ti(b){return"object"==typeof b&&null!=b&&b.outlets}function rs(b,I,E,x,$){let ee={};if(x&&Pn(x,(Qe,Vt)=>{ee[Vt]=Array.isArray(Qe)?Qe.map(nn=>`${nn}`):`${Qe}`}),b===I)return new dn(E,ee,$);const Ie=mi(b,I,E);return new dn(Ie,ee,$)}function mi(b,I,E){const x={};return Pn(b.children,($,ee)=>{x[ee]=$===I?E:mi($,I,E)}),new Xt(b.segments,x)}class Xi{constructor(I,E,x){if(this.isAbsolute=I,this.numberOfDoubleDots=E,this.commands=x,I&&x.length>0&&Is(x[0]))throw new F.vHH(4003,false);const $=x.find(Ti);if($&&$!==fn(x))throw new F.vHH(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ps{constructor(I,E,x){this.segmentGroup=I,this.processChildren=E,this.index=x}}function ms(b,I,E){if(b||(b=new Xt([],{})),0===b.segments.length&&b.hasChildren())return Yr(b,I,E);const x=function is(b,I,E){let x=0,$=I;const ee={match:!1,pathIndex:0,commandIndex:0};for(;$<b.segments.length;){if(x>=E.length)return ee;const Ie=b.segments[$],Qe=E[x];if(Ti(Qe))break;const Vt=`${Qe}`,nn=x<E.length-1?E[x+1]:null;if($>0&&void 0===Vt)break;if(Vt&&nn&&"object"==typeof nn&&void 0===nn.outlets){if(!Ur(Vt,nn,Ie))return ee;x+=2}else{if(!Ur(Vt,{},Ie))return ee;x++}$++}return{match:!0,pathIndex:$,commandIndex:x}}(b,I,E),$=E.slice(x.commandIndex);if(x.match&&x.pathIndex<b.segments.length){const ee=new Xt(b.segments.slice(0,x.pathIndex),{});return ee.children[bn]=new Xt(b.segments.slice(x.pathIndex),b.children),Yr(ee,0,$)}return x.match&&0===$.length?new Xt(b.segments,{}):x.match&&!b.hasChildren()?Js(b,I,E):x.match?Yr(b,0,$):Js(b,I,E)}function Yr(b,I,E){if(0===E.length)return new Xt(b.segments,{});{const x=function Qs(b){return Ti(b[0])?b[0].outlets:{[bn]:b}}(E),$={};return Pn(x,(ee,Ie)=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&($[Ie]=ms(b.children[Ie],I,ee))}),Pn(b.children,(ee,Ie)=>{void 0===x[Ie]&&($[Ie]=ee)}),new Xt(b.segments,$)}}function Js(b,I,E){const x=b.segments.slice(0,I);let $=0;for(;$<E.length;){const ee=E[$];if(Ti(ee)){const Vt=ni(ee.outlets);return new Xt(x,Vt)}if(0===$&&Is(E[0])){x.push(new Jn(b.segments[I].path,eo(E[0]))),$++;continue}const Ie=Ti(ee)?ee.outlets[bn]:`${ee}`,Qe=$<E.length-1?E[$+1]:null;Ie&&Qe&&Is(Qe)?(x.push(new Jn(Ie,eo(Qe))),$+=2):(x.push(new Jn(Ie,{})),$++)}return new Xt(x,{})}function ni(b){const I={};return Pn(b,(E,x)=>{"string"==typeof E&&(E=[E]),null!==E&&(I[x]=Js(new Xt([],{}),0,E))}),I}function eo(b){const I={};return Pn(b,(E,x)=>I[x]=`${E}`),I}function Ur(b,I,E){return b==E.path&&qe(I,E.parameters)}class ki{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new di,this.attachRef=null}}class di{constructor(){this.contexts=new Map}onChildOutletCreated(I,E){const x=this.getOrCreateContext(I);x.outlet=E,this.contexts.set(I,x)}onChildOutletDestroyed(I){const E=this.getContext(I);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let E=this.getContext(I);return E||(E=new ki,this.contexts.set(I,E)),E}getContext(I){return this.contexts.get(I)||null}}const Ui=!1;let Zr=(()=>{class b{constructor(E,x,$,ee,Ie){this.parentContexts=E,this.location=x,this.changeDetector=ee,this.environmentInjector=Ie,this.activated=null,this._activatedRoute=null,this.activateEvents=new F.vpe,this.deactivateEvents=new F.vpe,this.attachEvents=new F.vpe,this.detachEvents=new F.vpe,this.name=$||bn,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F.vHH(4012,Ui);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F.vHH(4012,Ui);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F.vHH(4012,Ui);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,x){this.activated=E,this._activatedRoute=x,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,x){if(this.isActivated)throw new F.vHH(4013,Ui);this._activatedRoute=E;const $=this.location,Ie=E._futureSnapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,Vt=new js(E,Qe,$.injector);if(x&&function Hs(b){return!!b.resolveComponentFactory}(x)){const nn=x.resolveComponentFactory(Ie);this.activated=$.createComponent(nn,$.length,Vt)}else this.activated=$.createComponent(Ie,{index:$.length,injector:Vt,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(E){return new(E||b)(F.Y36(di),F.Y36(F.s_b),F.$8M("name"),F.Y36(F.sBO),F.Y36(F.lqb))},b.\u0275dir=F.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),b})();class js{constructor(I,E,x){this.route=I,this.childContexts=E,this.parent=x}get(I,E){return I===rt?this.route:I===di?this.childContexts:this.parent.get(I,E)}}let Gs=(()=>{class b{}return b.\u0275fac=function(E){return new(E||b)},b.\u0275cmp=F.Xpm({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,x){1&E&&F._UZ(0,"router-outlet")},dependencies:[Zr],encapsulation:2}),b})();function k(b,I){return b.providers&&!b._injector&&(b._injector=(0,F.MMx)(b.providers,I,`Route: ${b.path}`)),b._injector??I}function Hr(b){const I=b.children&&b.children.map(Hr),E=I?{...b,children:I}:{...b};return!E.component&&!E.loadComponent&&(I||E.loadChildren)&&E.outlet&&E.outlet!==bn&&(E.component=Gs),E}function ar(b){return b.outlet||bn}function mn(b,I){const E=b.filter(x=>ar(x)===I);return E.push(...b.filter(x=>ar(x)!==I)),E}function hi(b){if(!b)return null;if(b.routeConfig?._injector)return b.routeConfig._injector;for(let I=b.parent;I;I=I.parent){const E=I.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class ri{constructor(I,E,x,$){this.routeReuseStrategy=I,this.futureState=E,this.currState=x,this.forwardEvent=$}activate(I){const E=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,x,I),Er(this.futureState.root),this.activateChildRoutes(E,x,I)}deactivateChildRoutes(I,E,x){const $=Sr(E);I.children.forEach(ee=>{const Ie=ee.value.outlet;this.deactivateRoutes(ee,$[Ie],x),delete $[Ie]}),Pn($,(ee,Ie)=>{this.deactivateRouteAndItsChildren(ee,x)})}deactivateRoutes(I,E,x){const $=I.value,ee=E?E.value:null;if($===ee)if($.component){const Ie=x.getContext($.outlet);Ie&&this.deactivateChildRoutes(I,E,Ie.children)}else this.deactivateChildRoutes(I,E,x);else ee&&this.deactivateRouteAndItsChildren(E,x)}deactivateRouteAndItsChildren(I,E){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,E):this.deactivateRouteAndOutlet(I,E)}detachAndStoreRouteSubtree(I,E){const x=E.getContext(I.value.outlet),$=x&&I.value.component?x.children:E,ee=Sr(I);for(const Ie of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[Ie],$);if(x&&x.outlet){const Ie=x.outlet.detach(),Qe=x.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Ie,route:I,contexts:Qe})}}deactivateRouteAndOutlet(I,E){const x=E.getContext(I.value.outlet),$=x&&I.value.component?x.children:E,ee=Sr(I);for(const Ie of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[Ie],$);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(I,E,x){const $=Sr(E);I.children.forEach(ee=>{this.activateRoutes(ee,$[ee.value.outlet],x),this.forwardEvent(new En(ee.value.snapshot))}),I.children.length&&this.forwardEvent(new $r(I.value.snapshot))}activateRoutes(I,E,x){const $=I.value,ee=E?E.value:null;if(Er($),$===ee)if($.component){const Ie=x.getOrCreateContext($.outlet);this.activateChildRoutes(I,E,Ie.children)}else this.activateChildRoutes(I,E,x);else if($.component){const Ie=x.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Qe=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ie.children.onOutletReAttached(Qe.contexts),Ie.attachRef=Qe.componentRef,Ie.route=Qe.route.value,Ie.outlet&&Ie.outlet.attach(Qe.componentRef,Qe.route.value),Er(Qe.route.value),this.activateChildRoutes(I,null,Ie.children)}else{const Qe=hi($.snapshot),Vt=Qe?.get(F._Vd)??null;Ie.attachRef=null,Ie.route=$,Ie.resolver=Vt,Ie.injector=Qe,Ie.outlet&&Ie.outlet.activateWith($,Ie.injector),this.activateChildRoutes(I,null,Ie.children)}}else this.activateChildRoutes(I,null,x)}}function v(b){return"function"==typeof b}function y(b){return b instanceof dn}const Cn=Symbol("INITIAL_VALUE");function er(){return(0,Gn.w)(b=>Z(b.map(I=>I.pipe((0,Sn.q)(1),(0,Ln.O)(Cn)))).pipe((0,Lr.R)((I,E)=>{let x=!1;return E.reduce(($,ee,Ie)=>$!==Cn?$:(ee===Cn&&(x=!0),x||!1!==ee&&Ie!==E.length-1&&!y(ee)?$:ee),I)},Cn),(0,me.h)(I=>I!==Cn),(0,qt.U)(I=>y(I)?I:!0===I),(0,Sn.q)(1)))}const Qn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function N(b,I,E){if(""===I.path)return"full"===I.pathMatch&&(b.hasChildren()||E.length>0)?{...Qn}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const $=(I.matcher||Oe)(E,b,I);if(!$)return{...Qn};const ee={};Pn($.posParams,(Qe,Vt)=>{ee[Vt]=Qe.path});const Ie=$.consumed.length>0?{...ee,...$.consumed[$.consumed.length-1].parameters}:ee;return{matched:!0,consumedSegments:$.consumed,remainingSegments:E.slice($.consumed.length),parameters:Ie,positionalParamSegments:$.posParams??{}}}function M(b,I,E,x,$="corrected"){if(E.length>0&&function _t(b,I,E){return E.some(x=>Rr(b,I,x)&&ar(x)!==bn)}(b,E,x)){const Ie=new Xt(I,function q(b,I,E,x){const $={};$[bn]=x,x._sourceSegment=b,x._segmentIndexShift=I.length;for(const ee of E)if(""===ee.path&&ar(ee)!==bn){const Ie=new Xt([],{});Ie._sourceSegment=b,Ie._segmentIndexShift=I.length,$[ar(ee)]=Ie}return $}(b,I,x,new Xt(E,b.children)));return Ie._sourceSegment=b,Ie._segmentIndexShift=I.length,{segmentGroup:Ie,slicedSegments:[]}}if(0===E.length&&function sn(b,I,E){return E.some(x=>Rr(b,I,x))}(b,E,x)){const Ie=new Xt(b.segments,function S(b,I,E,x,$,ee){const Ie={};for(const Qe of x)if(Rr(b,E,Qe)&&!$[ar(Qe)]){const Vt=new Xt([],{});Vt._sourceSegment=b,Vt._segmentIndexShift="legacy"===ee?b.segments.length:I.length,Ie[ar(Qe)]=Vt}return{...$,...Ie}}(b,I,E,x,b.children,$));return Ie._sourceSegment=b,Ie._segmentIndexShift=I.length,{segmentGroup:Ie,slicedSegments:E}}const ee=new Xt(b.segments,b.children);return ee._sourceSegment=b,ee._segmentIndexShift=I.length,{segmentGroup:ee,slicedSegments:E}}function Rr(b,I,E){return(!(b.hasChildren()||I.length>0)||"full"!==E.pathMatch)&&""===E.path}function zi(b,I,E,x){return!!(ar(b)===x||x!==bn&&Rr(I,E,b))&&("**"===b.path||N(I,b,E).matched)}function Qi(b,I,E){return 0===I.length&&!b.children[E]}const Jr=!1;class wi{constructor(I){this.segmentGroup=I||null}}class Ss{constructor(I){this.urlTree=I}}function ys(b){return(0,nt._)(new wi(b))}function ss(b){return(0,nt._)(new Ss(b))}class Ea{constructor(I,E,x,$,ee){this.injector=I,this.configLoader=E,this.urlSerializer=x,this.urlTree=$,this.config=ee,this.allowRedirects=!0}apply(){const I=M(this.urlTree.root,[],[],this.config).segmentGroup,E=new Xt(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,E,bn).pipe((0,qt.U)(ee=>this.createUrlTree(zs(ee),this.urlTree.queryParams,this.urlTree.fragment))).pipe(le(ee=>{if(ee instanceof Ss)return this.allowRedirects=!1,this.match(ee.urlTree);throw ee instanceof wi?this.noMatchError(ee):ee}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,bn).pipe((0,qt.U)($=>this.createUrlTree(zs($),I.queryParams,I.fragment))).pipe(le($=>{throw $ instanceof wi?this.noMatchError($):$}))}noMatchError(I){return new F.vHH(4002,Jr)}createUrlTree(I,E,x){const $=I.segments.length>0?new Xt([],{[bn]:I}):I;return new dn($,E,x)}expandSegmentGroup(I,E,x,$){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(I,E,x).pipe((0,qt.U)(ee=>new Xt([],ee))):this.expandSegment(I,x,E,x.segments,$,!0)}expandChildren(I,E,x){const $=[];for(const ee of Object.keys(x.children))"primary"===ee?$.unshift(ee):$.push(ee);return(0,he.D)($).pipe((0,Rn.b)(ee=>{const Ie=x.children[ee],Qe=mn(E,ee);return this.expandSegmentGroup(I,Qe,Ie,ee).pipe((0,qt.U)(Vt=>({segment:Vt,outlet:ee})))}),(0,Lr.R)((ee,Ie)=>(ee[Ie.outlet]=Ie.segment,ee),{}),function Pe(b,I){const E=arguments.length>=2;return x=>x.pipe(b?(0,me.h)(($,ee)=>b($,ee,x)):Re.y,ce(1),E?(0,ut.d)(I):(0,Ue.T)(()=>new $e.K))}())}expandSegment(I,E,x,$,ee,Ie){return(0,he.D)(x).pipe((0,Rn.b)(Qe=>this.expandSegmentAgainstRoute(I,E,x,Qe,$,ee,Ie).pipe(le(nn=>{if(nn instanceof wi)return(0,Ze.of)(null);throw nn}))),(0,mr.P)(Qe=>!!Qe),le((Qe,Vt)=>{if(Qe instanceof $e.K||"EmptyError"===Qe.name)return Qi(E,$,ee)?(0,Ze.of)(new Xt([],{})):ys(E);throw Qe}))}expandSegmentAgainstRoute(I,E,x,$,ee,Ie,Qe){return zi($,E,ee,Ie)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(I,E,$,ee,Ie):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,E,x,$,ee,Ie):ys(E):ys(E)}expandSegmentAgainstRouteUsingRedirect(I,E,x,$,ee,Ie){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,x,$,Ie):this.expandRegularSegmentAgainstRouteUsingRedirect(I,E,x,$,ee,Ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,E,x,$){const ee=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?ss(ee):this.lineralizeSegments(x,ee).pipe((0,Rt.zg)(Ie=>{const Qe=new Xt(Ie,{});return this.expandSegment(I,Qe,E,Ie,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,E,x,$,ee,Ie){const{matched:Qe,consumedSegments:Vt,remainingSegments:nn,positionalParamSegments:xr}=N(E,$,ee);if(!Qe)return ys(E);const jn=this.applyRedirectCommands(Vt,$.redirectTo,xr);return $.redirectTo.startsWith("/")?ss(jn):this.lineralizeSegments($,jn).pipe((0,Rt.zg)(pi=>this.expandSegment(I,E,x,pi.concat(nn),Ie,!1)))}matchSegmentAgainstRoute(I,E,x,$,ee){if("**"===x.path)return I=k(x,I),x.loadChildren?(x._loadedRoutes?(0,Ze.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(I,x)).pipe((0,qt.U)(jn=>(x._loadedRoutes=jn.routes,x._loadedInjector=jn.injector,new Xt($,{})))):(0,Ze.of)(new Xt($,{}));const{matched:Ie,consumedSegments:Qe,remainingSegments:Vt}=N(E,x,$);return Ie?(I=k(x,I),this.getChildConfig(I,x,$).pipe((0,Rt.zg)(xr=>{const jn=xr.injector??I,pi=xr.routes,{segmentGroup:si,slicedSegments:vs}=M(E,Qe,Vt,pi),vt=new Xt(si.segments,si.children);if(0===vs.length&&vt.hasChildren())return this.expandChildren(jn,pi,vt).pipe((0,qt.U)(Ma=>new Xt(Qe,Ma)));if(0===pi.length&&0===vs.length)return(0,Ze.of)(new Xt(Qe,{}));const oo=ar(x)===ee;return this.expandSegment(jn,vt,pi,vs,oo?bn:ee,!0).pipe((0,qt.U)(xa=>new Xt(Qe.concat(xa.segments),xa.children)))}))):ys(E)}getChildConfig(I,E,x){return E.children?(0,Ze.of)({routes:E.children,injector:I}):E.loadChildren?void 0!==E._loadedRoutes?(0,Ze.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):this.runCanLoadGuards(I,E,x).pipe((0,Rt.zg)($=>$?this.configLoader.loadChildren(I,E).pipe((0,tr.b)(ee=>{E._loadedRoutes=ee.routes,E._loadedInjector=ee.injector})):function As(b){return(0,nt._)(br(Jr))}())):(0,Ze.of)({routes:[],injector:I})}runCanLoadGuards(I,E,x){const $=E.canLoad;if(!$||0===$.length)return(0,Ze.of)(!0);const ee=$.map(Ie=>{const Qe=I.get(Ie);return Un(function P(b){return b&&v(b.canLoad)}(Qe)?Qe.canLoad(E,x):Qe(E,x))});return(0,Ze.of)(ee).pipe(er(),(0,tr.b)(Ie=>{if(!y(Ie))return;const Qe=br(Br+this.urlSerializer.serialize(Ie));throw Qe.url=Ie,Qe}),(0,qt.U)(Ie=>!0===Ie))}lineralizeSegments(I,E){let x=[],$=E.root;for(;;){if(x=x.concat($.segments),0===$.numberOfChildren)return(0,Ze.of)(x);if($.numberOfChildren>1||!$.children[bn])return(0,nt._)(new F.vHH(4e3,Jr));$=$.children[bn]}}applyRedirectCommands(I,E,x){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),I,x)}applyRedirectCreatreUrlTree(I,E,x,$){const ee=this.createSegmentGroup(I,E.root,x,$);return new dn(ee,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(I,E){const x={};return Pn(I,($,ee)=>{if("string"==typeof $&&$.startsWith(":")){const Qe=$.substring(1);x[ee]=E[Qe]}else x[ee]=$}),x}createSegmentGroup(I,E,x,$){const ee=this.createSegments(I,E.segments,x,$);let Ie={};return Pn(E.children,(Qe,Vt)=>{Ie[Vt]=this.createSegmentGroup(I,Qe,x,$)}),new Xt(ee,Ie)}createSegments(I,E,x,$){return E.map(ee=>ee.path.startsWith(":")?this.findPosParam(I,ee,$):this.findOrReturn(ee,x))}findPosParam(I,E,x){const $=x[E.path.substring(1)];if(!$)throw new F.vHH(4001,Jr);return $}findOrReturn(I,E){let x=0;for(const $ of E){if($.path===I.path)return E.splice(x),$;x++}return I}}function zs(b){const I={};for(const x of Object.keys(b.children)){const ee=zs(b.children[x]);(ee.segments.length>0||ee.hasChildren())&&(I[x]=ee)}return function Jo(b){if(1===b.numberOfChildren&&b.children[bn]){const I=b.children[bn];return new Xt(b.segments.concat(I.segments),I.children)}return b}(new Xt(b.segments,I))}class po{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Bo{constructor(I,E){this.component=I,this.route=E}}function go(b,I,E){const x=b._root;return To(x,I?I._root:null,E,[x.value])}function to(b,I,E){return(hi(I)??E).get(b)}function To(b,I,E,x,$={canDeactivateChecks:[],canActivateChecks:[]}){const ee=Sr(I);return b.children.forEach(Ie=>{(function Ka(b,I,E,x,$={canDeactivateChecks:[],canActivateChecks:[]}){const ee=b.value,Ie=I?I.value:null,Qe=E?E.getContext(b.value.outlet):null;if(Ie&&ee.routeConfig===Ie.routeConfig){const Vt=function ta(b,I,E){if("function"==typeof E)return E(b,I);switch(E){case"pathParamsChange":return!rr(b.url,I.url);case"pathParamsOrQueryParamsChange":return!rr(b.url,I.url)||!qe(b.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vr(b,I)||!qe(b.queryParams,I.queryParams);default:return!vr(b,I)}}(Ie,ee,ee.routeConfig.runGuardsAndResolvers);Vt?$.canActivateChecks.push(new po(x)):(ee.data=Ie.data,ee._resolvedData=Ie._resolvedData),To(b,I,ee.component?Qe?Qe.children:null:E,x,$),Vt&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&$.canDeactivateChecks.push(new Bo(Qe.outlet.component,Ie))}else Ie&&no(I,Qe,$),$.canActivateChecks.push(new po(x)),To(b,null,ee.component?Qe?Qe.children:null:E,x,$)})(Ie,ee[Ie.value.outlet],E,x.concat([Ie.value]),$),delete ee[Ie.value.outlet]}),Pn(ee,(Ie,Qe)=>no(Ie,E.getContext(Qe),$)),$}function no(b,I,E){const x=Sr(b),$=b.value;Pn(x,(ee,Ie)=>{no(ee,$.component?I?I.children.getContext(Ie):null:I,E)}),E.canDeactivateChecks.push(new Bo($.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,$))}class na{}function Du(b){return new fe.y(I=>I.error(b))}class So{constructor(I,E,x,$,ee,Ie){this.rootComponentType=I,this.config=E,this.urlTree=x,this.url=$,this.paramsInheritanceStrategy=ee,this.relativeLinkResolution=Ie}recognize(){const I=M(this.urlTree.root,[],[],this.config.filter(Ie=>void 0===Ie.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,I,bn);if(null===E)return null;const x=new Ft([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bn,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new hr(x,E),ee=new Kt(this.url,$);return this.inheritParamsAndData(ee._root),ee}inheritParamsAndData(I){const E=I.value,x=Ke(E,this.paramsInheritanceStrategy);E.params=Object.freeze(x.params),E.data=Object.freeze(x.data),I.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(I,E,x){return 0===E.segments.length&&E.hasChildren()?this.processChildren(I,E):this.processSegment(I,E,E.segments,x)}processChildren(I,E){const x=[];for(const ee of Object.keys(E.children)){const Ie=E.children[ee],Qe=mn(I,ee),Vt=this.processSegmentGroup(Qe,Ie,ee);if(null===Vt)return null;x.push(...Vt)}const $=$o(x);return function es(b){b.sort((I,E)=>I.value.outlet===bn?-1:E.value.outlet===bn?1:I.value.outlet.localeCompare(E.value.outlet))}($),$}processSegment(I,E,x,$){for(const ee of I){const Ie=this.processSegmentAgainstRoute(ee,E,x,$);if(null!==Ie)return Ie}return Qi(E,x,$)?[]:null}processSegmentAgainstRoute(I,E,x,$){if(I.redirectTo||!zi(I,E,x,$))return null;let ee,Ie=[],Qe=[];if("**"===I.path){const si=x.length>0?fn(x).parameters:{},vs=ba(E)+x.length;ee=new Ft(x,si,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ra(I),ar(I),I.component??I._loadedComponent??null,I,Wi(E),vs,ia(I),vs)}else{const si=N(E,I,x);if(!si.matched)return null;Ie=si.consumedSegments,Qe=si.remainingSegments;const vs=ba(E)+Ie.length;ee=new Ft(Ie,si.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ra(I),ar(I),I.component??I._loadedComponent??null,I,Wi(E),vs,ia(I),vs)}const Vt=function Ia(b){return b.children?b.children:b.loadChildren?b._loadedRoutes:[]}(I),{segmentGroup:nn,slicedSegments:xr}=M(E,Ie,Qe,Vt.filter(si=>void 0===si.redirectTo),this.relativeLinkResolution);if(0===xr.length&&nn.hasChildren()){const si=this.processChildren(Vt,nn);return null===si?null:[new hr(ee,si)]}if(0===Vt.length&&0===xr.length)return[new hr(ee,[])];const jn=ar(I)===$,pi=this.processSegment(Vt,nn,xr,jn?bn:$);return null===pi?null:[new hr(ee,pi)]}}function Vo(b){const I=b.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function $o(b){const I=[],E=new Set;for(const x of b){if(!Vo(x)){I.push(x);continue}const $=I.find(ee=>x.value.routeConfig===ee.value.routeConfig);void 0!==$?($.children.push(...x.children),E.add($)):I.push(x)}for(const x of E){const $=$o(x.children);I.push(new hr(x.value,$))}return I.filter(x=>!E.has(x))}function Wi(b){let I=b;for(;I._sourceSegment;)I=I._sourceSegment;return I}function ba(b){let I=b,E=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,E+=I._segmentIndexShift??0;return E-1}function ra(b){return b.data||{}}function ia(b){return b.resolve||{}}const Xa=Symbol("RouteTitle");function Ds(b){return"string"==typeof b.title||null===b.title}function Ni(b){return(0,Gn.w)(I=>{const E=b(I);return E?(0,he.D)(E).pipe((0,qt.U)(()=>I)):(0,Ze.of)(I)})}class Qa{}class Cs extends class io{shouldDetach(I){return!1}store(I,E){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,E){return I.routeConfig===E.routeConfig}}{}const sa=new F.OlP("ROUTES");let Ks=(()=>{class b{constructor(E,x){this.injector=E,this.compiler=x,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,Ze.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const x=Un(E.loadComponent()).pipe((0,tr.b)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=ee}),Tt(()=>{this.componentLoaders.delete(E)})),$=new Xe.c(x,()=>new ct.xQ).pipe((0,Wn.x)());return this.componentLoaders.set(E,$),$}loadChildren(E,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,Ze.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const ee=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,qt.U)(Qe=>{this.onLoadEndListener&&this.onLoadEndListener(x);let Vt,nn,xr=!1;Array.isArray(Qe)?nn=Qe:(Vt=Qe.create(E).injector,nn=yt(Vt.get(sa,[],F.XFs.Self|F.XFs.Optional)));return{routes:nn.map(Hr),injector:Vt}}),Tt(()=>{this.childrenLoaders.delete(x)})),Ie=new Xe.c(ee,()=>new ct.xQ).pipe((0,Wn.x)());return this.childrenLoaders.set(x,Ie),Ie}loadModuleFactoryOrRoutes(E){return Un(E()).pipe((0,Rt.zg)(x=>x instanceof F.YKP||Array.isArray(x)?(0,Ze.of)(x):(0,he.D)(this.compiler.compileModuleAsync(x))))}}return b.\u0275fac=function(E){return new(E||b)(F.LFG(F.zs3),F.LFG(F.Sil))},b.\u0275prov=F.Yz7({token:b,factory:b.\u0275fac}),b})();class Tu{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,E){return I}}function Vc(b){throw b}function fi(b,I,E){return I.parse("/")}const Ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class b{constructor(E,x,$,ee,Ie,Qe,Vt){this.rootComponentType=E,this.urlSerializer=x,this.rootContexts=$,this.location=ee,this.config=Vt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ct.xQ,this.errorHandler=Vc,this.malformedUriErrorHandler=fi,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ze.of)(void 0),this.urlHandlingStrategy=new Tu,this.routeReuseStrategy=new Cs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Ie.get(Ks),this.configLoader.onLoadEndListener=pi=>this.triggerEvent(new Mn(pi)),this.configLoader.onLoadStartListener=pi=>this.triggerEvent(new Qt(pi)),this.ngModule=Ie.get(F.h0i),this.console=Ie.get(F.c2e);const jn=Ie.get(F.R0b);this.isNgZoneEnabled=jn instanceof F.R0b&&F.R0b.isInAngularZone(),this.resetConfig(Vt),this.currentUrlTree=function Ye(){return new dn(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gi(this.currentUrlTree,this.rootComponentType),this.transitions=new J.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const x=this.events;return E.pipe((0,me.h)($=>0!==$.id),(0,qt.U)($=>({...$,extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,Gn.w)($=>{let ee=!1,Ie=!1;return(0,Ze.of)($).pipe((0,tr.b)(Qe=>{this.currentNavigation={id:Qe.id,initialUrl:Qe.rawUrl,extractedUrl:Qe.extractedUrl,trigger:Qe.source,extras:Qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Gn.w)(Qe=>{const Vt=this.browserUrlTree.toString(),nn=!this.navigated||Qe.extractedUrl.toString()!==Vt||Vt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||nn)&&this.urlHandlingStrategy.shouldProcessUrl(Qe.rawUrl))return Ca(Qe.source)&&(this.browserUrlTree=Qe.extractedUrl),(0,Ze.of)(Qe).pipe((0,Gn.w)(jn=>{const pi=this.transitions.getValue();return x.next(new or(jn.id,this.serializeUrl(jn.extractedUrl),jn.source,jn.restoredState)),pi!==this.transitions.getValue()?ye.E:Promise.resolve(jn)}),function ea(b,I,E,x){return(0,Gn.w)($=>function Ju(b,I,E,x,$){return new Ea(b,I,E,x,$).apply()}(b,I,E,$.extractedUrl,x).pipe((0,qt.U)(ee=>({...$,urlAfterRedirects:ee}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,tr.b)(jn=>{this.currentNavigation={...this.currentNavigation,finalUrl:jn.urlAfterRedirects}}),function ro(b,I,E,x,$){return(0,Rt.zg)(ee=>function mo(b,I,E,x,$="emptyOnly",ee="legacy"){try{const Ie=new So(b,I,E,x,$,ee).recognize();return null===Ie?Du(new na):(0,Ze.of)(Ie)}catch(Ie){return Du(Ie)}}(b,I,ee.urlAfterRedirects,E(ee.urlAfterRedirects),x,$).pipe((0,qt.U)(Ie=>({...ee,targetSnapshot:Ie}))))}(this.rootComponentType,this.config,jn=>this.serializeUrl(jn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,tr.b)(jn=>{if("eager"===this.urlUpdateStrategy){if(!jn.extras.skipLocationChange){const si=this.urlHandlingStrategy.merge(jn.urlAfterRedirects,jn.rawUrl);this.setBrowserUrl(si,jn)}this.browserUrlTree=jn.urlAfterRedirects}const pi=new Pt(jn.id,this.serializeUrl(jn.extractedUrl),this.serializeUrl(jn.urlAfterRedirects),jn.targetSnapshot);x.next(pi)}));if(nn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:pi,extractedUrl:si,source:vs,restoredState:vt,extras:oo}=Qe,qi=new or(pi,this.serializeUrl(si),vs,vt);x.next(qi);const xa=gi(si,this.rootComponentType).snapshot;return(0,Ze.of)({...Qe,targetSnapshot:xa,urlAfterRedirects:si,extras:{...oo,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=Qe.rawUrl,Qe.resolve(null),ye.E}),(0,tr.b)(Qe=>{const Vt=new mt(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot);this.triggerEvent(Vt)}),(0,qt.U)(Qe=>({...Qe,guards:go(Qe.targetSnapshot,Qe.currentSnapshot,this.rootContexts)})),function ec(b,I){return(0,Rt.zg)(E=>{const{targetSnapshot:x,currentSnapshot:$,guards:{canActivateChecks:ee,canDeactivateChecks:Ie}}=E;return 0===Ie.length&&0===ee.length?(0,Ze.of)({...E,guardsResult:!0}):function wa(b,I,E,x){return(0,he.D)(b).pipe((0,Rt.zg)($=>function qs(b,I,E,x,$){const ee=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,Ze.of)(!0);const Ie=ee.map(Qe=>{const Vt=to(Qe,I,$);return Un(function Ht(b){return b&&v(b.canDeactivate)}(Vt)?Vt.canDeactivate(b,I,E,x):Vt(b,I,E,x)).pipe((0,mr.P)())});return(0,Ze.of)(Ie).pipe(er())}($.component,$.route,E,I,x)),(0,mr.P)($=>!0!==$,!0))}(Ie,x,$,b).pipe((0,Rt.zg)(Qe=>Qe&&function V(b){return"boolean"==typeof b}(Qe)?function Ji(b,I,E,x){return(0,he.D)(I).pipe((0,Rn.b)($=>(0,st.z)(function ci(b,I){return null!==b&&I&&I(new yr(b)),(0,Ze.of)(!0)}($.route.parent,x),function Ws(b,I){return null!==b&&I&&I(new Kn(b)),(0,Ze.of)(!0)}($.route,x),function bu(b,I,E){const x=I[I.length-1],ee=I.slice(0,I.length-1).reverse().map(Ie=>function qa(b){const I=b.routeConfig?b.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:b,guards:I}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>je(()=>{const Qe=Ie.guards.map(Vt=>{const nn=to(Vt,Ie.node,E);return Un(function xe(b){return b&&v(b.canActivateChild)}(nn)?nn.canActivateChild(x,b):nn(x,b)).pipe((0,mr.P)())});return(0,Ze.of)(Qe).pipe(er())}));return(0,Ze.of)(ee).pipe(er())}(b,$.path,E),function Ya(b,I,E){const x=I.routeConfig?I.routeConfig.canActivate:null;if(!x||0===x.length)return(0,Ze.of)(!0);const $=x.map(ee=>je(()=>{const Ie=to(ee,I,E);return Un(function ue(b){return b&&v(b.canActivate)}(Ie)?Ie.canActivate(I,b):Ie(I,b)).pipe((0,mr.P)())}));return(0,Ze.of)($).pipe(er())}(b,$.route,E))),(0,mr.P)($=>!0!==$,!0))}(x,ee,b,I):(0,Ze.of)(Qe)),(0,qt.U)(Qe=>({...E,guardsResult:Qe})))})}(this.ngModule.injector,Qe=>this.triggerEvent(Qe)),(0,tr.b)(Qe=>{if(y(Qe.guardsResult)){const nn=br(`Redirecting to "${this.serializeUrl(Qe.guardsResult)}"`);throw nn.url=Qe.guardsResult,nn}const Vt=new jt(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot,!!Qe.guardsResult);this.triggerEvent(Vt)}),(0,me.h)(Qe=>!!Qe.guardsResult||(this.restoreHistory(Qe),this.cancelNavigationTransition(Qe,""),!1)),Ni(Qe=>{if(Qe.guards.canActivateChecks.length)return(0,Ze.of)(Qe).pipe((0,tr.b)(Vt=>{const nn=new qn(Vt.id,this.serializeUrl(Vt.extractedUrl),this.serializeUrl(Vt.urlAfterRedirects),Vt.targetSnapshot);this.triggerEvent(nn)}),(0,Gn.w)(Vt=>{let nn=!1;return(0,Ze.of)(Vt).pipe(function Cu(b,I){return(0,Rt.zg)(E=>{const{targetSnapshot:x,guards:{canActivateChecks:$}}=E;if(!$.length)return(0,Ze.of)(E);let ee=0;return(0,he.D)($).pipe((0,Rn.b)(Ie=>function Da(b,I,E,x){const $=b.routeConfig,ee=b._resolve;return void 0!==$?.title&&!Ds($)&&(ee[Xa]=$.title),function Ao(b,I,E,x){const $=function tc(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}(b);if(0===$.length)return(0,Ze.of)({});const ee={};return(0,he.D)($).pipe((0,Rt.zg)(Ie=>function xo(b,I,E,x){const $=to(b,I,x);return Un($.resolve?$.resolve(I,E):$(I,E))}(b[Ie],I,E,x).pipe((0,mr.P)(),(0,tr.b)(Qe=>{ee[Ie]=Qe}))),ce(1),function ke(b){return I=>I.lift(new He(b))}(ee),le(Ie=>Ie instanceof $e.K?ye.E:(0,nt._)(Ie)))}(ee,b,I,x).pipe((0,qt.U)(Ie=>(b._resolvedData=Ie,b.data=Ke(b,E).resolve,$&&Ds($)&&(b.data[Xa]=$.title),null)))}(Ie.route,x,b,I)),(0,tr.b)(()=>ee++),ce(1),(0,Rt.zg)(Ie=>ee===$.length?(0,Ze.of)(E):ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,tr.b)({next:()=>nn=!0,complete:()=>{nn||(this.restoreHistory(Vt),this.cancelNavigationTransition(Vt,"At least one route resolver didn't emit any value."))}}))}),(0,tr.b)(Vt=>{const nn=new fr(Vt.id,this.serializeUrl(Vt.extractedUrl),this.serializeUrl(Vt.urlAfterRedirects),Vt.targetSnapshot);this.triggerEvent(nn)}))}),Ni(Qe=>{const Vt=nn=>{const xr=[];nn.routeConfig?.loadComponent&&!nn.routeConfig._loadedComponent&&xr.push(this.configLoader.loadComponent(nn.routeConfig).pipe((0,tr.b)(jn=>{nn.component=jn}),(0,qt.U)(()=>{})));for(const jn of nn.children)xr.push(...Vt(jn));return xr};return Z(Vt(Qe.targetSnapshot.root)).pipe((0,ut.d)(),(0,Sn.q)(1))}),Ni(()=>this.afterPreactivation()),(0,qt.U)(Qe=>{const Vt=function ls(b,I,E){const x=ps(b,I._root,E?E._root:void 0);return new Vr(x,I)}(this.routeReuseStrategy,Qe.targetSnapshot,Qe.currentRouterState);return{...Qe,targetRouterState:Vt}}),(0,tr.b)(Qe=>{this.currentUrlTree=Qe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Qe.urlAfterRedirects,Qe.rawUrl),this.routerState=Qe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Qe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Qe),this.browserUrlTree=Qe.urlAfterRedirects)}),((b,I,E)=>(0,qt.U)(x=>(new ri(I,x.targetRouterState,x.currentRouterState,E).activate(b),x)))(this.rootContexts,this.routeReuseStrategy,Qe=>this.triggerEvent(Qe)),(0,tr.b)({next(){ee=!0},complete(){ee=!0}}),Tt(()=>{ee||Ie||this.cancelNavigationTransition($,`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===$.id&&(this.currentNavigation=null)}),le(Qe=>{if(Ie=!0,function Or(b){return b&&b[lr]}(Qe)){const Vt=y(Qe.url);Vt||(this.navigated=!0,this.restoreHistory($,!0));const nn=new Fe($.id,this.serializeUrl($.extractedUrl),Qe.message);if(x.next(nn),Vt){const xr=this.urlHandlingStrategy.merge(Qe.url,this.rawUrlTree),jn={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ca($.source)};this.scheduleNavigation(xr,"imperative",null,jn,{resolve:$.resolve,reject:$.reject,promise:$.promise})}else $.resolve(!1)}else{this.restoreHistory($,!0);const Vt=new We($.id,this.serializeUrl($.extractedUrl),Qe);x.next(Vt);try{$.resolve(this.errorHandler(Qe))}catch(nn){$.reject(nn)}}return ye.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const x="popstate"===E.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{const $={replaceUrl:!0},ee=E.state?.navigationId?E.state:null;if(ee){const Qe={...ee};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&($.state=Qe)}const Ie=this.parseUrl(E.url);this.scheduleNavigation(Ie,x,ee,$)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(Hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,x={}){const{relativeTo:$,queryParams:ee,fragment:Ie,queryParamsHandling:Qe,preserveFragment:Vt}=x,nn=$||this.routerState.root,xr=Vt?this.currentUrlTree.fragment:Ie;let jn=null;switch(Qe){case"merge":jn={...this.currentUrlTree.queryParams,...ee};break;case"preserve":jn=this.currentUrlTree.queryParams;break;default:jn=ee||null}return null!==jn&&(jn=this.removeEmptyProps(jn)),function gs(b,I,E,x,$){if(0===E.length)return rs(I.root,I.root,I.root,x,$);const ee=function ds(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Xi(!0,0,b);let I=0,E=!1;const x=b.reduce(($,ee,Ie)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const Qe={};return Pn(ee.outlets,(Vt,nn)=>{Qe[nn]="string"==typeof Vt?Vt.split("/"):Vt}),[...$,{outlets:Qe}]}if(ee.segmentPath)return[...$,ee.segmentPath]}return"string"!=typeof ee?[...$,ee]:0===Ie?(ee.split("/").forEach((Qe,Vt)=>{0==Vt&&"."===Qe||(0==Vt&&""===Qe?E=!0:".."===Qe?I++:""!=Qe&&$.push(Qe))}),$):[...$,ee]},[]);return new Xi(E,I,x)}(E);return ee.toRoot()?rs(I.root,I.root,new Xt([],{}),x,$):function Ie(Vt){const nn=function Xs(b,I,E,x){return b.isAbsolute?new Ps(I.root,!0,0):-1===x?new Ps(E,E===I.root,0):function bs(b,I,E){let x=b,$=I,ee=E;for(;ee>$;){if(ee-=$,x=x.parent,!x)throw new F.vHH(4005,!1);$=x.segments.length}return new Ps(x,!1,$-ee)}(E,x+(Is(b.commands[0])?0:1),b.numberOfDoubleDots)}(ee,I,b.snapshot?._urlSegment,Vt),xr=nn.processChildren?Yr(nn.segmentGroup,nn.index,ee.commands):ms(nn.segmentGroup,nn.index,ee.commands);return rs(I.root,nn.segmentGroup,xr,x,$)}(b.snapshot?._lastPathIndex)}(nn,this.currentUrlTree,E,jn,xr??null)}navigateByUrl(E,x={skipLocationChange:!1}){const $=y(E)?E:this.parseUrl(E),ee=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ee,"imperative",null,x)}navigate(E,x={skipLocationChange:!1}){return function eu(b){for(let I=0;I<b.length;I++){if(null==b[I])throw new F.vHH(4008,!1)}}(E),this.navigateByUrl(this.createUrlTree(E,x),x)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let x;try{x=this.urlSerializer.parse(E)}catch($){x=this.malformedUriErrorHandler($,this.urlSerializer,E)}return x}isActive(E,x){let $;if($=!0===x?{...Ja}:!1===x?{...oa}:x,y(E))return Be(this.currentUrlTree,E,$);const ee=this.parseUrl(E);return Be(this.currentUrlTree,ee,$)}removeEmptyProps(E){return Object.keys(E).reduce((x,$)=>{const ee=E[$];return null!=ee&&(x[$]=ee),x},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Nt(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,x,$,ee,Ie){if(this.disposed)return Promise.resolve(!1);let Qe,Vt,nn;Ie?(Qe=Ie.resolve,Vt=Ie.reject,nn=Ie.promise):nn=new Promise((pi,si)=>{Qe=pi,Vt=si});const xr=++this.navigationId;let jn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),jn=$&&$.\u0275routerPageId?$.\u0275routerPageId:ee.replaceUrl||ee.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):jn=0,this.setTransition({id:xr,targetPageId:jn,source:x,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:ee,resolve:Qe,reject:Vt,promise:nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nn.catch(pi=>Promise.reject(pi))}setBrowserUrl(E,x){const $=this.urlSerializer.serialize(E),ee={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.isCurrentPathEqualTo($)||x.extras.replaceUrl?this.location.replaceState($,"",ee):this.location.go($,"",ee)}restoreHistory(E,x=!1){if("computed"===this.canceledNavigationResolution){const $=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===$?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===$&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo($)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,x){const $=new Fe(E.id,this.serializeUrl(E.extractedUrl),x);this.triggerEvent($),E.resolve(!1)}generateNgRouterState(E,x){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:x}:{navigationId:E}}}return b.\u0275fac=function(E){F.$Z()},b.\u0275prov=F.Yz7({token:b,factory:b.\u0275fac}),b})();function Ca(b){return"imperative"!==b}let Ns=(()=>{class b{constructor(E,x,$,ee,Ie){this.router=E,this.route=x,this.tabIndexAttribute=$,this.renderer=ee,this.el=Ie,this.commands=null,this.onChanges=new ct.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const x=this.renderer,$=this.el.nativeElement;null!==E?x.setAttribute($,"tabindex",E):x.removeAttribute($,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const E={skipLocationChange:(0,F.D6c)(this.skipLocationChange),replaceUrl:(0,F.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,F.D6c)(this.preserveFragment)})}}return b.\u0275fac=function(E){return new(E||b)(F.Y36(yi),F.Y36(rt),F.$8M("tabindex"),F.Y36(F.Qsj),F.Y36(F.SBq))},b.\u0275dir=F.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,x){1&E&&F.NdJ("click",function(){return x.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[F.TTD]}),b})(),Uo=(()=>{class b{constructor(E,x,$){this.router=E,this.route=x,this.locationStrategy=$,this.commands=null,this.href=null,this.onChanges=new ct.xQ,this.subscription=E.events.subscribe(ee=>{ee instanceof Nt&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,x,$,ee,Ie){if(0!==E||x||$||ee||Ie||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Qe={skipLocationChange:(0,F.D6c)(this.skipLocationChange),replaceUrl:(0,F.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Qe),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,F.D6c)(this.preserveFragment)})}}return b.\u0275fac=function(E){return new(E||b)(F.Y36(yi),F.Y36(rt),F.Y36(c.S$))},b.\u0275dir=F.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,x){1&E&&F.NdJ("click",function(ee){return x.onClick(ee.button,ee.ctrlKey,ee.shiftKey,ee.altKey,ee.metaKey)}),2&E&&F.uIk("target",x.target)("href",x.href,F.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[F.TTD]}),b})();class yo{buildTitle(I){let E,x=I.root;for(;void 0!==x;)E=this.getResolvedTitleForRoute(x)??E,x=x.children.find($=>$.outlet===bn);return E}getResolvedTitleForRoute(I){return I.data[Xa]}}let Ys=(()=>{class b extends yo{constructor(E){super(),this.title=E}updateTitle(E){const x=this.buildTitle(E);void 0!==x&&this.title.setTitle(x)}}return b.\u0275fac=function(E){return new(E||b)(F.LFG(sr.Dx))},b.\u0275prov=F.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class nc{}let Zt=(()=>{class b{preload(E,x){return x().pipe(le(()=>(0,Ze.of)(null)))}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275prov=F.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),xs=(()=>{class b{constructor(E,x,$,ee,Ie){this.router=E,this.injector=$,this.preloadingStrategy=ee,this.loader=Ie}setUpPreloading(){this.subscription=this.router.events.pipe((0,me.h)(E=>E instanceof Nt),(0,Rn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,x){const $=[];for(const ee of x){ee.providers&&!ee._injector&&(ee._injector=(0,F.MMx)(ee.providers,E,`Route: ${ee.path}`));const Ie=ee._injector??E,Qe=ee._loadedInjector??Ie;ee.loadChildren&&!ee._loadedRoutes||ee.loadComponent&&!ee._loadedComponent?$.push(this.preloadConfig(Ie,ee)):(ee.children||ee._loadedRoutes)&&$.push(this.processRoutes(Qe,ee.children??ee._loadedRoutes))}return(0,he.D)($).pipe((0,Ir.J)())}preloadConfig(E,x){return this.preloadingStrategy.preload(x,()=>{let $;$=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(E,x):(0,Ze.of)(null);const ee=$.pipe((0,Rt.zg)(Ie=>null===Ie?(0,Ze.of)(void 0):(x._loadedRoutes=Ie.routes,x._loadedInjector=Ie.injector,this.processRoutes(Ie.injector??E,Ie.routes))));if(x.loadComponent&&!x._loadedComponent){const Ie=this.loader.loadComponent(x);return(0,he.D)([ee,Ie]).pipe((0,Ir.J)())}return ee})}}return b.\u0275fac=function(E){return new(E||b)(F.LFG(yi),F.LFG(F.Sil),F.LFG(F.lqb),F.LFG(nc),F.LFG(Ks))},b.\u0275prov=F.Yz7({token:b,factory:b.\u0275fac}),b})();const vi=new F.OlP("");let An=(()=>{class b{constructor(E,x,$={}){this.router=E,this.viewportScroller=x,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Nt&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof wn&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,x){this.router.triggerEvent(new wn(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(E){F.$Z()},b.\u0275prov=F.Yz7({token:b,factory:b.\u0275fac}),b})();const yn=new F.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),St=new F.OlP("ROUTER_FORROOT_GUARD"),Gt=new F.OlP(""),Si=[c.Ye,{provide:Wr,useClass:ai},{provide:yi,useFactory:function Su(b,I,E,x,$,ee,Ie={},Qe,Vt,nn,xr){const jn=new yi(null,b,I,E,x,$,yt(ee));return nn&&(jn.urlHandlingStrategy=nn),xr&&(jn.routeReuseStrategy=xr),jn.titleStrategy=Vt??Qe,function ic(b,I){b.errorHandler&&(I.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(I.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(I.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(I.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(I.urlUpdateStrategy=b.urlUpdateStrategy),b.canceledNavigationResolution&&(I.canceledNavigationResolution=b.canceledNavigationResolution)}(Ie,jn),jn},deps:[Wr,di,c.Ye,F.zs3,F.Sil,sa,yn,Ys,[yo,new F.FiY],[class Ll{},new F.FiY],[Qa,new F.FiY]]},di,{provide:rt,useFactory:function ei(b){return b.routerState.root},deps:[yi]},Ks];function tu(){return new F.PXZ("Router",yi)}let vo=(()=>{class b{constructor(E,x){}static forRoot(E,x){return{ngModule:b,providers:[Si,[],so(E),{provide:St,useFactory:Sa,deps:[[yi,new F.FiY,new F.tp0]]},{provide:yn,useValue:x||{}},x?.useHash?{provide:c.S$,useClass:c.Do}:{provide:c.S$,useClass:c.b0},{provide:vi,useFactory:()=>{const b=(0,F.f3M)(yi),I=(0,F.f3M)(c.EM),E=(0,F.f3M)(yn);return E.scrollOffset&&I.setOffset(E.scrollOffset),new An(b,I,E)}},x?.preloadingStrategy?Fi(x.preloadingStrategy):[],{provide:F.PXZ,multi:!0,useFactory:tu},x?.initialNavigation?Aa(x):[],[{provide:ur,useFactory:nu},{provide:F.tb,multi:!0,useExisting:ur}]]}}static forChild(E){return{ngModule:b,providers:[so(E)]}}}return b.\u0275fac=function(E){return new(E||b)(F.LFG(St,8),F.LFG(yi,8))},b.\u0275mod=F.oAB({type:b}),b.\u0275inj=F.cJS({}),b})();function Sa(b){return"guarded"}function so(b){return[{provide:F.deG,multi:!0,useValue:b},{provide:sa,multi:!0,useValue:b}]}function nu(){const b=(0,F.f3M)(F.zs3);return I=>{const E=b.get(F.z2F);if(I!==E.components[0])return;const x=b.get(yi),$=b.get(Ai);null===b.get(Mo,null,F.XFs.Optional)&&x.initialNavigation(),b.get(Gt,null,F.XFs.Optional)?.setUpPreloading(),b.get(vi,null,F.XFs.Optional)?.init(),x.resetRootComponentType(E.componentTypes[0]),$.next(),$.complete()}}const ur=new F.OlP("");function Aa(b){return["disabled"===b.initialNavigation?[{provide:F.ip1,multi:!0,useFactory:()=>{const b=(0,F.f3M)(yi);return()=>{b.setUpLocationChangeListener()}}},{provide:Mo,useValue:"disabled"}]:[],"enabledBlocking"===b.initialNavigation?[{provide:Mo,useValue:"enabledBlocking"},{provide:F.ip1,multi:!0,deps:[F.zs3],useFactory:b=>{const I=b.get(c.V_,Promise.resolve(null));let E=!1;return()=>I.then(()=>new Promise($=>{const ee=b.get(yi),Ie=b.get(Ai);(function x($){const ee=b.get(yi);ee.events.pipe((0,me.h)(Ie=>Ie instanceof Nt||Ie instanceof Fe||Ie instanceof We),(0,qt.U)(Ie=>{if(Ie instanceof Nt)return!0;const Qe=ee.navigationId!==Ie.id,Vt=Ie instanceof Fe&&-1!==Ie.reason.indexOf(Br);return!(!Qe&&!Vt)&&null}),(0,me.h)(Ie=>null!==Ie),(0,Sn.q)(1)).subscribe(()=>{$()})})(()=>{$(!0),E=!0}),ee.afterPreactivation=()=>($(!0),E||Ie.closed?(0,Ze.of)(void 0):Ie),ee.initialNavigation()}))}}]:[]]}const Ai=new F.OlP("",{factory:()=>new ct.xQ}),Mo=new F.OlP("");function Fi(b){return[xs,{provide:Gt,useExisting:xs},{provide:nc,useExisting:b}]}},3942:(Jt,lt,O)=>{"use strict";O.d(lt,{Z:()=>et});var c=O(2090),F=O(4859),G=O(2951),Ae=O(1877);class Ee{constructor(ye,je){this._delegate=ye,this.firebase=je,(0,G._addComponent)(ye,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ye,je=G._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const J=this._delegate.container.getProvider(ye);return!J.isInitialized()&&"EXPLICIT"===(null===(Ze=J.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&J.initialize(),J.getImmediate({identifier:je})}_removeServiceInstance(ye,je=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(je)}_addComponent(ye){(0,G._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,G._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function fe(){const he=function Me(he){const ye={},je={__esModule:!0,initializeApp:function nt(ct,It={}){const le=G.initializeApp(ct,It);if((0,c.r3)(ye,le.name))return ye[le.name];const Ce=new he(le,je);return ye[le.name]=Ce,Ce},app:J,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function st(ct){const It=ct.name,le=It.replace("-compat","");if(G._registerComponent(ct)&&"PUBLIC"===ct.type){const Ce=(se=J())=>{if("function"!=typeof se[le])throw de.create("invalid-app-argument",{appName:It});return se[le]()};void 0!==ct.serviceProps&&(0,c.ZB)(Ce,ct.serviceProps),je[le]=Ce,he.prototype[le]=function(...se){return this._getService.bind(this,It).apply(this,ct.multipleInstances?se:[])}}return"PUBLIC"===ct.type?je[le]:null},removeApp:function Ze(ct){delete ye[ct]},useAsService:function Xe(ct,It){return"serverAuth"===It?null:It},modularAPIs:G}};function J(ct){if(!(0,c.r3)(ye,ct=ct||G._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:ct});return ye[ct]}return je.default=je,Object.defineProperty(je,"apps",{get:function $e(){return Object.keys(ye).map(ct=>ye[ct])}}),J.App=he,je}(Ee);return he.INTERNAL=Object.assign(Object.assign({},he.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function ye(je){(0,c.ZB)(he,je)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),he}(),Q=new Ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const he=self.firebase.SDK_VERSION;he&&he.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=re;!function Te(he){(0,G.registerVersion)("@firebase/app-compat","0.2.13",he)}()},2951:(Jt,lt,O)=>{"use strict";O.r(lt),O.d(lt,{FirebaseError:()=>Ae.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>or,_addComponent:()=>Pt,_addOrOverwriteComponent:()=>mt,_apps:()=>Fe,_clearComponents:()=>Qt,_components:()=>We,_getProvider:()=>qn,_registerComponent:()=>jt,_removeServiceInstance:()=>fr,deleteApp:()=>bn,getApp:()=>wn,getApps:()=>jr,initializeApp:()=>En,onLog:()=>Br,registerVersion:()=>Yn,setLogLevel:()=>lr});var c=O(5861),F=O(4859),G=O(1877),Ae=O(2090);let Y,de;const re=new WeakMap,Q=new WeakMap,oe=new WeakMap,Z=new WeakMap,Te=new WeakMap;let ye={get(gt,ot,xt){if(gt instanceof IDBTransaction){if("done"===ot)return Q.get(gt);if("objectStoreNames"===ot)return gt.objectStoreNames||oe.get(gt);if("store"===ot)return xt.objectStoreNames[1]?void 0:xt.objectStore(xt.objectStoreNames[0])}return nt(gt[ot])},set:(gt,ot,xt)=>(gt[ot]=xt,!0),has:(gt,ot)=>gt instanceof IDBTransaction&&("done"===ot||"store"===ot)||ot in gt};function J(gt){return"function"==typeof gt?function Ze(gt){return gt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(gt)?function(...ot){return gt.apply($e(this),ot),nt(re.get(this))}:function(...ot){return nt(gt.apply($e(this),ot))}:function(ot,...xt){const cn=gt.call($e(this),ot,...xt);return oe.set(cn,ot.sort?ot.sort():[ot]),nt(cn)}}(gt):(gt instanceof IDBTransaction&&function he(gt){if(Q.has(gt))return;const ot=new Promise((xt,cn)=>{const dn=()=>{gt.removeEventListener("complete",Xt),gt.removeEventListener("error",Jn),gt.removeEventListener("abort",Jn)},Xt=()=>{xt(),dn()},Jn=()=>{cn(gt.error||new DOMException("AbortError","AbortError")),dn()};gt.addEventListener("complete",Xt),gt.addEventListener("error",Jn),gt.addEventListener("abort",Jn)});Q.set(gt,ot)}(gt),((gt,ot)=>ot.some(xt=>gt instanceof xt))(gt,function Me(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(gt,ye):gt)}function nt(gt){if(gt instanceof IDBRequest)return function et(gt){const ot=new Promise((xt,cn)=>{const dn=()=>{gt.removeEventListener("success",Xt),gt.removeEventListener("error",Jn)},Xt=()=>{xt(nt(gt.result)),dn()},Jn=()=>{cn(gt.error),dn()};gt.addEventListener("success",Xt),gt.addEventListener("error",Jn)});return ot.then(xt=>{xt instanceof IDBCursor&&re.set(xt,gt)}).catch(()=>{}),Te.set(ot,gt),ot}(gt);if(Z.has(gt))return Z.get(gt);const ot=J(gt);return ot!==gt&&(Z.set(gt,ot),Te.set(ot,gt)),ot}const $e=gt=>Te.get(gt),ct=["get","getKey","getAll","getAllKeys","count"],It=["put","add","delete","clear"],le=new Map;function Ce(gt,ot){if(!(gt instanceof IDBDatabase)||ot in gt||"string"!=typeof ot)return;if(le.get(ot))return le.get(ot);const xt=ot.replace(/FromIndex$/,""),cn=ot!==xt,dn=It.includes(xt);if(!(xt in(cn?IDBIndex:IDBObjectStore).prototype)||!dn&&!ct.includes(xt))return;const Xt=function(){var Jn=(0,c.Z)(function*(vn,...rr){const Qr=this.transaction(vn,dn?"readwrite":"readonly");let Wr=Qr.store;return cn&&(Wr=Wr.index(rr.shift())),(yield Promise.all([Wr[xt](...rr),dn&&Qr.done]))[0]});return function(rr){return Jn.apply(this,arguments)}}();return le.set(ot,Xt),Xt}!function je(gt){ye=gt(ye)}(gt=>({...gt,get:(ot,xt,cn)=>Ce(ot,xt)||gt.get(ot,xt,cn),has:(ot,xt)=>!!Ce(ot,xt)||gt.has(ot,xt)}));class se{constructor(ot){this.container=ot}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function me(gt){return"VERSION"===gt.getComponent()?.type}(xt)){const cn=xt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(xt=>xt).join(" ")}}const W="@firebase/app",Ne=new G.Yd("@firebase/app"),or="[DEFAULT]",Nt={[W]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fe=new Map,We=new Map;function Pt(gt,ot){try{gt.container.addComponent(ot)}catch(xt){Ne.debug(`Component ${ot.name} failed to register with FirebaseApp ${gt.name}`,xt)}}function mt(gt,ot){gt.container.addOrOverwriteComponent(ot)}function jt(gt){const ot=gt.name;if(We.has(ot))return Ne.debug(`There were multiple attempts to register component ${ot}.`),!1;We.set(ot,gt);for(const xt of Fe.values())Pt(xt,gt);return!0}function qn(gt,ot){const xt=gt.container.getProvider("heartbeat").getImmediate({optional:!0});return xt&&xt.triggerHeartbeat(),gt.container.getProvider(ot)}function fr(gt,ot,xt=or){qn(gt,ot).clearInstance(xt)}function Qt(){We.clear()}const yr=new Ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $r{constructor(ot,xt,cn){this._isDeleted=!1,this._options=Object.assign({},ot),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ot){this._isDeleted=ot}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Kn="9.23.0";function En(gt,ot={}){let xt=gt;"object"!=typeof ot&&(ot={name:ot});const cn=Object.assign({name:or,automaticDataCollectionEnabled:!1},ot),dn=cn.name;if("string"!=typeof dn||!dn)throw yr.create("bad-app-name",{appName:String(dn)});if(xt||(xt=(0,Ae.aH)()),!xt)throw yr.create("no-options");const Xt=Fe.get(dn);if(Xt){if((0,Ae.vZ)(xt,Xt.options)&&(0,Ae.vZ)(cn,Xt.config))return Xt;throw yr.create("duplicate-app",{appName:dn})}const Jn=new F.H0(dn);for(const rr of We.values())Jn.addComponent(rr);const vn=new $r(xt,cn,Jn);return Fe.set(dn,vn),vn}function wn(gt=or){const ot=Fe.get(gt);if(!ot&&gt===or&&(0,Ae.aH)())return En();if(!ot)throw yr.create("no-app",{appName:gt});return ot}function jr(){return Array.from(Fe.values())}function bn(gt){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(gt){const ot=gt.name;Fe.has(ot)&&(Fe.delete(ot),yield Promise.all(gt.container.getProviders().map(xt=>xt.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function Yn(gt,ot,xt){var cn;let dn=null!==(cn=Nt[gt])&&void 0!==cn?cn:gt;xt&&(dn+=`-${xt}`);const Xt=dn.match(/\s|\//),Jn=ot.match(/\s|\//);if(Xt||Jn){const vn=[`Unable to register library "${dn}" with version "${ot}":`];return Xt&&vn.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),Xt&&Jn&&vn.push("and"),Jn&&vn.push(`version name "${ot}" contains illegal characters (whitespace or "/")`),void Ne.warn(vn.join(" "))}jt(new F.wA(`${dn}-version`,()=>({library:dn,version:ot}),"VERSION"))}function Br(gt,ot){if(null!==gt&&"function"!=typeof gt)throw yr.create("invalid-log-argument");(0,G.Am)(gt,ot)}function lr(gt){(0,G.Ub)(gt)}const Oe="firebase-heartbeat-store";let be=null;function qe(){return be||(be=function st(gt,ot,{blocked:xt,upgrade:cn,blocking:dn,terminated:Xt}={}){const Jn=indexedDB.open(gt,ot),vn=nt(Jn);return cn&&Jn.addEventListener("upgradeneeded",rr=>{cn(nt(Jn.result),rr.oldVersion,rr.newVersion,nt(Jn.transaction),rr)}),xt&&Jn.addEventListener("blocked",rr=>xt(rr.oldVersion,rr.newVersion,rr)),vn.then(rr=>{Xt&&rr.addEventListener("close",()=>Xt()),dn&&rr.addEventListener("versionchange",Qr=>dn(Qr.oldVersion,Qr.newVersion,Qr))}).catch(()=>{}),vn}("firebase-heartbeat-database",1,{upgrade:(gt,ot)=>{0===ot&&gt.createObjectStore(Oe)}}).catch(gt=>{throw yr.create("idb-open",{originalErrorMessage:gt.message})})),be}function yt(){return(yt=(0,c.Z)(function*(gt){try{return yield(yield qe()).transaction(Oe).objectStore(Oe).get(Pn(gt))}catch(ot){if(ot instanceof Ae.ZR)Ne.warn(ot.message);else{const xt=yr.create("idb-get",{originalErrorMessage:ot?.message});Ne.warn(xt.message)}}})).apply(this,arguments)}function fn(gt,ot){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(gt,ot){try{const cn=(yield qe()).transaction(Oe,"readwrite");yield cn.objectStore(Oe).put(ot,Pn(gt)),yield cn.done}catch(xt){if(xt instanceof Ae.ZR)Ne.warn(xt.message);else{const cn=yr.create("idb-set",{originalErrorMessage:xt?.message});Ne.warn(cn.message)}}})).apply(this,arguments)}function Pn(gt){return`${gt.name}!${gt.options.appId}`}class Ye{constructor(ot){this.container=ot,this._heartbeatsCache=null;const xt=this.container.getProvider("app").getImmediate();this._storage=new Be(xt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var ot=this;return(0,c.Z)(function*(){const cn=ot.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=we();if(null===ot._heartbeatsCache&&(ot._heartbeatsCache=yield ot._heartbeatsCachePromise),ot._heartbeatsCache.lastSentHeartbeatDate!==dn&&!ot._heartbeatsCache.heartbeats.some(Xt=>Xt.date===dn))return ot._heartbeatsCache.heartbeats.push({date:dn,agent:cn}),ot._heartbeatsCache.heartbeats=ot._heartbeatsCache.heartbeats.filter(Xt=>{const Jn=new Date(Xt.date).valueOf();return Date.now()-Jn<=2592e6}),ot._storage.overwrite(ot._heartbeatsCache)})()}getHeartbeatsHeader(){var ot=this;return(0,c.Z)(function*(){if(null===ot._heartbeatsCache&&(yield ot._heartbeatsCachePromise),null===ot._heartbeatsCache||0===ot._heartbeatsCache.heartbeats.length)return"";const xt=we(),{heartbeatsToSend:cn,unsentEntries:dn}=function ve(gt,ot=1024){const xt=[];let cn=gt.slice();for(const dn of gt){const Xt=xt.find(Jn=>Jn.agent===dn.agent);if(Xt){if(Xt.dates.push(dn.date),bt(xt)>ot){Xt.dates.pop();break}}else if(xt.push({agent:dn.agent,dates:[dn.date]}),bt(xt)>ot){xt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:xt,unsentEntries:cn}}(ot._heartbeatsCache.heartbeats),Xt=(0,Ae.L)(JSON.stringify({version:2,heartbeats:cn}));return ot._heartbeatsCache.lastSentHeartbeatDate=xt,dn.length>0?(ot._heartbeatsCache.heartbeats=dn,yield ot._storage.overwrite(ot._heartbeatsCache)):(ot._heartbeatsCache.heartbeats=[],ot._storage.overwrite(ot._heartbeatsCache)),Xt})()}}function we(){return(new Date).toISOString().substring(0,10)}class Be{constructor(ot){this.app=ot,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Ae.hl)()&&(0,Ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ot=this;return(0,c.Z)(function*(){return(yield ot._canUseIndexedDBPromise)&&(yield function kt(gt){return yt.apply(this,arguments)}(ot.app))||{heartbeats:[]}})()}overwrite(ot){var xt=this;return(0,c.Z)(function*(){var cn;if(yield xt._canUseIndexedDBPromise){const Xt=yield xt.read();return fn(xt.app,{lastSentHeartbeatDate:null!==(cn=ot.lastSentHeartbeatDate)&&void 0!==cn?cn:Xt.lastSentHeartbeatDate,heartbeats:ot.heartbeats})}})()}add(ot){var xt=this;return(0,c.Z)(function*(){var cn;if(yield xt._canUseIndexedDBPromise){const Xt=yield xt.read();return fn(xt.app,{lastSentHeartbeatDate:null!==(cn=ot.lastSentHeartbeatDate)&&void 0!==cn?cn:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...ot.heartbeats]})}})()}}function bt(gt){return(0,Ae.L)(JSON.stringify({version:2,heartbeats:gt})).length}!function on(gt){jt(new F.wA("platform-logger",ot=>new se(ot),"PRIVATE")),jt(new F.wA("heartbeat",ot=>new Ye(ot),"PRIVATE")),Yn(W,"0.9.13",gt),Yn(W,"0.9.13","esm2017"),Yn("fire-js","")}("")},4859:(Jt,lt,O)=>{"use strict";O.d(lt,{H0:()=>Me,wA:()=>G});var c=O(5861),F=O(2090);class G{constructor(re,Q,oe){this.name=re,this.instanceFactory=Q,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const Ae="[DEFAULT]";class Ee{constructor(re,Q){this.name=re,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const Q=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(Q)){const oe=new F.BH;if(this.instancesDeferred.set(Q,oe),this.isInitialized(Q)||this.shouldAutoInitialize())try{const Z=this.getOrInitializeService({instanceIdentifier:Q});Z&&oe.resolve(Z)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(re){var Q;const oe=this.normalizeInstanceIdentifier(re?.identifier),Z=null!==(Q=re?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Te){if(Z)return null;throw Te}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function de(fe){return"EAGER"===fe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch{}for(const[Q,oe]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(Q);try{const Te=this.getOrInitializeService({instanceIdentifier:Z});oe.resolve(Te)}catch{}}}}clearInstance(re=Ae){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,c.Z)(function*(){const Q=Array.from(re.instances.values());yield Promise.all([...Q.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...Q.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=Ae){return this.instances.has(re)}getOptions(re=Ae){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:Q={}}=re,oe=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:oe,options:Q});for(const[Te,et]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Te)&&et.resolve(Z);return Z}onInit(re,Q){var oe;const Z=this.normalizeInstanceIdentifier(Q),Te=null!==(oe=this.onInitCallbacks.get(Z))&&void 0!==oe?oe:new Set;Te.add(re),this.onInitCallbacks.set(Z,Te);const et=this.instances.get(Z);return et&&re(et,Z),()=>{Te.delete(re)}}invokeOnInitCallbacks(re,Q){const oe=this.onInitCallbacks.get(Q);if(oe)for(const Z of oe)try{Z(re,Q)}catch{}}getOrInitializeService({instanceIdentifier:re,options:Q={}}){let oe=this.instances.get(re);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=re,fe===Ae?void 0:fe),options:Q}),this.instances.set(re,oe),this.instancesOptions.set(re,Q),this.invokeOnInitCallbacks(oe,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,oe)}catch{}var fe;return oe||null}normalizeInstanceIdentifier(re=Ae){return this.component?this.component.multipleInstances?re:Ae:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const Q=this.getProvider(re.name);if(Q.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);Q.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const Q=new Ee(re,this);return this.providers.set(re,Q),Q}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,lt,O)=>{"use strict";O.d(lt,{Am:()=>fe,Ub:()=>Me,Yd:()=>de,in:()=>F});const c=[];var F=(()=>{return(re=F||(F={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",F;var re})();const G={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},Ae=F.INFO,Ee={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Y=(re,Q,...oe)=>{if(Q<re.logLevel)return;const Z=(new Date).toISOString(),Te=Ee[Q];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Te](`[${Z}]  ${re.name}:`,...oe)};class de{constructor(Q){this.name=Q,this._logLevel=Ae,this._logHandler=Y,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in F))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?G[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...Q),this._logHandler(this,F.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...Q),this._logHandler(this,F.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,F.INFO,...Q),this._logHandler(this,F.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,F.WARN,...Q),this._logHandler(this,F.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...Q),this._logHandler(this,F.ERROR,...Q)}}function Me(re){c.forEach(Q=>{Q.setLogLevel(re)})}function fe(re,Q){for(const oe of c){let Z=null;Q&&Q.level&&(Z=G[Q.level]),oe.userLogHandler=null===re?null:(Te,et,...he)=>{const ye=he.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch{return null}}).filter(je=>je).join(" ");et>=(Z??Te.logLevel)&&re({level:F[et].toLowerCase(),message:ye,args:he,type:Te.name})}}}},5861:(Jt,lt,O)=>{"use strict";function c(G,Ae,Ee,Y,de,Me,fe){try{var re=G[Me](fe),Q=re.value}catch(oe){return void Ee(oe)}re.done?Ae(Q):Promise.resolve(Q).then(Y,de)}function F(G){return function(){var Ae=this,Ee=arguments;return new Promise(function(Y,de){var Me=G.apply(Ae,Ee);function fe(Q){c(Me,Y,de,fe,re,"next",Q)}function re(Q){c(Me,Y,de,fe,re,"throw",Q)}fe(void 0)})}}O.d(lt,{Z:()=>F})}},Jt=>{Jt(Jt.s=9271)}]);
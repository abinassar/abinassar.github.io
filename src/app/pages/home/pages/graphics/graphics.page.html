<ion-header>
  <ion-toolbar>
    <ion-buttons slot="primary" class="ion-text-center">
      <ion-button (click)="changeSelectedLink()">
        {{settingsService.linkSettings.linkName}}
      </ion-button>
    </ion-buttons>
    <ion-title>Gráficas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true"
             class="ion-padding">

  <ion-row class="cellphone-width justify-content-center align-items-center"
           *ngIf="showMap">
    <ion-col>
      <app-global-map class="map-container"
                      (showFullScreenMap)="showFullScreenMap()"
                      [P1]="P1"
                      [P2]="P2"
                      [insideComponent]="true"></app-global-map>
    </ion-col>
  </ion-row>
  
  <ion-card class="ion-padding">

    <ion-card-header>
      <ion-card-title>Estadisticas del enlace:</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-grid [formGroup]="settingsForm"
                *ngIf="showForm">
        <ion-row>
          <h3>
            Punto inicial
          </h3>
        </ion-row>
        <ion-row class="ion-padding">
          <ion-col>
            <ion-item>
              <ion-input fill="outline"
                         label="Latitud" 
                         labelPlacement="floating" 
                         placeholder="Ingresa latitud" 
                         type="number"
                         formControlName="initialLat"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-input fill="outline"
                         label="Longitud"
                         labelPlacement="floating" 
                         placeholder="Ingresa longitud" 
                         type="number"
                         formControlName="initialLng"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
    
        <ion-row>
          <h3>
            Punto final
          </h3>
        </ion-row>
        <ion-row class="ion-padding">
          <ion-col>
            <ion-item>
              <ion-input fill="outline"
                         label="Latitud" 
                         labelPlacement="floating" 
                         placeholder="Ingresa latitud" 
                         type="number"
                         formControlName="finalLat"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-input fill="outline"
                         label="Longitud"
                         labelPlacement="floating" 
                         placeholder="Ingresa longitud" 
                         type="number"
                         formControlName="finalLng"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <h3>
            Frecuencia
          </h3>
        </ion-row>
        <ion-row class="ion-padding">
          <ion-col>
            <ion-item>
              <ion-input fill="outline"
                         label="Frecuencia"
                        labelPlacement="floating" 
                        placeholder="Ingresa frecuencia" 
                        type="number"
                        formControlName="frecuency"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col size="4">
            <ion-select aria-label="Frecuencia"
                        formControlName="frecuencyUnit">
              <ion-select-option *ngFor="let frecuency of frecuenciesUnits" 
                                 value="{{frecuency}}">
                                 {{frecuency}}                  
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
    
        <ion-row>
          <h3>
            Altura de antenas
          </h3>
        </ion-row>
    
        <ion-row class="ion-padding">
          <ion-col>
            <h6>
              Altura Antena Initial
            </h6>
            <ion-item>
              <ion-input fill="outline"
                         label="Altura antena inicial"
                         labelPlacement="floating" 
                         placeholder="Ingresa Altura" 
                         type="number"
                         formControlName="antennaInitialHeight"></ion-input>
                <h4 class="ml-10px">
                  mts
                </h4>
            </ion-item>
          </ion-col>
          <ion-col>
            <h6>
              Altura Antena Final
            </h6>
            <ion-item>
              <ion-input fill="outline"
                         label="Altura antena final"
                         labelPlacement="floating" 
                         placeholder="Ingresa Altura" 
                         type="number"
                         formControlName="antennaFinalHeight"></ion-input>
                <h4 class="ml-10px">
                  mts
                </h4>
            </ion-item>
          </ion-col>
    
        </ion-row>
      </ion-grid>
    </ion-card-content>
  
  </ion-card>

  <ion-card class="ion-padding">
    <ion-card-header>
      <ion-card-title>Gráficas:</ion-card-title>
    </ion-card-header>
  
    <ion-item detail 
              (click)="navToProfileGraph()">
      <ion-avatar slot="start">
        <img alt="Silhouette of a person's head" src="../../../../../assets/images/telecom-towers.png" />
      </ion-avatar>
      <ion-label> 
        Perfil de elevación 
      </ion-label>
    </ion-item>
  
    <ion-item detail
              (click)="navToAtenuationGraph()">
      <ion-avatar slot="start">
        <img alt="Silhouette of a person's head" src="../../../../../assets/images/desert.png" />
      </ion-avatar>
      <ion-label> Atenuacion en aire seco </ion-label>
    </ion-item>
  
    <ion-item detail
              (click)="navToAtenuationVaporGraph()">
      <ion-avatar slot="start">
        <img alt="Silhouette of a person's head" src="../../../../../assets/images/storm.jpg" />
      </ion-avatar>
      <ion-label> Atenuacion debido a Vapor de Agua </ion-label>
    </ion-item>
  </ion-card>

</ion-content>

<ion-fab slot="fixed" 
          vertical="bottom" 
          horizontal="end">
  <ion-fab-button>
    <ion-icon name="settings-outline"></ion-icon>
  </ion-fab-button>
  <ion-fab-list side="top">
    <ion-fab-button (click)="saveLinkSettings()">
      <ion-icon name="refresh"></ion-icon>
    </ion-fab-button>
  </ion-fab-list>
</ion-fab>